/*! For license information please see bundle.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(666)},87:function(e,t,n){"use strict";var r=n(81),i=n.n(r),s=n(645),o=n.n(s)()(i());o.push([e.id,"@import url(https://fonts.googleapis.com/css2?family=Jua&family=Noto+Sans+KR:wght@300&family=Noto+Serif+KR:wght@300&display=swap);"]),o.push([e.id,"* {\r\n  padding: 0;\r\n  margin: 0;\r\n  font-family: var(--font-jua);\r\n}\r\n:root {\r\n  --font-jua: 'Jua', sans-serif;\r\n  --font-notoSerif: 'Noto Serif KR', serif;\r\n  --font-notoSans: 'Noto Sans KR', sans-serif;\r\n}\r\n\r\n.App {\r\n  background-color: #e0d1ba86;\r\n  height: 110vh;\r\n  font-family: var(--font-jua);\r\n}\r\n.header-wrapper {\r\n  height: 10%;\r\n}\r\n.seatDisplay-container {\r\n  align-content: space-between;\r\n}\r\n",""]),t.Z=o},594:function(e,t,n){"use strict";var r=n(81),i=n.n(r),s=n(645),o=n.n(s)()(i());o.push([e.id,":root {\r\n  --button-fontSize-sm: 1.3em;\r\n  --button-fontSize-md: 1.8em;\r\n}\r\n/* mobile */\r\n.baseButton {\r\n  width: 100%;\r\n  height: 100%;\r\n  border-radius: 10px;\r\n  border: none;\r\n  box-shadow: 3px 3px 5px rgba(128, 128, 128, 0.75);\r\n  background-color: #1D757D;\r\n  cursor: pointer;\r\n  color: white;\r\n  font-size: var(--button-fontSize-sm);\r\n  text-align: center;\r\n}\r\n\r\n/* Tablet, PC */\r\n@media only screen and (min-width: 768px) {\r\n  .baseButton {\r\n    font-size: var(--button-fontSize-md);\r\n  }\r\n}\r\n",""]),t.Z=o},411:function(e,t,n){"use strict";var r=n(81),i=n.n(r),s=n(645),o=n.n(s)()(i());o.push([e.id,".currentSeatDisplay {\r\n  background-color: transparent;\r\n  display: flex;\r\n  justify-content: left;\r\n  align-items: center;\r\n}\r\n\r\n.currentSeatDisplay--vacant {\r\n  color: #dd712b;\r\n}\r\n\r\n.currentSeatDisplay--occupied {\r\n  color: #1d757d;\r\n  opacity: .8;\r\n}\r\n\r\n.status,\r\n.seatsNumber {\r\n  font-size: 1.5em;\r\n  margin: 5px;\r\n  width: 100px;\r\n}\r\n",""]),t.Z=o},981:function(e,t,n){"use strict";var r=n(81),i=n.n(r),s=n(645),o=n.n(s),a=n(667),l=n.n(a),u=new URL(n(189),n.b),c=o()(i()),h=l()(u);c.push([e.id,":root {\r\n  --form-fontSize-sm: 1em;\r\n  --form-fontSize-md: 1.5em;\r\n}\r\n\r\n/* mobile */\r\n.form {\r\n  align-items: center;\r\n  background-color: transparent;\r\n  display: flex;\r\n  height: inherit;\r\n  margin: 20px 0;\r\n  font-size: var(--form-fontSize-sm);\r\n}\r\n  \r\n.form-label {\r\n  color: #DD712B;\r\n  text-align: left;\r\n  width: 30%;\r\n  font-size: var(--form-fontSize-sm);\r\n}\r\n\r\n.form-block {\r\n  border-radius: 10px;\r\n  border-style: solid;\r\n  border-width: 2px;\r\n  height: 100%;\r\n  width: 70%;\r\n  box-sizing: border-box;\r\n  font-size: var(--form-fontSize-sm);\r\n  padding: 8px;\r\n}\r\n\r\n.form-block-arrow {\r\n  -webkit-appearance: none;\r\n  -moz-appearance: none;\r\n  background-color: #fff;\r\n  background-image: url("+h+");\r\n  background-repeat: no-repeat;\r\n  background-position-x: 100%;\r\n  background-position-y: 50%;\r\n}\r\n/* Tablet */\r\n@media only screen and (min-width: 576px) {\r\n  .form {\r\n    font-size: var(--form-fontSize-md);\r\n  }\r\n}\r\n",""]),t.Z=c},445:function(e,t,n){"use strict";var r=n(81),i=n.n(r),s=n(645),o=n.n(s)()(i());o.push([e.id,".icon-button {\r\n  background: none;\r\n  border: none;\r\n  cursor: pointer;\r\n}\r\n",""]),t.Z=o},708:function(e,t,n){"use strict";var r=n(81),i=n.n(r),s=n(645),o=n.n(s)()(i());o.push([e.id,".modal-background {\r\n  width: 100%;\r\n  height: 110vh;\r\n  background-color: rgba(255, 255, 255, 0.7);\r\n  position: absolute;\r\n  top: 0;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n.modal-wrapper {\r\n  width: 90%;\r\n  height: 60vh;\r\n  background-color: #e0d1ba;\r\n  border-radius: 10px;\r\n  box-shadow: 2px 3px 5px 3px #9e9689;\r\n  padding: 10px;\r\n  margin-top: -100px;\r\n  overflow-y: hidden;\r\n  scrollbar-width: none;\r\n}\r\n.modal-wrapper::-webkit-scrollbar {\r\n  display: none;\r\n}\r\n.modal-section {\r\n  height: 100%;\r\n}\r\n.modal-header .icon-button {\r\n  display: flex;\r\n  justify-content: end;\r\n}\r\n.modal-header {\r\n  height: 5%;\r\n}\r\n.closeIcon-wrapper {\r\n  display: flex;\r\n  justify-content: end;\r\n}\r\n.closeIcon-wrapper img {\r\n  width: 20px;\r\n  height: 20px;\r\n}\r\n@media only screen and (min-width: 768px) {\r\n  .modal-wrapper {\r\n    width: 70%;\r\n    padding: 30px;\r\n  }\r\n}\r\n@media only screen and (min-width: 992px) {\r\n  .modal-wrapper {\r\n    width: 60%;\r\n    padding: 40px;\r\n  }\r\n}\r\n",""]),t.Z=o},647:function(e,t,n){"use strict";var r=n(81),i=n.n(r),s=n(645),o=n.n(s)()(i());o.push([e.id,".seatMap-container {\r\n  display: flex;\r\n  flex-flow: row wrap;\r\n  -ms-flex-flow: row wrap;\r\n  justify-content: space-between;\r\n  margin-top: 50px;\r\n}\r\n\r\n@media only screen and (min-width: 768px) {\r\n  .seatMap-container {\r\n    display: flex;\r\n    flex-flow: row wrap;\r\n    -ms-flex-flow: row wrap;\r\n    justify-content: space-between;\r\n    margin-top: 60px;\r\n  }\r\n} \r\n\r\n@media only screen and (min-width: 992px) {\r\n  .seatMap-container {\r\n    display: grid;\r\n    grid-template-columns: repeat(30, 10px);\r\n    grid-template-rows: repeat(11, 10px);\r\n    grid-gap: 25px;\r\n    justify-content: center;\r\n    margin-top: 100px;\r\n  }\r\n\r\n  #seat0{\r\n    margin: 0;\r\n    grid-column: 10 / 15;\r\n    grid-row: 9 / 12;\r\n  }\r\n  #seat1{\r\n    margin: 0;\r\n    grid-column: 5 / 10;\r\n    grid-row: 9 / 12;\r\n  }\r\n  #seat2{\r\n    margin: 0;\r\n    grid-column: 1 / 6;\r\n    grid-row: 8 / 11;\r\n    transform: rotate(-90deg);\r\n  }\r\n  #seat3{\r\n    margin: 0;\r\n    grid-column: 1 / 6;\r\n    grid-row: 2 / 5;\r\n    transform: rotate(-90deg);\r\n  }\r\n  #seat4{\r\n    margin: 0;\r\n    grid-column: 5 / 10;\r\n    grid-row: 1 / 4;\r\n  }\r\n  #seat5{\r\n    margin: 0;\r\n    grid-column: 10 / 15;\r\n    grid-row: 1 / 4;\r\n  }\r\n  #seat6{\r\n    margin: 0;\r\n    grid-column: 15 / 20;\r\n    grid-row: 1 / 4;\r\n  }\r\n  #seat7{\r\n    margin: 0;\r\n    grid-column: 20 / 25;\r\n    grid-row: 1 / 4;\r\n  }\r\n  #seat8{\r\n    margin: 0;\r\n    grid-column: 25 / 30;\r\n    grid-row: 1 / 4;\r\n  }\r\n  #seat9{\r\n    margin: 0;\r\n    grid-column: 26 / 31;\r\n    grid-row: 5 / 8;\r\n    transform: rotate(90deg);\r\n  }\r\n  #seat10{\r\n    margin: 0;\r\n    grid-column: 20 / 25;\r\n    grid-row: 9 / 12;\r\n  }\r\n  #seat11{\r\n    margin: 0;\r\n    grid-column: 25 / 30;\r\n    grid-row: 9 / 12;\r\n  }\r\n}\r\n",""]),t.Z=o},992:function(e,t,n){"use strict";var r=n(81),i=n.n(r),s=n(645),o=n.n(s)()(i());o.push([e.id,".seat {\r\n  border: none;\r\n  border-radius: 10px;\r\n  cursor: pointer;\r\n  margin: 0 7px 20px;\r\n  padding: 3px;\r\n  height: 70px;\r\n  flex-basis: 70px;\r\n  flex-grow: 0;\r\n  flex-shrink: 0;\r\n}\r\n.seat-info {\r\n  color: #1D757D;\r\n  font-size: 1.5em;\r\n  font-weight: bold;\r\n  height: 70%;\r\n  text-align: center;\r\n}\r\n\r\n@media only screen and (min-width: 360px) {\r\n  .seat {\r\n    height: 80px;\r\n    flex-basis: 80px;  \r\n  }\r\n}\r\n\r\n@media only screen and (min-width: 768px) {\r\n  .seat {\r\n    min-height: 100px;\r\n    min-width: 100px;\r\n    margin: 20px;\r\n  }\r\n  .seat-info {\r\n    font-size: 2em;\r\n  }\r\n}\r\n\r\n@media only screen and (min-width: 992px) {\r\n  .seat {\r\n    min-height: 80px;\r\n    min-width: 80px;\r\n  }\r\n}\r\n.seat-vacant {\r\n  background-color: #DD712B;\r\n  box-shadow: 3px 3px 3px 1px #D6CAB0;\r\n}\r\n.seat-occupied {\r\n  background-color: #E0D1BA;\r\n}\r\n.seat-number {\r\n  font-size: 1em;\r\n  height: 30%;\r\n  padding: 3px;\r\n  text-align: left;\r\n}\r\n.seat-number-vacant {\r\n  color: #E0D1BA;\r\n  pointer-events: none;\r\n}\r\n.seat-number-occupied {\r\n  color: #DD712B;\r\n}\r\n\r\n",""]),t.Z=o},56:function(e,t,n){"use strict";var r=n(81),i=n.n(r),s=n(645),o=n.n(s)()(i());o.push([e.id,":root {\r\n  --title-fontSize-sm: 1.5em;\r\n  --title-fontSize-md: 2em;\r\n}\r\n\r\n/* mobile */\r\n.checkoutModal-container {\r\n  height: 75%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  width: 80%;\r\n  margin: 5% auto;\r\n}\r\n.checkoutModal-item {\r\n  flex-basis: 50px;\r\n}\r\n#checkoutModal-title {\r\n  font-size: var(--title-fontSize-sm);\r\n  font-weight: 700;\r\n  color: #1D757D;\r\n}\r\n.textButton {\r\n  margin: 10px 0;\r\n  height: 40px;\r\n}\r\n#extensionButton .baseButton {\r\n  background-color: #1D757D;\r\n}\r\n.horizontalRules {\r\n  width: 100%;\r\n  margin: 20px 0;\r\n} \r\n\r\n/*  tablet */\r\n@media only screen and (min-width: 768px) {\r\n  .checkoutModal-container {\r\n    width: 70%;\r\n  }\r\n  #checkoutModal-title {\r\n    font-size: var(--title-fontSize-md);\r\n  }\r\n  .checkoutModal-item {\r\n    flex-basis: 60px;\r\n  }  \r\n}\r\n\r\n /* PC */\r\n@media only screen and (min-width: 992px) {\r\n  .horizontalRules {\r\n    margin: 35px 0;\r\n  } \r\n}\r\n",""]),t.Z=o},400:function(e,t,n){"use strict";var r=n(81),i=n.n(r),s=n(645),o=n.n(s)()(i());o.push([e.id,"  .header-wrapper {\r\n    width: 100%;\r\n    display: flex;\r\n    align-items:flex-end;\r\n    justify-content: space-between;\r\n    padding: 20px 0;\r\n  }\r\n  .mogamLogo-wrapper {\r\n    width: 40%;\r\n    display: flex;\r\n    align-items: flex-end;\r\n    margin-left: 20px;\r\n  }\r\n  .mogamLogo {\r\n    width: 60px;\r\n    height: 80px;\r\n  }\r\n  .mogamLogo-title {\r\n    font-size: 1.8em;\r\n    font-weight: bold;\r\n    color: #DD712B;\r\n    display: flex;\r\n    align-items: flex-end;\r\n    margin-left: 5px;\r\n  }\r\n  .infoIcon-wrapper {\r\n    width: 15%;\r\n    display: flex;\r\n    align-items: flex-end;\r\n    justify-content: end;\r\n    margin-right: 20px;\r\n  }\r\n  .infoIcon-wrapper img {\r\n    width: 30px;\r\n    height: 30px;\r\n  }\r\n  .notice-wrapper {\r\n    width: 90%;\r\n    height: 100%;\r\n    margin: 0 auto;\r\n  }\r\n  .notice-title {\r\n    height: 7%;\r\n    font-size: 1em;\r\n    color: #1d757d;\r\n    padding: 0 auto;\r\n  }\r\n  .notice-content {\r\n    height: 85%;\r\n    font-size: 0.8em;\r\n    padding-bottom: 10px;\r\n    white-space: pre-wrap;\r\n    overflow-y: scroll;\r\n    scrollbar-width: none;\r\n    font-family: var(--font-notoSans);\r\n  }\r\n  .notice-content::-webkit-scrollbar {\r\n    display: none;\r\n  }\r\n@media only screen and (min-width: 768px) {\r\n  .mogamLogo-wrapper {\r\n    margin-left: 50px;\r\n  }\r\n  .mogamLogo {\r\n    width: 80px;\r\n    height: 100px;\r\n  }\r\n  .mogamLogo-title {\r\n    font-size: 2em;\r\n  }\r\n  .infoIcon-wrapper {\r\n    margin-right: 50px;\r\n  }\r\n  .infoIcon-wrapper img {\r\n    width: 40px;\r\n    height: 40px;\r\n  }\r\n} \r\n@media only screen and (min-width: 992px) {\r\n  .header-wrapper {\r\n    width: 970px;\r\n    margin: 0 auto;\r\n    padding-top: 30px;\r\n  }\r\n  .mogamLogo-wrapper {\r\n    margin-left: 0;\r\n  }\r\n  .mogamLogo-wrapper {\r\n    height: 0;\r\n  }\r\n  .infoIcon-wrapper {\r\n    justify-content: end;\r\n    margin-right: 0;\r\n  }\r\n}\r\n",""]),t.Z=o},909:function(e,t,n){"use strict";var r=n(81),i=n.n(r),s=n(645),o=n.n(s)()(i());o.push([e.id,":root {\r\n  --title-fontSize-sm: 1.5em;\r\n  --title-fontSize-md: 2em;\r\n}\r\n\r\n/* mobile */\r\n.checkInModal-container {\r\n  height: 70%;\r\n  width: 80%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  margin: 5% auto;\r\n}\r\n.checkInModal-item {\r\n  flex-basis: 70px;\r\n}\r\n#checkInModal-title {\r\n  display: flex;\r\n  align-items: flex-end;\r\n  font-size: var(--title-fontSize-sm);\r\n  font-weight: 700;\r\n  color: #1D757D;\r\n}\r\n.baseButton {\r\n  margin: 10px 0;\r\n  height: 40px;\r\n  background-color: #DD712B;\r\n}\r\n\r\n/*  tablet */\r\n@media only screen and (min-width: 768px) {\r\n  .checkInModal-container {\r\n    width: 70%;\r\n  }\r\n  .checkoutModal-item {\r\n    flex-basis: 80px;\r\n  }  \r\n  #checkInModal-title {\r\n    font-size: var(--title-fontSize-md);\r\n  }\r\n}\r\n /* PC */\r\n@media only screen and (min-width: 992px) {\r\n}\r\n",""]),t.Z=o},358:function(e,t,n){"use strict";var r=n(81),i=n.n(r),s=n(645),o=n.n(s)()(i());o.push([e.id,".seatDisplay-container {\r\n  width: 90%;\r\n  margin: 20px auto;\r\n  align-content: center;\r\n}\r\n\r\n@media only screen and (min-width: 360px) {\r\n  .seatDisplay-container {\r\n    width: 80%;\r\n    align-content: center;\r\n  }  \r\n}\r\n\r\n@media only screen and (min-width: 768px) {\r\n  .seatDisplay-container {\r\n    width: 70%;\r\n    margin: 0 auto;\r\n  }\r\n}\r\n\r\n@media only screen and (min-width: 992px) {\r\n  .seatDisplay-container {\r\n    width: 970px;\r\n\r\n  }\r\n}\r\n",""]),t.Z=o},645:function(e){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,i,s){"string"==typeof e&&(e=[[null,e,void 0]]);var o={};if(r)for(var a=0;a<this.length;a++){var l=this[a][0];null!=l&&(o[l]=!0)}for(var u=0;u<e.length;u++){var c=[].concat(e[u]);r&&o[c[0]]||(void 0!==s&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=s),n&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=n):c[2]=n),i&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=i):c[4]="".concat(i)),t.push(c))}},t}},667:function(e){"use strict";e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},81:function(e){"use strict";e.exports=function(e){return e[1]}},418:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,s){for(var o,a,l=i(e),u=1;u<arguments.length;u++){for(var c in o=Object(arguments[u]))n.call(o,c)&&(l[c]=o[c]);if(t){a=t(o);for(var h=0;h<a.length;h++)r.call(o,a[h])&&(l[a[h]]=o[a[h]])}}return l}},448:function(e,t,n){"use strict";var r=n(294),i=n(418),s=n(840);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var a=new Set,l={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(l[e]=t,e=0;e<t.length;e++)a.add(t[e])}var h=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f=Object.prototype.hasOwnProperty,p={},m={};function g(e,t,n,r,i,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function w(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0===i.type:!r&&2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(m,e)||!f.call(p,e)&&(d.test(e)?m[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,w);y[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,w);y[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,w);y[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var E=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=60103,k=60106,_=60107,T=60108,I=60114,x=60109,C=60110,N=60112,A=60113,D=60120,L=60115,O=60116,P=60121,R=60128,M=60129,F=60130,U=60131;if("function"==typeof Symbol&&Symbol.for){var V=Symbol.for;S=V("react.element"),k=V("react.portal"),_=V("react.fragment"),T=V("react.strict_mode"),I=V("react.profiler"),x=V("react.provider"),C=V("react.context"),N=V("react.forward_ref"),A=V("react.suspense"),D=V("react.suspense_list"),L=V("react.memo"),O=V("react.lazy"),P=V("react.block"),V("react.scope"),R=V("react.opaque.id"),M=V("react.debug_trace_mode"),F=V("react.offscreen"),U=V("react.legacy_hidden")}var B,j="function"==typeof Symbol&&Symbol.iterator;function z(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=j&&e[j]||e["@@iterator"])?e:null}function q(e){if(void 0===B)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);B=t&&t[1]||""}return"\n"+B+e}var $=!1;function K(e,t){if(!e||$)return"";$=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(e){if(e&&r&&"string"==typeof e.stack){for(var i=e.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=a);break}}}finally{$=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?q(e):""}function H(e){switch(e.tag){case 5:return q(e.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return K(e.type,!1);case 11:return K(e.type.render,!1);case 22:return K(e.type._render,!1);case 1:return K(e.type,!0);default:return""}}function W(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case _:return"Fragment";case k:return"Portal";case I:return"Profiler";case T:return"StrictMode";case A:return"Suspense";case D:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case x:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case L:return W(e.type);case P:return W(e._render);case O:t=e._payload,e=e._init;try{return W(e(t))}catch(e){}}return null}function G(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=Q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function se(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function le(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function ue(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ce(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var he="http://www.w3.org/1999/xhtml";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var pe,me,ge=(me=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((pe=pe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=pe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ye(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ve={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},we=["Webkit","ms","Moz","O"];function be(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||ve.hasOwnProperty(e)&&ve[e]?(""+t).trim():t+"px"}function Ee(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=be(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ve).forEach((function(e){we.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ve[t]=ve[e]}))}));var Se=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ke(e,t){if(t){if(Se[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(o(62))}}function _e(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Te(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ie=null,xe=null,Ce=null;function Ne(e){if(e=ni(e)){if("function"!=typeof Ie)throw Error(o(280));var t=e.stateNode;t&&(t=ii(t),Ie(e.stateNode,e.type,t))}}function Ae(e){xe?Ce?Ce.push(e):Ce=[e]:xe=e}function De(){if(xe){var e=xe,t=Ce;if(Ce=xe=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function Le(e,t){return e(t)}function Oe(e,t,n,r,i){return e(t,n,r,i)}function Pe(){}var Re=Le,Me=!1,Fe=!1;function Ue(){null===xe&&null===Ce||(Pe(),De())}function Ve(e,t){var n=e.stateNode;if(null===n)return null;var r=ii(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(o(231,t,typeof n));return n}var Be=!1;if(h)try{var je={};Object.defineProperty(je,"passive",{get:function(){Be=!0}}),window.addEventListener("test",je,je),window.removeEventListener("test",je,je)}catch(me){Be=!1}function ze(e,t,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}var qe=!1,$e=null,Ke=!1,He=null,We={onError:function(e){qe=!0,$e=e}};function Ge(e,t,n,r,i,s,o,a,l){qe=!1,$e=null,ze.apply(We,arguments)}function Qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ye(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function Xe(e){if(Qe(e)!==e)throw Error(o(188))}function Je(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Qe(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Xe(i),e;if(s===r)return Xe(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Ze(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var et,tt,nt,rt,it=!1,st=[],ot=null,at=null,lt=null,ut=new Map,ct=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ft(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function pt(e,t){switch(e){case"focusin":case"focusout":ot=null;break;case"dragenter":case"dragleave":at=null;break;case"mouseover":case"mouseout":lt=null;break;case"pointerover":case"pointerout":ut.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ct.delete(t.pointerId)}}function mt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e=ft(t,n,r,i,s),null!==t&&null!==(t=ni(t))&&tt(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function gt(e){var t=ti(e.target);if(null!==t){var n=Qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ye(n)))return e.blockedOn=t,void rt(e.lanePriority,(function(){s.unstable_runWithPriority(e.priority,(function(){nt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function yt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ni(n))&&tt(t),e.blockedOn=n,!1;t.shift()}return!0}function vt(e,t,n){yt(e)&&n.delete(t)}function wt(){for(it=!1;0<st.length;){var e=st[0];if(null!==e.blockedOn){null!==(e=ni(e.blockedOn))&&et(e);break}for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&st.shift()}null!==ot&&yt(ot)&&(ot=null),null!==at&&yt(at)&&(at=null),null!==lt&&yt(lt)&&(lt=null),ut.forEach(vt),ct.forEach(vt)}function bt(e,t){e.blockedOn===t&&(e.blockedOn=null,it||(it=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,wt)))}function Et(e){function t(t){return bt(t,e)}if(0<st.length){bt(st[0],e);for(var n=1;n<st.length;n++){var r=st[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ot&&bt(ot,e),null!==at&&bt(at,e),null!==lt&&bt(lt,e),ut.forEach(t),ct.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)gt(n),null===n.blockedOn&&ht.shift()}function St(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kt={animationend:St("Animation","AnimationEnd"),animationiteration:St("Animation","AnimationIteration"),animationstart:St("Animation","AnimationStart"),transitionend:St("Transition","TransitionEnd")},_t={},Tt={};function It(e){if(_t[e])return _t[e];if(!kt[e])return e;var t,n=kt[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tt)return _t[e]=n[t];return e}h&&(Tt=document.createElement("div").style,"AnimationEvent"in window||(delete kt.animationend.animation,delete kt.animationiteration.animation,delete kt.animationstart.animation),"TransitionEvent"in window||delete kt.transitionend.transition);var xt=It("animationend"),Ct=It("animationiteration"),Nt=It("animationstart"),At=It("transitionend"),Dt=new Map,Lt=new Map,Ot=["abort","abort",xt,"animationEnd",Ct,"animationIteration",Nt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",At,"transitionEnd","waiting","waiting"];function Pt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Lt.set(r,t),Dt.set(r,i),u(i,[r])}}(0,s.unstable_now)();var Rt=8;function Mt(e){if(0!=(1&e))return Rt=15,1;if(0!=(2&e))return Rt=14,2;if(0!=(4&e))return Rt=13,4;var t=24&e;return 0!==t?(Rt=12,t):0!=(32&e)?(Rt=11,32):0!=(t=192&e)?(Rt=10,t):0!=(256&e)?(Rt=9,256):0!=(t=3584&e)?(Rt=8,t):0!=(4096&e)?(Rt=7,4096):0!=(t=4186112&e)?(Rt=6,t):0!=(t=62914560&e)?(Rt=5,t):67108864&e?(Rt=4,67108864):0!=(134217728&e)?(Rt=3,134217728):0!=(t=805306368&e)?(Rt=2,t):0!=(1073741824&e)?(Rt=1,1073741824):(Rt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return Rt=0;var r=0,i=0,s=e.expiredLanes,o=e.suspendedLanes,a=e.pingedLanes;if(0!==s)r=s,i=Rt=15;else if(0!=(s=134217727&n)){var l=s&~o;0!==l?(r=Mt(l),i=Rt):0!=(a&=s)&&(r=Mt(a),i=Rt)}else 0!=(s=n&~o)?(r=Mt(s),i=Rt):0!==a&&(r=Mt(a),i=Rt);if(0===r)return 0;if(r=n&((0>(r=31-qt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0==(t&o)){if(Mt(t),i<=Rt)return t;Rt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-qt(t)),r|=e[n],t&=~i;return r}function Ut(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Vt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Bt(24&~t))?Vt(10,t):e;case 10:return 0===(e=Bt(192&~t))?Vt(8,t):e;case 8:return 0===(e=Bt(3584&~t))&&0===(e=Bt(4186112&~t))&&(e=512),e;case 2:return 0===(t=Bt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function Bt(e){return e&-e}function jt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function zt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-qt(t)]=n}var qt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-($t(e)/Kt|0)|0},$t=Math.log,Kt=Math.LN2,Ht=s.unstable_UserBlockingPriority,Wt=s.unstable_runWithPriority,Gt=!0;function Qt(e,t,n,r){Me||Pe();var i=Xt,s=Me;Me=!0;try{Oe(i,e,t,n,r)}finally{(Me=s)||Ue()}}function Yt(e,t,n,r){Wt(Ht,Xt.bind(null,e,t,n,r))}function Xt(e,t,n,r){var i;if(Gt)if((i=0==(4&t))&&0<st.length&&-1<dt.indexOf(e))e=ft(null,e,t,n,r),st.push(e);else{var s=Jt(e,t,n,r);if(null===s)i&&pt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=ft(s,e,t,n,r),void st.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return ot=mt(ot,e,t,n,r,i),!0;case"dragenter":return at=mt(at,e,t,n,r,i),!0;case"mouseover":return lt=mt(lt,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return ut.set(s,mt(ut.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ct.set(s,mt(ct.get(s)||null,e,t,n,r,i)),!0}return!1}(s,e,t,n,r))return;pt(e,r)}Pr(e,t,r,null,n)}}}function Jt(e,t,n,r){var i=Te(r);if(null!==(i=ti(i))){var s=Qe(i);if(null===s)i=null;else{var o=s.tag;if(13===o){if(null!==(i=Ye(s)))return i;i=null}else if(3===o){if(s.stateNode.hydrate)return 3===s.tag?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Pr(e,t,r,i,n),null}var Zt=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,r=n.length,i="value"in Zt?Zt.value:Zt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return tn=i.slice(e,1<t?1-t:void 0)}function rn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function sn(){return!0}function on(){return!1}function an(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?sn:on,this.isPropagationStopped=on,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=sn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=sn)},persist:function(){},isPersistent:sn}),t}var ln,un,cn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=an(hn),fn=i({},hn,{view:0,detail:0}),pn=an(fn),mn=i({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(ln=e.screenX-cn.screenX,un=e.screenY-cn.screenY):un=ln=0,cn=e),ln)},movementY:function(e){return"movementY"in e?e.movementY:un}}),gn=an(mn),yn=an(i({},mn,{dataTransfer:0})),vn=an(i({},fn,{relatedTarget:0})),wn=an(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),En=an(bn),Sn=an(i({},hn,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Tn[e])&&!!t[e]}function xn(){return In}var Cn=i({},fn,{key:function(e){if(e.key){var t=kn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xn,charCode:function(e){return"keypress"===e.type?rn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Nn=an(Cn),An=an(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Dn=an(i({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xn})),Ln=an(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=an(On),Rn=[9,13,27,32],Mn=h&&"CompositionEvent"in window,Fn=null;h&&"documentMode"in document&&(Fn=document.documentMode);var Un=h&&"TextEvent"in window&&!Fn,Vn=h&&(!Mn||Fn&&8<Fn&&11>=Fn),Bn=String.fromCharCode(32),jn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var $n=!1,Kn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Kn[e.type]:"textarea"===t}function Wn(e,t,n,r){Ae(r),0<(t=Mr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Qn=null;function Yn(e){Cr(e,0)}function Xn(e){if(X(ri(e)))return e}function Jn(e,t){if("change"===e)return t}var Zn=!1;if(h){var er;if(h){var tr="oninput"in document;if(!tr){var nr=document.createElement("div");nr.setAttribute("oninput","return;"),tr="function"==typeof nr.oninput}er=tr}else er=!1;Zn=er&&(!document.documentMode||9<document.documentMode)}function rr(){Gn&&(Gn.detachEvent("onpropertychange",ir),Qn=Gn=null)}function ir(e){if("value"===e.propertyName&&Xn(Qn)){var t=[];if(Wn(t,Qn,e,Te(e)),e=Yn,Me)e(t);else{Me=!0;try{Le(e,t)}finally{Me=!1,Ue()}}}}function sr(e,t,n){"focusin"===e?(rr(),Qn=n,(Gn=t).attachEvent("onpropertychange",ir)):"focusout"===e&&rr()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Qn)}function ar(e,t){if("click"===e)return Xn(t)}function lr(e,t){if("input"===e||"change"===e)return Xn(t)}var ur="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},cr=Object.prototype.hasOwnProperty;function hr(e,t){if(ur(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!cr.call(t,n[r])||!ur(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function pr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?pr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function gr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var yr=h&&"documentMode"in document&&11>=document.documentMode,vr=null,wr=null,br=null,Er=!1;function Sr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Er||null==vr||vr!==J(r)||(r="selectionStart"in(r=vr)&&gr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&hr(br,r)||(br=r,0<(r=Mr(wr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}Pt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Pt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Pt(Ot,2);for(var kr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),_r=0;_r<kr.length;_r++)Lt.set(kr[_r],0);c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ir=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tr));function xr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,a,l,u){if(Ge.apply(this,arguments),qe){if(!qe)throw Error(o(198));var c=$e;qe=!1,$e=null,Ke||(Ke=!0,He=c)}}(r,t,void 0,e),e.currentTarget=null}function Cr(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;xr(i,a,u),s=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;xr(i,a,u),s=l}}}if(Ke)throw e=He,Ke=!1,He=null,e}function Nr(e,t){var n=si(t),r=e+"__bubble";n.has(r)||(Or(t,e,2,!1),n.add(r))}var Ar="_reactListening"+Math.random().toString(36).slice(2);function Dr(e){e[Ar]||(e[Ar]=!0,a.forEach((function(t){Ir.has(t)||Lr(t,!1,e,null),Lr(t,!0,e,null)})))}function Lr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,s=n;if("selectionchange"===e&&9!==n.nodeType&&(s=n.ownerDocument),null!==r&&!t&&Ir.has(e)){if("scroll"!==e)return;i|=2,s=r}var o=si(s),a=e+"__"+(t?"capture":"bubble");o.has(a)||(t&&(i|=4),Or(s,e,i,t),o.add(a))}function Or(e,t,n,r){var i=Lt.get(t);switch(void 0===i?2:i){case 0:i=Qt;break;case 1:i=Yt;break;default:i=Xt}n=i.bind(null,t,n,e),i=void 0,!Be||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Pr(e,t,n,r,i){var s=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=ti(a)))return;if(5===(l=o.tag)||6===l){r=s=o;continue e}a=a.parentNode}}r=r.return}!function(e,t,n){if(Fe)return e();Fe=!0;try{Re(e,t,n)}finally{Fe=!1,Ue()}}((function(){var r=s,i=Te(n),o=[];e:{var a=Dt.get(e);if(void 0!==a){var l=dn,u=e;switch(e){case"keypress":if(0===rn(n))break e;case"keydown":case"keyup":l=Nn;break;case"focusin":u="focus",l=vn;break;case"focusout":u="blur",l=vn;break;case"beforeblur":case"afterblur":l=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Dn;break;case xt:case Ct:case Nt:l=wn;break;case At:l=Ln;break;case"scroll":l=pn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=En;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=An}var c=0!=(4&t),h=!c&&"scroll"===e,d=c?null!==a?a+"Capture":null:a;c=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&null!=(m=Ve(p,d))&&c.push(Rr(p,m,f))),h)break;p=p.return}0<c.length&&(a=new l(a,u,null,n,i),o.push({event:a,listeners:c}))}}if(0==(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||0!=(16&t)||!(u=n.relatedTarget||n.fromElement)||!ti(u)&&!u[Zr])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?ti(u):null)&&(u!==(h=Qe(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=gn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=An,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?a:ri(l),f=null==u?a:ri(u),(a=new c(m,p+"leave",l,n,i)).target=h,a.relatedTarget=f,m=null,ti(i)===r&&((c=new c(d,p+"enter",u,n,i)).target=f,c.relatedTarget=h,m=c),h=m,l&&u)e:{for(d=u,p=0,f=c=l;f;f=Fr(f))p++;for(f=0,m=d;m;m=Fr(m))f++;for(;0<p-f;)c=Fr(c),p--;for(;0<f-p;)d=Fr(d),f--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break e;c=Fr(c),d=Fr(d)}c=null}else c=null;null!==l&&Ur(o,a,l,c,!1),null!==u&&null!==h&&Ur(o,h,u,c,!0)}if("select"===(l=(a=r?ri(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Jn;else if(Hn(a))if(Zn)g=lr;else{g=or;var y=sr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=ar);switch(g&&(g=g(e,r))?Wn(o,g,n,i):(y&&y(e,a,r),"focusout"===e&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&ie(a,"number",a.value)),y=r?ri(r):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(vr=y,wr=r,br=null);break;case"focusout":br=wr=vr=null;break;case"mousedown":Er=!0;break;case"contextmenu":case"mouseup":case"dragend":Er=!1,Sr(o,n,i);break;case"selectionchange":if(yr)break;case"keydown":case"keyup":Sr(o,n,i)}var v;if(Mn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else $n?zn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Vn&&"ko"!==n.locale&&($n||"onCompositionStart"!==w?"onCompositionEnd"===w&&$n&&(v=nn()):(en="value"in(Zt=i)?Zt.value:Zt.textContent,$n=!0)),0<(y=Mr(r,w)).length&&(w=new Sn(w,e,null,n,i),o.push({event:w,listeners:y}),(v||null!==(v=qn(n)))&&(w.data=v))),(v=Un?function(e,t){switch(e){case"compositionend":return qn(t);case"keypress":return 32!==t.which?null:(jn=!0,Bn);case"textInput":return(e=t.data)===Bn&&jn?null:e;default:return null}}(e,n):function(e,t){if($n)return"compositionend"===e||!Mn&&zn(e,t)?(e=nn(),tn=en=Zt=null,$n=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vn&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(r=Mr(r,"onBeforeInput")).length&&(i=new Sn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=v)}Cr(o,t)}))}function Rr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Mr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Ve(e,n))&&r.unshift(Rr(e,s,i)),null!=(s=Ve(e,t))&&r.push(Rr(e,s,i))),e=e.return}return r}function Fr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ur(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==u&&(a=u,i?null!=(l=Ve(n,s))&&o.unshift(Rr(n,l,a)):i||null!=(l=Ve(n,s))&&o.push(Rr(n,l,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Vr(){}var Br=null,jr=null;function zr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function qr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var $r="function"==typeof setTimeout?setTimeout:void 0,Kr="function"==typeof clearTimeout?clearTimeout:void 0;function Hr(e){(1===e.nodeType||9===e.nodeType&&null!=(e=e.body))&&(e.textContent="")}function Wr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Gr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Qr=0,Yr=Math.random().toString(36).slice(2),Xr="__reactFiber$"+Yr,Jr="__reactProps$"+Yr,Zr="__reactContainer$"+Yr,ei="__reactEvents$"+Yr;function ti(e){var t=e[Xr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Zr]||n[Xr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Gr(e);null!==e;){if(n=e[Xr])return n;e=Gr(e)}return t}n=(e=n).parentNode}return null}function ni(e){return!(e=e[Xr]||e[Zr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ri(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ii(e){return e[Jr]||null}function si(e){var t=e[ei];return void 0===t&&(t=e[ei]=new Set),t}var oi=[],ai=-1;function li(e){return{current:e}}function ui(e){0>ai||(e.current=oi[ai],oi[ai]=null,ai--)}function ci(e,t){ai++,oi[ai]=e.current,e.current=t}var hi={},di=li(hi),fi=li(!1),pi=hi;function mi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function gi(e){return null!=e.childContextTypes}function yi(){ui(fi),ui(di)}function vi(e,t,n){if(di.current!==hi)throw Error(o(168));ci(di,t),ci(fi,n)}function wi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var s in r=r.getChildContext())if(!(s in e))throw Error(o(108,W(t)||"Unknown",s));return i({},n,r)}function bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,pi=di.current,ci(di,e),ci(fi,fi.current),!0}function Ei(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=wi(e,t,pi),r.__reactInternalMemoizedMergedChildContext=e,ui(fi),ui(di),ci(di,e)):ui(fi),ci(fi,n)}var Si=null,ki=null,_i=s.unstable_runWithPriority,Ti=s.unstable_scheduleCallback,Ii=s.unstable_cancelCallback,xi=s.unstable_shouldYield,Ci=s.unstable_requestPaint,Ni=s.unstable_now,Ai=s.unstable_getCurrentPriorityLevel,Di=s.unstable_ImmediatePriority,Li=s.unstable_UserBlockingPriority,Oi=s.unstable_NormalPriority,Pi=s.unstable_LowPriority,Ri=s.unstable_IdlePriority,Mi={},Fi=void 0!==Ci?Ci:function(){},Ui=null,Vi=null,Bi=!1,ji=Ni(),zi=1e4>ji?Ni:function(){return Ni()-ji};function qi(){switch(Ai()){case Di:return 99;case Li:return 98;case Oi:return 97;case Pi:return 96;case Ri:return 95;default:throw Error(o(332))}}function $i(e){switch(e){case 99:return Di;case 98:return Li;case 97:return Oi;case 96:return Pi;case 95:return Ri;default:throw Error(o(332))}}function Ki(e,t){return e=$i(e),_i(e,t)}function Hi(e,t,n){return e=$i(e),Ti(e,t,n)}function Wi(){if(null!==Vi){var e=Vi;Vi=null,Ii(e)}Gi()}function Gi(){if(!Bi&&null!==Ui){Bi=!0;var e=0;try{var t=Ui;Ki(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ui=null}catch(t){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ti(Di,Wi),t}finally{Bi=!1}}}var Qi=E.ReactCurrentBatchConfig;function Yi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Xi=li(null),Ji=null,Zi=null,es=null;function ts(){es=Zi=Ji=null}function ns(e){var t=Xi.current;ui(Xi),e.type._context._currentValue=t}function rs(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function is(e,t){Ji=e,es=Zi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(Mo=!0),e.firstContext=null)}function ss(e,t){if(es!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(es=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Zi){if(null===Ji)throw Error(o(308));Zi=t,Ji.dependencies={lanes:0,firstContext:t,responders:null}}else Zi=Zi.next=t;return e._currentValue}var os=!1;function as(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ls(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function us(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function cs(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function hs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ds(e,t,n,r){var s=e.updateQueue;os=!1;var o=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(null!==l){s.shared.pending=null;var u=l,c=u.next;u.next=null,null===a?o=c:a.next=c,a=u;var h=e.alternate;if(null!==h){var d=(h=h.updateQueue).lastBaseUpdate;d!==a&&(null===d?h.firstBaseUpdate=c:d.next=c,h.lastBaseUpdate=u)}}if(null!==o){for(d=s.baseState,a=0,h=c=u=null;;){l=o.lane;var f=o.eventTime;if((r&l)===l){null!==h&&(h=h.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(l=t,f=n,m.tag){case 1:if("function"==typeof(p=m.payload)){d=p.call(f,d,l);break e}d=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null==(l="function"==typeof(p=m.payload)?p.call(f,d,l):p))break e;d=i({},d,l);break e;case 2:os=!0}}null!==o.callback&&(e.flags|=32,null===(l=s.effects)?s.effects=[o]:l.push(o))}else f={eventTime:f,lane:l,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===h?(c=h=f,u=d):h=h.next=f,a|=l;if(null===(o=o.next)){if(null===(l=s.shared.pending))break;o=l.next,l.next=null,s.lastBaseUpdate=l,s.shared.pending=null}}null===h&&(u=d),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=h,Ua|=a,e.lanes=a,e.memoizedState=d}}function fs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(o(191,i));i.call(r)}}}var ps=(new r.Component).refs;function ms(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var gs={isMounted:function(e){return!!(e=e._reactInternals)&&Qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ul(),i=cl(e),s=us(r,i);s.payload=t,null!=n&&(s.callback=n),cs(e,s),hl(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ul(),i=cl(e),s=us(r,i);s.tag=1,s.payload=t,null!=n&&(s.callback=n),cs(e,s),hl(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ul(),r=cl(e),i=us(n,r);i.tag=2,null!=t&&(i.callback=t),cs(e,i),hl(e,r,n)}};function ys(e,t,n,r,i,s,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!(t.prototype&&t.prototype.isPureReactComponent&&hr(n,r)&&hr(i,s))}function vs(e,t,n){var r=!1,i=hi,s=t.contextType;return"object"==typeof s&&null!==s?s=ss(s):(i=gi(t)?pi:di.current,s=(r=null!=(r=t.contextTypes))?mi(e,i):hi),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=gs,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function ws(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&gs.enqueueReplaceState(t,t.state,null)}function bs(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ps,as(e);var s=t.contextType;"object"==typeof s&&null!==s?i.context=ss(s):(s=gi(t)?pi:di.current,i.context=mi(e,s)),ds(e,n,i,r),i.state=e.memoizedState,"function"==typeof(s=t.getDerivedStateFromProps)&&(ms(e,t,s,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&gs.enqueueReplaceState(i,i.state,null),ds(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4)}var Es=Array.isArray;function Ss(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===ps&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!=typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function ks(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function _s(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=ql(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function a(t){return e&&null===t.alternate&&(t.flags=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Wl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Ss(e,t,n),r.return=e,r):((r=$l(n.type,n.key,n.props,null,e.mode,r)).ref=Ss(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Gl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=Kl(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Wl(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case S:return(n=$l(t.type,t.key,t.props,null,e.mode,n)).ref=Ss(e,null,t),n.return=e,n;case k:return(t=Gl(t,e.mode,n)).return=e,t}if(Es(t)||z(t))return(t=Kl(t,e.mode,n,null)).return=e,t;ks(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case S:return n.key===i?n.type===_?h(e,t,n.props.children,r,i):u(e,t,n,r):null;case k:return n.key===i?c(e,t,n,r):null}if(Es(n)||z(n))return null!==i?null:h(e,t,n,r,null);ks(e,n)}return null}function p(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case S:return e=e.get(null===r.key?n:r.key)||null,r.type===_?h(t,e,r.props.children,i,r.key):u(t,e,r,i);case k:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Es(r)||z(r))return h(t,e=e.get(n)||null,r,i,null);ks(t,r)}return null}function m(i,o,a,l){for(var u=null,c=null,h=o,m=o=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=f(i,h,a[m],l);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(i,h),o=s(y,o,m),null===c?u=y:c.sibling=y,c=y,h=g}if(m===a.length)return n(i,h),u;if(null===h){for(;m<a.length;m++)null!==(h=d(i,a[m],l))&&(o=s(h,o,m),null===c?u=h:c.sibling=h,c=h);return u}for(h=r(i,h);m<a.length;m++)null!==(g=p(h,i,m,a[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),o=s(g,o,m),null===c?u=g:c.sibling=g,c=g);return e&&h.forEach((function(e){return t(i,e)})),u}function g(i,a,l,u){var c=z(l);if("function"!=typeof c)throw Error(o(150));if(null==(l=c.call(l)))throw Error(o(151));for(var h=c=null,m=a,g=a=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var w=f(i,m,v.value,u);if(null===w){null===m&&(m=y);break}e&&m&&null===w.alternate&&t(i,m),a=s(w,a,g),null===h?c=w:h.sibling=w,h=w,m=y}if(v.done)return n(i,m),c;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=d(i,v.value,u))&&(a=s(v,a,g),null===h?c=v:h.sibling=v,h=v);return c}for(m=r(i,m);!v.done;g++,v=l.next())null!==(v=p(m,i,g,v.value,u))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),a=s(v,a,g),null===h?c=v:h.sibling=v,h=v);return e&&m.forEach((function(e){return t(i,e)})),c}return function(e,r,s,l){var u="object"==typeof s&&null!==s&&s.type===_&&null===s.key;u&&(s=s.props.children);var c="object"==typeof s&&null!==s;if(c)switch(s.$$typeof){case S:e:{for(c=s.key,u=r;null!==u;){if(u.key===c){if(7===u.tag){if(s.type===_){n(e,u.sibling),(r=i(u,s.props.children)).return=e,e=r;break e}}else if(u.elementType===s.type){n(e,u.sibling),(r=i(u,s.props)).ref=Ss(e,u,s),r.return=e,e=r;break e}n(e,u);break}t(e,u),u=u.sibling}s.type===_?((r=Kl(s.props.children,e.mode,l,s.key)).return=e,e=r):((l=$l(s.type,s.key,s.props,null,e.mode,l)).ref=Ss(e,r,s),l.return=e,e=l)}return a(e);case k:e:{for(u=s.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===s.containerInfo&&r.stateNode.implementation===s.implementation){n(e,r.sibling),(r=i(r,s.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Gl(s,e.mode,l)).return=e,e=r}return a(e)}if("string"==typeof s||"number"==typeof s)return s=""+s,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,s)).return=e,e=r):(n(e,r),(r=Wl(s,e.mode,l)).return=e,e=r),a(e);if(Es(s))return m(e,r,s,l);if(z(s))return g(e,r,s,l);if(c&&ks(e,s),void 0===s&&!u)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,W(e.type)||"Component"))}return n(e,r)}}var Ts=_s(!0),Is=_s(!1),xs={},Cs=li(xs),Ns=li(xs),As=li(xs);function Ds(e){if(e===xs)throw Error(o(174));return e}function Ls(e,t){switch(ci(As,t),ci(Ns,e),ci(Cs,xs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fe(null,"");break;default:t=fe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ui(Cs),ci(Cs,t)}function Os(){ui(Cs),ui(Ns),ui(As)}function Ps(e){Ds(As.current);var t=Ds(Cs.current),n=fe(t,e.type);t!==n&&(ci(Ns,e),ci(Cs,n))}function Rs(e){Ns.current===e&&(ui(Cs),ui(Ns))}var Ms=li(0);function Fs(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Us=null,Vs=null,Bs=!1;function js(e,t){var n=jl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function zs(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function qs(e){if(Bs){var t=Vs;if(t){var n=t;if(!zs(e,t)){if(!(t=Wr(n.nextSibling))||!zs(e,t))return e.flags=-1025&e.flags|2,Bs=!1,void(Us=e);js(Us,n)}Us=e,Vs=Wr(t.firstChild)}else e.flags=-1025&e.flags|2,Bs=!1,Us=e}}function $s(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Us=e}function Ks(e){if(e!==Us)return!1;if(!Bs)return $s(e),Bs=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!qr(t,e.memoizedProps))for(t=Vs;t;)js(e,t),t=Wr(t.nextSibling);if($s(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Vs=Wr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Vs=null}}else Vs=Us?Wr(e.stateNode.nextSibling):null;return!0}function Hs(){Vs=Us=null,Bs=!1}var Ws=[];function Gs(){for(var e=0;e<Ws.length;e++)Ws[e]._workInProgressVersionPrimary=null;Ws.length=0}var Qs=E.ReactCurrentDispatcher,Ys=E.ReactCurrentBatchConfig,Xs=0,Js=null,Zs=null,eo=null,to=!1,no=!1;function ro(){throw Error(o(321))}function io(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function so(e,t,n,r,i,s){if(Xs=s,Js=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Qs.current=null===e||null===e.memoizedState?Lo:Oo,e=n(r,i),no){s=0;do{if(no=!1,!(25>s))throw Error(o(301));s+=1,eo=Zs=null,t.updateQueue=null,Qs.current=Po,e=n(r,i)}while(no)}if(Qs.current=Do,t=null!==Zs&&null!==Zs.next,Xs=0,eo=Zs=Js=null,to=!1,t)throw Error(o(300));return e}function oo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===eo?Js.memoizedState=eo=e:eo=eo.next=e,eo}function ao(){if(null===Zs){var e=Js.alternate;e=null!==e?e.memoizedState:null}else e=Zs.next;var t=null===eo?Js.memoizedState:eo.next;if(null!==t)eo=t,Zs=e;else{if(null===e)throw Error(o(310));e={memoizedState:(Zs=e).memoizedState,baseState:Zs.baseState,baseQueue:Zs.baseQueue,queue:Zs.queue,next:null},null===eo?Js.memoizedState=eo=e:eo=eo.next=e}return eo}function lo(e,t){return"function"==typeof t?t(e):t}function uo(e){var t=ao(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=Zs,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var l=a=s=null,u=i;do{var c=u.lane;if((Xs&c)===c)null!==l&&(l=l.next={lane:0,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),r=u.eagerReducer===e?u.eagerState:e(r,u.action);else{var h={lane:c,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===l?(a=l=h,s=r):l=l.next=h,Js.lanes|=c,Ua|=c}u=u.next}while(null!==u&&u!==i);null===l?s=r:l.next=a,ur(r,t.memoizedState)||(Mo=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function co(e){var t=ao(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);ur(s,t.memoizedState)||(Mo=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Xs&e)===e)&&(t._workInProgressVersionPrimary=r,Ws.push(t))),e)return n(t._source);throw Ws.push(t),Error(o(350))}function fo(e,t,n,r){var i=Aa;if(null===i)throw Error(o(349));var s=t._getVersion,a=s(t._source),l=Qs.current,u=l.useState((function(){return ho(i,t,n)})),c=u[1],h=u[0];u=eo;var d=e.memoizedState,f=d.refs,p=f.getSnapshot,m=d.source;d=d.subscribe;var g=Js;return e.memoizedState={refs:f,source:t,subscribe:r},l.useEffect((function(){f.getSnapshot=n,f.setSnapshot=c;var e=s(t._source);if(!ur(a,e)){e=n(t._source),ur(h,e)||(c(e),e=cl(g),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var l=31-qt(o),u=1<<l;r[l]|=e,o&=~u}}}),[n,t,r]),l.useEffect((function(){return r(t._source,(function(){var e=f.getSnapshot,n=f.setSnapshot;try{n(e(t._source));var r=cl(g);i.mutableReadLanes|=r&i.pendingLanes}catch(e){n((function(){throw e}))}}))}),[t,r]),ur(p,n)&&ur(m,t)&&ur(d,r)||((e={pending:null,dispatch:null,lastRenderedReducer:lo,lastRenderedState:h}).dispatch=c=Ao.bind(null,Js,e),u.queue=e,u.baseQueue=null,h=ho(i,t,n),u.memoizedState=u.baseState=h),h}function po(e,t,n){return fo(ao(),e,t,n)}function mo(e){var t=oo();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:lo,lastRenderedState:e}).dispatch=Ao.bind(null,Js,e),[t.memoizedState,e]}function go(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Js.updateQueue)?(t={lastEffect:null},Js.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function yo(e){return e={current:e},oo().memoizedState=e}function vo(){return ao().memoizedState}function wo(e,t,n,r){var i=oo();Js.flags|=e,i.memoizedState=go(1|t,n,void 0,void 0===r?null:r)}function bo(e,t,n,r){var i=ao();r=void 0===r?null:r;var s=void 0;if(null!==Zs){var o=Zs.memoizedState;if(s=o.destroy,null!==r&&io(r,o.deps))return void go(t,n,s,r)}Js.flags|=e,i.memoizedState=go(1|t,n,s,r)}function Eo(e,t){return wo(516,4,e,t)}function So(e,t){return bo(516,4,e,t)}function ko(e,t){return bo(4,2,e,t)}function _o(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function To(e,t,n){return n=null!=n?n.concat([e]):null,bo(4,2,_o.bind(null,t,e),n)}function Io(){}function xo(e,t){var n=ao();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&io(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Co(e,t){var n=ao();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&io(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function No(e,t){var n=qi();Ki(98>n?98:n,(function(){e(!0)})),Ki(97<n?97:n,(function(){var n=Ys.transition;Ys.transition=1;try{e(!1),t()}finally{Ys.transition=n}}))}function Ao(e,t,n){var r=ul(),i=cl(e),s={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?s.next=s:(s.next=o.next,o.next=s),t.pending=s,o=e.alternate,e===Js||null!==o&&o===Js)no=to=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,l=o(a,n);if(s.eagerReducer=o,s.eagerState=l,ur(l,a))return}catch(e){}hl(e,i,r)}}var Do={readContext:ss,useCallback:ro,useContext:ro,useEffect:ro,useImperativeHandle:ro,useLayoutEffect:ro,useMemo:ro,useReducer:ro,useRef:ro,useState:ro,useDebugValue:ro,useDeferredValue:ro,useTransition:ro,useMutableSource:ro,useOpaqueIdentifier:ro,unstable_isNewReconciler:!1},Lo={readContext:ss,useCallback:function(e,t){return oo().memoizedState=[e,void 0===t?null:t],e},useContext:ss,useEffect:Eo,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,wo(4,2,_o.bind(null,t,e),n)},useLayoutEffect:function(e,t){return wo(4,2,e,t)},useMemo:function(e,t){var n=oo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=oo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ao.bind(null,Js,e),[r.memoizedState,e]},useRef:yo,useState:mo,useDebugValue:Io,useDeferredValue:function(e){var t=mo(e),n=t[0],r=t[1];return Eo((function(){var t=Ys.transition;Ys.transition=1;try{r(e)}finally{Ys.transition=t}}),[e]),n},useTransition:function(){var e=mo(!1),t=e[0];return yo(e=No.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=oo();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},fo(r,e,t,n)},useOpaqueIdentifier:function(){if(Bs){var e=!1,t=function(e){return{$$typeof:R,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Qr++).toString(36))),Error(o(355))})),n=mo(t)[1];return 0==(2&Js.mode)&&(Js.flags|=516,go(5,(function(){n("r:"+(Qr++).toString(36))}),void 0,null)),t}return mo(t="r:"+(Qr++).toString(36)),t},unstable_isNewReconciler:!1},Oo={readContext:ss,useCallback:xo,useContext:ss,useEffect:So,useImperativeHandle:To,useLayoutEffect:ko,useMemo:Co,useReducer:uo,useRef:vo,useState:function(){return uo(lo)},useDebugValue:Io,useDeferredValue:function(e){var t=uo(lo),n=t[0],r=t[1];return So((function(){var t=Ys.transition;Ys.transition=1;try{r(e)}finally{Ys.transition=t}}),[e]),n},useTransition:function(){var e=uo(lo)[0];return[vo().current,e]},useMutableSource:po,useOpaqueIdentifier:function(){return uo(lo)[0]},unstable_isNewReconciler:!1},Po={readContext:ss,useCallback:xo,useContext:ss,useEffect:So,useImperativeHandle:To,useLayoutEffect:ko,useMemo:Co,useReducer:co,useRef:vo,useState:function(){return co(lo)},useDebugValue:Io,useDeferredValue:function(e){var t=co(lo),n=t[0],r=t[1];return So((function(){var t=Ys.transition;Ys.transition=1;try{r(e)}finally{Ys.transition=t}}),[e]),n},useTransition:function(){var e=co(lo)[0];return[vo().current,e]},useMutableSource:po,useOpaqueIdentifier:function(){return co(lo)[0]},unstable_isNewReconciler:!1},Ro=E.ReactCurrentOwner,Mo=!1;function Fo(e,t,n,r){t.child=null===e?Is(t,null,n,r):Ts(t,e.child,n,r)}function Uo(e,t,n,r,i){n=n.render;var s=t.ref;return is(t,i),r=so(e,t,n,r,s,i),null===e||Mo?(t.flags|=1,Fo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,na(e,t,i))}function Vo(e,t,n,r,i,s){if(null===e){var o=n.type;return"function"!=typeof o||zl(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=$l(n.type,null,r,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Bo(e,t,o,r,i,s))}return o=e.child,0==(i&s)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?na(e,t,s):(t.flags|=1,(e=ql(o,r)).ref=t.ref,e.return=t,t.child=e)}function Bo(e,t,n,r,i,s){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(Mo=!1,0==(s&i))return t.lanes=e.lanes,na(e,t,s);0!=(16384&e.flags)&&(Mo=!0)}return qo(e,t,n,r,s)}function jo(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(4&t.mode))t.memoizedState={baseLanes:0},wl(0,n);else{if(0==(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},wl(0,e),null;t.memoizedState={baseLanes:0},wl(0,null!==s?s.baseLanes:n)}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,wl(0,r);return Fo(e,t,i,n),t.child}function zo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function qo(e,t,n,r,i){var s=gi(n)?pi:di.current;return s=mi(t,s),is(t,i),n=so(e,t,n,r,s,i),null===e||Mo?(t.flags|=1,Fo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,na(e,t,i))}function $o(e,t,n,r,i){if(gi(n)){var s=!0;bi(t)}else s=!1;if(is(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),vs(t,n,r),bs(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;u="object"==typeof u&&null!==u?ss(u):mi(t,u=gi(n)?pi:di.current);var c=n.getDerivedStateFromProps,h="function"==typeof c||"function"==typeof o.getSnapshotBeforeUpdate;h||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(a!==r||l!==u)&&ws(t,o,r,u),os=!1;var d=t.memoizedState;o.state=d,ds(t,r,o,i),l=t.memoizedState,a!==r||d!==l||fi.current||os?("function"==typeof c&&(ms(t,n,c,r),l=t.memoizedState),(a=os||ys(t,n,a,r,d,l,u))?(h||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.flags|=4)):("function"==typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):("function"==typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ls(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Yi(t.type,a),o.props=u,h=t.pendingProps,d=o.context,l="object"==typeof(l=n.contextType)&&null!==l?ss(l):mi(t,l=gi(n)?pi:di.current);var f=n.getDerivedStateFromProps;(c="function"==typeof f||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(a!==h||d!==l)&&ws(t,o,r,l),os=!1,d=t.memoizedState,o.state=d,ds(t,r,o,i);var p=t.memoizedState;a!==h||d!==p||fi.current||os?("function"==typeof f&&(ms(t,n,f,r),p=t.memoizedState),(u=os||ys(t,n,u,r,d,p,l))?(c||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof o.componentDidUpdate&&(t.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):("function"!=typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),r=!1)}return Ko(e,t,n,r,s,i)}function Ko(e,t,n,r,i,s){zo(e,t);var o=0!=(64&t.flags);if(!r&&!o)return i&&Ei(t,n,!1),na(e,t,s);r=t.stateNode,Ro.current=t;var a=o&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ts(t,e.child,null,s),t.child=Ts(t,null,a,s)):Fo(e,t,a,s),t.memoizedState=r.state,i&&Ei(t,n,!0),t.child}function Ho(e){var t=e.stateNode;t.pendingContext?vi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&vi(0,t.context,!1),Ls(e,t.containerInfo)}var Wo,Go,Qo,Yo={dehydrated:null,retryLane:0};function Xo(e,t,n){var r,i=t.pendingProps,s=Ms.current,o=!1;return(r=0!=(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!=(2&s)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(s|=1),ci(Ms,1&s),null===e?(void 0!==i.fallback&&qs(t),e=i.children,s=i.fallback,o?(e=Jo(t,e,s,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Yo,e):"number"==typeof i.unstable_expectedLoadTime?(e=Jo(t,e,s,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Yo,t.lanes=33554432,e):((n=Hl({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=function(e,t,n,r,i){var s=t.mode,o=e.child;e=o.sibling;var a={mode:"hidden",children:n};return 0==(2&s)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=a,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=ql(o,a),null!==e?r=ql(e,r):(r=Kl(r,s,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}(e,t,i.children,i.fallback,n),o=t.child,s=e.child.memoizedState,o.memoizedState=null===s?{baseLanes:n}:{baseLanes:s.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Yo,i):(n=function(e,t,n,r){var i=e.child;return e=i.sibling,n=ql(i,{mode:"visible",children:n}),0==(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}(e,t,i.children,n),t.memoizedState=null,n))}function Jo(e,t,n,r){var i=e.mode,s=e.child;return t={mode:"hidden",children:t},0==(2&i)&&null!==s?(s.childLanes=0,s.pendingProps=t):s=Hl(t,i,0,null),n=Kl(n,i,r,null),s.return=e,n.return=e,s.sibling=n,e.child=s,n}function Zo(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),rs(e.return,t)}function ea(e,t,n,r,i,s){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=s)}function ta(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Fo(e,t,r.children,n),0!=(2&(r=Ms.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Zo(e,n);else if(19===e.tag)Zo(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ci(Ms,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Fs(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ea(t,!1,i,n,s,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Fs(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ea(t,!0,n,null,s,t.lastEffect);break;case"together":ea(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function na(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ua|=t.lanes,0!=(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=ql(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=ql(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ra(e,t){if(!Bs)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ia(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return gi(t.type)&&yi(),null;case 3:return Os(),ui(fi),ui(di),Gs(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ks(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Rs(t);var s=Ds(As.current);if(n=t.type,null!==e&&null!=t.stateNode)Go(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Ds(Cs.current),Ks(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Xr]=t,r[Jr]=a,n){case"dialog":Nr("cancel",r),Nr("close",r);break;case"iframe":case"object":case"embed":Nr("load",r);break;case"video":case"audio":for(e=0;e<Tr.length;e++)Nr(Tr[e],r);break;case"source":Nr("error",r);break;case"img":case"image":case"link":Nr("error",r),Nr("load",r);break;case"details":Nr("toggle",r);break;case"input":ee(r,a),Nr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Nr("invalid",r);break;case"textarea":le(r,a),Nr("invalid",r)}for(var u in ke(n,a),e=null,a)a.hasOwnProperty(u)&&(s=a[u],"children"===u?"string"==typeof s?r.textContent!==s&&(e=["children",s]):"number"==typeof s&&r.textContent!==""+s&&(e=["children",""+s]):l.hasOwnProperty(u)&&null!=s&&"onScroll"===u&&Nr("scroll",r));switch(n){case"input":Y(r),re(r,a,!0);break;case"textarea":Y(r),ce(r);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(r.onclick=Vr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(u=9===s.nodeType?s:s.ownerDocument,e===he&&(e=de(n)),e===he?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[Xr]=t,e[Jr]=r,Wo(e,t),t.stateNode=e,u=_e(n,r),n){case"dialog":Nr("cancel",e),Nr("close",e),s=r;break;case"iframe":case"object":case"embed":Nr("load",e),s=r;break;case"video":case"audio":for(s=0;s<Tr.length;s++)Nr(Tr[s],e);s=r;break;case"source":Nr("error",e),s=r;break;case"img":case"image":case"link":Nr("error",e),Nr("load",e),s=r;break;case"details":Nr("toggle",e),s=r;break;case"input":ee(e,r),s=Z(e,r),Nr("invalid",e);break;case"option":s=se(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=i({},r,{value:void 0}),Nr("invalid",e);break;case"textarea":le(e,r),s=ae(e,r),Nr("invalid",e);break;default:s=r}ke(n,s);var c=s;for(a in c)if(c.hasOwnProperty(a)){var h=c[a];"style"===a?Ee(e,h):"dangerouslySetInnerHTML"===a?null!=(h=h?h.__html:void 0)&&ge(e,h):"children"===a?"string"==typeof h?("textarea"!==n||""!==h)&&ye(e,h):"number"==typeof h&&ye(e,""+h):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(l.hasOwnProperty(a)?null!=h&&"onScroll"===a&&Nr("scroll",e):null!=h&&b(e,a,h,u))}switch(n){case"input":Y(e),re(e,r,!1);break;case"textarea":Y(e),ce(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?oe(e,!!r.multiple,a,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof s.onClick&&(e.onclick=Vr)}zr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Qo(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(o(166));n=Ds(As.current),Ds(Cs.current),Ks(t)?(r=t.stateNode,n=t.memoizedProps,r[Xr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Xr]=t,t.stateNode=r)}return null;case 13:return ui(Ms),r=t.memoizedState,0!=(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ks(t):n=null!==e.memoizedState,r&&!n&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Ms.current)?0===Ra&&(Ra=3):(0!==Ra&&3!==Ra||(Ra=4),null===Aa||0==(134217727&Ua)&&0==(134217727&Va)||ml(Aa,La))),(r||n)&&(t.flags|=4),null);case 4:return Os(),null===e&&Dr(t.stateNode.containerInfo),null;case 10:return ns(t),null;case 19:if(ui(Ms),null===(r=t.memoizedState))return null;if(a=0!=(64&t.flags),null===(u=r.rendering))if(a)ra(r,!1);else{if(0!==Ra||null!==e&&0!=(64&e.flags))for(e=t.child;null!==e;){if(null!==(u=Fs(e))){for(t.flags|=64,ra(r,!1),null!==(a=u.updateQueue)&&(t.updateQueue=a,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(u=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,e=u.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ci(Ms,1&Ms.current|2),t.child}e=e.sibling}null!==r.tail&&zi()>qa&&(t.flags|=64,a=!0,ra(r,!1),t.lanes=33554432)}else{if(!a)if(null!==(e=Fs(u))){if(t.flags|=64,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ra(r,!0),null===r.tail&&"hidden"===r.tailMode&&!u.alternate&&!Bs)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*zi()-r.renderingStartTime>qa&&1073741824!==n&&(t.flags|=64,a=!0,ra(r,!1),t.lanes=33554432);r.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=r.last)?n.sibling=u:t.child=u,r.last=u)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=zi(),n.sibling=null,t=Ms.current,ci(Ms,a?1&t|2:1&t),n):null;case 23:case 24:return bl(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function sa(e){switch(e.tag){case 1:gi(e.type)&&yi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Os(),ui(fi),ui(di),Gs(),0!=(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Rs(e),null;case 13:return ui(Ms),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ui(Ms),null;case 4:return Os(),null;case 10:return ns(e),null;case 23:case 24:return bl(),null;default:return null}}function oa(e,t){try{var n="",r=t;do{n+=H(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i}}function aa(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}Wo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Go=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Ds(Cs.current);var o,a=null;switch(n){case"input":s=Z(e,s),r=Z(e,r),a=[];break;case"option":s=se(e,s),r=se(e,r),a=[];break;case"select":s=i({},s,{value:void 0}),r=i({},r,{value:void 0}),a=[];break;case"textarea":s=ae(e,s),r=ae(e,r),a=[];break;default:"function"!=typeof s.onClick&&"function"==typeof r.onClick&&(e.onclick=Vr)}for(h in ke(n,r),n=null,s)if(!r.hasOwnProperty(h)&&s.hasOwnProperty(h)&&null!=s[h])if("style"===h){var u=s[h];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(l.hasOwnProperty(h)?a||(a=[]):(a=a||[]).push(h,null));for(h in r){var c=r[h];if(u=null!=s?s[h]:void 0,r.hasOwnProperty(h)&&c!==u&&(null!=c||null!=u))if("style"===h)if(u){for(o in u)!u.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&u[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(h,n)),n=c;else"dangerouslySetInnerHTML"===h?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(a=a||[]).push(h,c)):"children"===h?"string"!=typeof c&&"number"!=typeof c||(a=a||[]).push(h,""+c):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(l.hasOwnProperty(h)?(null!=c&&"onScroll"===h&&Nr("scroll",e),a||u===c||(a=[])):"object"==typeof c&&null!==c&&c.$$typeof===R?c.toString():(a=a||[]).push(h,c))}n&&(a=a||[]).push("style",n);var h=a;(t.updateQueue=h)&&(t.flags|=4)}},Qo=function(e,t,n,r){n!==r&&(t.flags|=4)};var la="function"==typeof WeakMap?WeakMap:Map;function ua(e,t,n){(n=us(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wa||(Wa=!0,Ga=r),aa(0,t)},n}function ca(e,t,n){(n=us(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return aa(0,t),r(i)}}var s=e.stateNode;return null!==s&&"function"==typeof s.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Qa?Qa=new Set([this]):Qa.add(this),aa(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ha="function"==typeof WeakSet?WeakSet:Set;function da(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Fl(e,t)}else t.current=null}function fa(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Yi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Hr(t.stateNode.containerInfo))}throw Error(o(163))}function pa(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3==(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!=(4&(i=i.tag))&&0!=(1&i)&&(Pl(n,e),Ol(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Yi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&fs(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}fs(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&zr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Et(n)))))}throw Error(o(163))}function ma(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,r.style.display=be("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ga(e,t){if(ki&&"function"==typeof ki.onCommitFiberUnmount)try{ki.onCommitFiberUnmount(Si,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!=(4&r))Pl(t,n);else{r=t;try{i()}catch(e){Fl(r,e)}}n=n.next}while(n!==e)}break;case 1:if(da(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Fl(t,e)}break;case 5:da(t);break;case 4:Sa(e,t)}}function ya(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function va(e){return 5===e.tag||3===e.tag||4===e.tag}function wa(e){e:{for(var t=e.return;null!==t;){if(va(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ye(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||va(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?ba(e,n,t):Ea(e,n,t)}function ba(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Vr));else if(4!==r&&null!==(e=e.child))for(ba(e,t,n),e=e.sibling;null!==e;)ba(e,t,n),e=e.sibling}function Ea(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Ea(e,t,n),e=e.sibling;null!==e;)Ea(e,t,n),e=e.sibling}function Sa(e,t){for(var n,r,i=t,s=!1;;){if(!s){s=i.return;e:for(;;){if(null===s)throw Error(o(160));switch(n=s.stateNode,s.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}s=s.return}s=!0}if(5===i.tag||6===i.tag){e:for(var a=e,l=i,u=l;;)if(ga(a,u),null!==u.child&&4!==u.tag)u.child.return=u,u=u.child;else{if(u===l)break e;for(;null===u.sibling;){if(null===u.return||u.return===l)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}r?(a=n,l=i.stateNode,8===a.nodeType?a.parentNode.removeChild(l):a.removeChild(l)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ga(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(s=!1)}i.sibling.return=i.return,i=i.sibling}}function ka(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3==(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var s=t.updateQueue;if(t.updateQueue=null,null!==s){for(n[Jr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),_e(e,i),t=_e(e,r),i=0;i<s.length;i+=2){var a=s[i],l=s[i+1];"style"===a?Ee(n,l):"dangerouslySetInnerHTML"===a?ge(n,l):"children"===a?ye(n,l):b(n,a,l,t)}switch(e){case"input":ne(n,r);break;case"textarea":ue(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(s=r.value)?oe(n,!!r.multiple,s,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,Et(n.containerInfo)));case 13:return null!==t.memoizedState&&(za=zi(),ma(t.child,!0)),void _a(t);case 19:return void _a(t);case 23:case 24:return void ma(t,null!==t.memoizedState)}throw Error(o(163))}function _a(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ha),t.forEach((function(t){var r=Vl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Ta(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&null!==(t=t.memoizedState)&&null===t.dehydrated}var Ia=Math.ceil,xa=E.ReactCurrentDispatcher,Ca=E.ReactCurrentOwner,Na=0,Aa=null,Da=null,La=0,Oa=0,Pa=li(0),Ra=0,Ma=null,Fa=0,Ua=0,Va=0,Ba=0,ja=null,za=0,qa=1/0;function $a(){qa=zi()+500}var Ka,Ha=null,Wa=!1,Ga=null,Qa=null,Ya=!1,Xa=null,Ja=90,Za=[],el=[],tl=null,nl=0,rl=null,il=-1,sl=0,ol=0,al=null,ll=!1;function ul(){return 0!=(48&Na)?zi():-1!==il?il:il=zi()}function cl(e){if(0==(2&(e=e.mode)))return 1;if(0==(4&e))return 99===qi()?1:2;if(0===sl&&(sl=Fa),0!==Qi.transition){0!==ol&&(ol=null!==ja?ja.pendingLanes:0),e=sl;var t=4186112&~ol;return 0==(t&=-t)&&0==(t=(e=4186112&~e)&-e)&&(t=8192),t}return e=qi(),e=Vt(0!=(4&Na)&&98===e?12:e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),sl)}function hl(e,t,n){if(50<nl)throw nl=0,rl=null,Error(o(185));if(null===(e=dl(e,t)))return null;zt(e,t,n),e===Aa&&(Va|=t,4===Ra&&ml(e,La));var r=qi();1===t?0!=(8&Na)&&0==(48&Na)?gl(e):(fl(e,n),0===Na&&($a(),Wi())):(0==(4&Na)||98!==r&&99!==r||(null===tl?tl=new Set([e]):tl.add(e)),fl(e,n)),ja=e}function dl(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function fl(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var l=31-qt(a),u=1<<l,c=s[l];if(-1===c){if(0==(u&r)||0!=(u&i)){c=t,Mt(u);var h=Rt;s[l]=10<=h?c+250:6<=h?c+5e3:-1}}else c<=t&&(e.expiredLanes|=u);a&=~u}if(r=Ft(e,e===Aa?La:0),t=Rt,0===r)null!==n&&(n!==Mi&&Ii(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Mi&&Ii(n)}15===t?(n=gl.bind(null,e),null===Ui?(Ui=[n],Vi=Ti(Di,Gi)):Ui.push(n),n=Mi):14===t?n=Hi(99,gl.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Hi(n,pl.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function pl(e){if(il=-1,ol=sl=0,0!=(48&Na))throw Error(o(327));var t=e.callbackNode;if(Ll()&&e.callbackNode!==t)return null;var n=Ft(e,e===Aa?La:0);if(0===n)return null;var r=n,i=Na;Na|=16;var s=kl();for(Aa===e&&La===r||($a(),El(e,r));;)try{Il();break}catch(t){Sl(e,t)}if(ts(),xa.current=s,Na=i,null!==Da?r=0:(Aa=null,La=0,r=Ra),0!=(Fa&Va))El(e,0);else if(0!==r){if(2===r&&(Na|=64,e.hydrate&&(e.hydrate=!1,Hr(e.containerInfo)),0!==(n=Ut(e))&&(r=_l(e,n))),1===r)throw t=Ma,El(e,0),ml(e,n),fl(e,zi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Nl(e);break;case 3:if(ml(e,n),(62914560&n)===n&&10<(r=za+500-zi())){if(0!==Ft(e,0))break;if(((i=e.suspendedLanes)&n)!==n){ul(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=$r(Nl.bind(null,e),r);break}Nl(e);break;case 4:if(ml(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var a=31-qt(n);s=1<<a,(a=r[a])>i&&(i=a),n&=~s}if(n=i,10<(n=(120>(n=zi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ia(n/1960))-n)){e.timeoutHandle=$r(Nl.bind(null,e),n);break}Nl(e);break;default:throw Error(o(329))}}return fl(e,zi()),e.callbackNode===t?pl.bind(null,e):null}function ml(e,t){for(t&=~Ba,t&=~Va,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-qt(t),r=1<<n;e[n]=-1,t&=~r}}function gl(e){if(0!=(48&Na))throw Error(o(327));if(Ll(),e===Aa&&0!=(e.expiredLanes&La)){var t=La,n=_l(e,t);0!=(Fa&Va)&&(n=_l(e,t=Ft(e,t)))}else n=_l(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(Na|=64,e.hydrate&&(e.hydrate=!1,Hr(e.containerInfo)),0!==(t=Ut(e))&&(n=_l(e,t))),1===n)throw n=Ma,El(e,0),ml(e,t),fl(e,zi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Nl(e),fl(e,zi()),null}function yl(e,t){var n=Na;Na|=1;try{return e(t)}finally{0===(Na=n)&&($a(),Wi())}}function vl(e,t){var n=Na;Na&=-2,Na|=8;try{return e(t)}finally{0===(Na=n)&&($a(),Wi())}}function wl(e,t){ci(Pa,Oa),Oa|=t,Fa|=t}function bl(){Oa=Pa.current,ui(Pa)}function El(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Kr(n)),null!==Da)for(n=Da.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&yi();break;case 3:Os(),ui(fi),ui(di),Gs();break;case 5:Rs(r);break;case 4:Os();break;case 13:case 19:ui(Ms);break;case 10:ns(r);break;case 23:case 24:bl()}n=n.return}Aa=e,Da=ql(e.current,null),La=Oa=Fa=t,Ra=0,Ma=null,Ba=Va=Ua=0}function Sl(e,t){for(;;){var n=Da;try{if(ts(),Qs.current=Do,to){for(var r=Js.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}to=!1}if(Xs=0,eo=Zs=Js=null,no=!1,Ca.current=null,null===n||null===n.return){Ra=1,Ma=t,Da=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=La,a.flags|=2048,a.firstEffect=a.lastEffect=null,null!==l&&"object"==typeof l&&"function"==typeof l.then){var u=l;if(0==(2&a.mode)){var c=a.alternate;c?(a.updateQueue=c.updateQueue,a.memoizedState=c.memoizedState,a.lanes=c.lanes):(a.updateQueue=null,a.memoizedState=null)}var h=0!=(1&Ms.current),d=o;do{var f;if(f=13===d.tag){var p=d.memoizedState;if(null!==p)f=null!==p.dehydrated;else{var m=d.memoizedProps;f=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!h)}}if(f){var g=d.updateQueue;if(null===g){var y=new Set;y.add(u),d.updateQueue=y}else g.add(u);if(0==(2&d.mode)){if(d.flags|=64,a.flags|=16384,a.flags&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var v=us(-1,1);v.tag=2,cs(a,v)}a.lanes|=1;break e}l=void 0,a=t;var w=s.pingCache;if(null===w?(w=s.pingCache=new la,l=new Set,w.set(u,l)):void 0===(l=w.get(u))&&(l=new Set,w.set(u,l)),!l.has(a)){l.add(a);var b=Ul.bind(null,s,u,a);u.then(b,b)}d.flags|=4096,d.lanes=t;break e}d=d.return}while(null!==d);l=Error((W(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Ra&&(Ra=2),l=oa(l,a),d=o;do{switch(d.tag){case 3:s=l,d.flags|=4096,t&=-t,d.lanes|=t,hs(d,ua(0,s,t));break e;case 1:s=l;var E=d.type,S=d.stateNode;if(0==(64&d.flags)&&("function"==typeof E.getDerivedStateFromError||null!==S&&"function"==typeof S.componentDidCatch&&(null===Qa||!Qa.has(S)))){d.flags|=4096,t&=-t,d.lanes|=t,hs(d,ca(d,s,t));break e}}d=d.return}while(null!==d)}Cl(n)}catch(e){t=e,Da===n&&null!==n&&(Da=n=n.return);continue}break}}function kl(){var e=xa.current;return xa.current=Do,null===e?Do:e}function _l(e,t){var n=Na;Na|=16;var r=kl();for(Aa===e&&La===t||El(e,t);;)try{Tl();break}catch(t){Sl(e,t)}if(ts(),Na=n,xa.current=r,null!==Da)throw Error(o(261));return Aa=null,La=0,Ra}function Tl(){for(;null!==Da;)xl(Da)}function Il(){for(;null!==Da&&!xi();)xl(Da)}function xl(e){var t=Ka(e.alternate,e,Oa);e.memoizedProps=e.pendingProps,null===t?Cl(e):Da=t,Ca.current=null}function Cl(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(2048&t.flags)){if(null!==(n=ia(n,t,Oa)))return void(Da=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&Oa)||0==(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0==(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=sa(t)))return n.flags&=2047,void(Da=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Da=t);Da=t=e}while(null!==t);0===Ra&&(Ra=5)}function Nl(e){var t=qi();return Ki(99,Al.bind(null,e,t)),null}function Al(e,t){do{Ll()}while(null!==Xa);if(0!=(48&Na))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,s=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var a=e.eventTimes,l=e.expirationTimes;0<s;){var u=31-qt(s),c=1<<u;i[u]=0,a[u]=-1,l[u]=-1,s&=~c}if(null!==tl&&0==(24&r)&&tl.has(e)&&tl.delete(e),e===Aa&&(Da=Aa=null,La=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Na,Na|=32,Ca.current=null,Br=Gt,gr(a=mr())){if("selectionStart"in a)l={start:a.selectionStart,end:a.selectionEnd};else e:if(l=(l=a.ownerDocument)&&l.defaultView||window,(c=l.getSelection&&l.getSelection())&&0!==c.rangeCount){l=c.anchorNode,s=c.anchorOffset,u=c.focusNode,c=c.focusOffset;try{l.nodeType,u.nodeType}catch(e){l=null;break e}var h=0,d=-1,f=-1,p=0,m=0,g=a,y=null;t:for(;;){for(var v;g!==l||0!==s&&3!==g.nodeType||(d=h+s),g!==u||0!==c&&3!==g.nodeType||(f=h+c),3===g.nodeType&&(h+=g.nodeValue.length),null!==(v=g.firstChild);)y=g,g=v;for(;;){if(g===a)break t;if(y===l&&++p===s&&(d=h),y===u&&++m===c&&(f=h),null!==(v=g.nextSibling))break;y=(g=y).parentNode}g=v}l=-1===d||-1===f?null:{start:d,end:f}}else l=null;l=l||{start:0,end:0}}else l=null;jr={focusedElem:a,selectionRange:l},Gt=!1,al=null,ll=!1,Ha=r;do{try{Dl()}catch(e){if(null===Ha)throw Error(o(330));Fl(Ha,e),Ha=Ha.nextEffect}}while(null!==Ha);al=null,Ha=r;do{try{for(a=e;null!==Ha;){var w=Ha.flags;if(16&w&&ye(Ha.stateNode,""),128&w){var b=Ha.alternate;if(null!==b){var E=b.ref;null!==E&&("function"==typeof E?E(null):E.current=null)}}switch(1038&w){case 2:wa(Ha),Ha.flags&=-3;break;case 6:wa(Ha),Ha.flags&=-3,ka(Ha.alternate,Ha);break;case 1024:Ha.flags&=-1025;break;case 1028:Ha.flags&=-1025,ka(Ha.alternate,Ha);break;case 4:ka(Ha.alternate,Ha);break;case 8:Sa(a,l=Ha);var S=l.alternate;ya(l),null!==S&&ya(S)}Ha=Ha.nextEffect}}catch(e){if(null===Ha)throw Error(o(330));Fl(Ha,e),Ha=Ha.nextEffect}}while(null!==Ha);if(E=jr,b=mr(),w=E.focusedElem,a=E.selectionRange,b!==w&&w&&w.ownerDocument&&pr(w.ownerDocument.documentElement,w)){null!==a&&gr(w)&&(b=a.start,void 0===(E=a.end)&&(E=b),"selectionStart"in w?(w.selectionStart=b,w.selectionEnd=Math.min(E,w.value.length)):(E=(b=w.ownerDocument||document)&&b.defaultView||window).getSelection&&(E=E.getSelection(),l=w.textContent.length,S=Math.min(a.start,l),a=void 0===a.end?S:Math.min(a.end,l),!E.extend&&S>a&&(l=a,a=S,S=l),l=fr(w,S),s=fr(w,a),l&&s&&(1!==E.rangeCount||E.anchorNode!==l.node||E.anchorOffset!==l.offset||E.focusNode!==s.node||E.focusOffset!==s.offset)&&((b=b.createRange()).setStart(l.node,l.offset),E.removeAllRanges(),S>a?(E.addRange(b),E.extend(s.node,s.offset)):(b.setEnd(s.node,s.offset),E.addRange(b))))),b=[];for(E=w;E=E.parentNode;)1===E.nodeType&&b.push({element:E,left:E.scrollLeft,top:E.scrollTop});for("function"==typeof w.focus&&w.focus(),w=0;w<b.length;w++)(E=b[w]).element.scrollLeft=E.left,E.element.scrollTop=E.top}Gt=!!Br,jr=Br=null,e.current=n,Ha=r;do{try{for(w=e;null!==Ha;){var k=Ha.flags;if(36&k&&pa(w,Ha.alternate,Ha),128&k){b=void 0;var _=Ha.ref;if(null!==_){var T=Ha.stateNode;Ha.tag,b=T,"function"==typeof _?_(b):_.current=b}}Ha=Ha.nextEffect}}catch(e){if(null===Ha)throw Error(o(330));Fl(Ha,e),Ha=Ha.nextEffect}}while(null!==Ha);Ha=null,Fi(),Na=i}else e.current=n;if(Ya)Ya=!1,Xa=e,Ja=t;else for(Ha=r;null!==Ha;)t=Ha.nextEffect,Ha.nextEffect=null,8&Ha.flags&&((k=Ha).sibling=null,k.stateNode=null),Ha=t;if(0===(r=e.pendingLanes)&&(Qa=null),1===r?e===rl?nl++:(nl=0,rl=e):nl=0,n=n.stateNode,ki&&"function"==typeof ki.onCommitFiberRoot)try{ki.onCommitFiberRoot(Si,n,void 0,64==(64&n.current.flags))}catch(e){}if(fl(e,zi()),Wa)throw Wa=!1,e=Ga,Ga=null,e;return 0!=(8&Na)||Wi(),null}function Dl(){for(;null!==Ha;){var e=Ha.alternate;ll||null===al||(0!=(8&Ha.flags)?Ze(Ha,al)&&(ll=!0):13===Ha.tag&&Ta(e,Ha)&&Ze(Ha,al)&&(ll=!0));var t=Ha.flags;0!=(256&t)&&fa(e,Ha),0==(512&t)||Ya||(Ya=!0,Hi(97,(function(){return Ll(),null}))),Ha=Ha.nextEffect}}function Ll(){if(90!==Ja){var e=97<Ja?97:Ja;return Ja=90,Ki(e,Rl)}return!1}function Ol(e,t){Za.push(t,e),Ya||(Ya=!0,Hi(97,(function(){return Ll(),null})))}function Pl(e,t){el.push(t,e),Ya||(Ya=!0,Hi(97,(function(){return Ll(),null})))}function Rl(){if(null===Xa)return!1;var e=Xa;if(Xa=null,0!=(48&Na))throw Error(o(331));var t=Na;Na|=32;var n=el;el=[];for(var r=0;r<n.length;r+=2){var i=n[r],s=n[r+1],a=i.destroy;if(i.destroy=void 0,"function"==typeof a)try{a()}catch(e){if(null===s)throw Error(o(330));Fl(s,e)}}for(n=Za,Za=[],r=0;r<n.length;r+=2){i=n[r],s=n[r+1];try{var l=i.create;i.destroy=l()}catch(e){if(null===s)throw Error(o(330));Fl(s,e)}}for(l=e.current.firstEffect;null!==l;)e=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=e;return Na=t,Wi(),!0}function Ml(e,t,n){cs(e,t=ua(0,t=oa(n,t),1)),t=ul(),null!==(e=dl(e,1))&&(zt(e,1,t),fl(e,t))}function Fl(e,t){if(3===e.tag)Ml(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Ml(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Qa||!Qa.has(r))){var i=ca(n,e=oa(t,e),1);if(cs(n,i),i=ul(),null!==(n=dl(n,1)))zt(n,1,i),fl(n,i);else if("function"==typeof r.componentDidCatch&&(null===Qa||!Qa.has(r)))try{r.componentDidCatch(t,e)}catch(e){}break}}n=n.return}}function Ul(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ul(),e.pingedLanes|=e.suspendedLanes&n,Aa===e&&(La&n)===n&&(4===Ra||3===Ra&&(62914560&La)===La&&500>zi()-za?El(e,0):Ba|=n),fl(e,t)}function Vl(e,t){var n=e.stateNode;null!==n&&n.delete(t),0==(t=0)&&(0==(2&(t=e.mode))?t=1:0==(4&t)?t=99===qi()?1:2:(0===sl&&(sl=Fa),0===(t=Bt(62914560&~sl))&&(t=4194304))),n=ul(),null!==(e=dl(e,t))&&(zt(e,t,n),fl(e,n))}function Bl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function jl(e,t,n,r){return new Bl(e,t,n,r)}function zl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function ql(e,t){var n=e.alternate;return null===n?((n=jl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function $l(e,t,n,r,i,s){var a=2;if(r=e,"function"==typeof e)zl(e)&&(a=1);else if("string"==typeof e)a=5;else e:switch(e){case _:return Kl(n.children,i,s,t);case M:a=8,i|=16;break;case T:a=8,i|=1;break;case I:return(e=jl(12,n,t,8|i)).elementType=I,e.type=I,e.lanes=s,e;case A:return(e=jl(13,n,t,i)).type=A,e.elementType=A,e.lanes=s,e;case D:return(e=jl(19,n,t,i)).elementType=D,e.lanes=s,e;case F:return Hl(n,i,s,t);case U:return(e=jl(24,n,t,i)).elementType=U,e.lanes=s,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case x:a=10;break e;case C:a=9;break e;case N:a=11;break e;case L:a=14;break e;case O:a=16,r=null;break e;case P:a=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=jl(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Kl(e,t,n,r){return(e=jl(7,e,r,t)).lanes=n,e}function Hl(e,t,n,r){return(e=jl(23,e,r,t)).elementType=F,e.lanes=n,e}function Wl(e,t,n){return(e=jl(6,e,null,t)).lanes=n,e}function Gl(e,t,n){return(t=jl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ql(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=jt(0),this.expirationTimes=jt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jt(0),this.mutableSourceEagerHydrationData=null}function Yl(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Xl(e,t,n,r){var i=t.current,s=ul(),a=cl(i);e:if(n){t:{if(Qe(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(gi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(o(171))}if(1===n.tag){var u=n.type;if(gi(u)){n=wi(n,u,l);break e}}n=l}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=us(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),cs(i,t),hl(i,a,s),a}function Jl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Zl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function eu(e,t){Zl(e,t),(e=e.alternate)&&Zl(e,t)}function tu(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Ql(e,t,null!=n&&!0===n.hydrate),t=jl(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,as(t),e[Zr]=n.current,Dr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function nu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ru(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s._internalRoot;if("function"==typeof i){var a=i;i=function(){var e=Jl(o);a.call(e)}}Xl(t,o,e,i)}else{if(s=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new tu(e,0,t?{hydrate:!0}:void 0)}(n,r),o=s._internalRoot,"function"==typeof i){var l=i;i=function(){var e=Jl(o);l.call(e)}}vl((function(){Xl(t,o,e,i)}))}return Jl(o)}function iu(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nu(t))throw Error(o(200));return Yl(e,t,null,n)}Ka=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||fi.current)Mo=!0;else{if(0==(n&r)){switch(Mo=!1,t.tag){case 3:Ho(t),Hs();break;case 5:Ps(t);break;case 1:gi(t.type)&&bi(t);break;case 4:Ls(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;ci(Xi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!=(n&t.child.childLanes)?Xo(e,t,n):(ci(Ms,1&Ms.current),null!==(t=na(e,t,n))?t.sibling:null);ci(Ms,1&Ms.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(64&e.flags)){if(r)return ta(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ci(Ms,Ms.current),r)break;return null;case 23:case 24:return t.lanes=0,jo(e,t,n)}return na(e,t,n)}Mo=0!=(16384&e.flags)}else Mo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,di.current),is(t,n),i=so(null,t,r,e,i,n),t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,gi(r)){var s=!0;bi(t)}else s=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,as(t);var a=r.getDerivedStateFromProps;"function"==typeof a&&ms(t,r,a,e),i.updater=gs,t.stateNode=i,i._reactInternals=t,bs(t,r,e,n),t=Ko(null,t,r,!0,s,n)}else t.tag=0,Fo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(s=i._init)(i._payload),t.type=i,s=t.tag=function(e){if("function"==typeof e)return zl(e)?1:0;if(null!=e){if((e=e.$$typeof)===N)return 11;if(e===L)return 14}return 2}(i),e=Yi(i,e),s){case 0:t=qo(null,t,i,e,n);break e;case 1:t=$o(null,t,i,e,n);break e;case 11:t=Uo(null,t,i,e,n);break e;case 14:t=Vo(null,t,i,Yi(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,qo(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 1:return r=t.type,i=t.pendingProps,$o(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 3:if(Ho(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ls(e,t),ds(t,r,null,n),(r=t.memoizedState.element)===i)Hs(),t=na(e,t,n);else{if((s=(i=t.stateNode).hydrate)&&(Vs=Wr(t.stateNode.containerInfo.firstChild),Us=t,s=Bs=!0),s){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(s=e[i])._workInProgressVersionPrimary=e[i+1],Ws.push(s);for(n=Is(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Fo(e,t,r,n),Hs();t=t.child}return t;case 5:return Ps(t),null===e&&qs(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,a=i.children,qr(r,i)?a=null:null!==s&&qr(r,s)&&(t.flags|=16),zo(e,t),Fo(e,t,a,n),t.child;case 6:return null===e&&qs(t),null;case 13:return Xo(e,t,n);case 4:return Ls(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ts(t,null,r,n):Fo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Uo(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 7:return Fo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Fo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value;var l=t.type._context;if(ci(Xi,l._currentValue),l._currentValue=s,null!==a)if(l=a.value,0==(s=ur(l,s)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(l,s):1073741823))){if(a.children===i.children&&!fi.current){t=na(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var u=l.dependencies;if(null!==u){a=l.child;for(var c=u.firstContext;null!==c;){if(c.context===r&&0!=(c.observedBits&s)){1===l.tag&&((c=us(-1,n&-n)).tag=2,cs(l,c)),l.lanes|=n,null!==(c=l.alternate)&&(c.lanes|=n),rs(l.return,n),u.lanes|=n;break}c=c.next}}else a=10===l.tag&&l.type===t.type?null:l.child;if(null!==a)a.return=l;else for(a=l;null!==a;){if(a===t){a=null;break}if(null!==(l=a.sibling)){l.return=a.return,a=l;break}a=a.return}l=a}Fo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(s=t.pendingProps).children,is(t,n),r=r(i=ss(i,s.unstable_observedBits)),t.flags|=1,Fo(e,t,r,n),t.child;case 14:return s=Yi(i=t.type,t.pendingProps),Vo(e,t,i,s=Yi(i.type,s),r,n);case 15:return Bo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Yi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,gi(r)?(e=!0,bi(t)):e=!1,is(t,n),vs(t,r,i),bs(t,r,i,n),Ko(null,t,r,!0,e,n);case 19:return ta(e,t,n);case 23:case 24:return jo(e,t,n)}throw Error(o(156,t.tag))},tu.prototype.render=function(e){Xl(e,this._internalRoot,null,null)},tu.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Xl(null,e,null,(function(){t[Zr]=null}))},et=function(e){13===e.tag&&(hl(e,4,ul()),eu(e,4))},tt=function(e){13===e.tag&&(hl(e,67108864,ul()),eu(e,67108864))},nt=function(e){if(13===e.tag){var t=ul(),n=cl(e);hl(e,n,t),eu(e,n)}},rt=function(e,t){return t()},Ie=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ii(r);if(!i)throw Error(o(90));X(r),ne(r,i)}}}break;case"textarea":ue(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Le=yl,Oe=function(e,t,n,r,i){var s=Na;Na|=4;try{return Ki(98,e.bind(null,t,n,r,i))}finally{0===(Na=s)&&($a(),Wi())}},Pe=function(){0==(49&Na)&&(function(){if(null!==tl){var e=tl;tl=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,fl(e,zi())}))}Wi()}(),Ll())},Re=function(e,t){var n=Na;Na|=2;try{return e(t)}finally{0===(Na=n)&&($a(),Wi())}};var su={Events:[ni,ri,ii,Ae,De,Ll,{current:!1}]},ou={findFiberByHostInstance:ti,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},au={bundleType:ou.bundleType,version:ou.version,rendererPackageName:ou.rendererPackageName,rendererConfig:ou.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Je(e))?null:e.stateNode},findFiberByHostInstance:ou.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var lu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lu.isDisabled&&lu.supportsFiber)try{Si=lu.inject(au),ki=lu}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=su,t.createPortal=iu,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return null===(e=Je(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Na;if(0!=(48&n))return e(t);Na|=1;try{if(e)return Ki(99,e.bind(null,t))}finally{Na=n,Wi()}},t.hydrate=function(e,t,n){if(!nu(t))throw Error(o(200));return ru(null,e,t,!0,n)},t.render=function(e,t,n){if(!nu(t))throw Error(o(200));return ru(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!nu(e))throw Error(o(40));return!!e._reactRootContainer&&(vl((function(){ru(null,null,e,!1,(function(){e._reactRootContainer=null,e[Zr]=null}))})),!0)},t.unstable_batchedUpdates=yl,t.unstable_createPortal=function(e,t){return iu(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!nu(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return ru(e,t,n,!1,r)},t.version="17.0.2"},935:function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(448)},408:function(e,t,n){"use strict";var r=n(418),i=60103,s=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,a=60110,l=60112;t.Suspense=60113;var u=60115,c=60116;if("function"==typeof Symbol&&Symbol.for){var h=Symbol.for;i=h("react.element"),s=h("react.portal"),t.Fragment=h("react.fragment"),t.StrictMode=h("react.strict_mode"),t.Profiler=h("react.profiler"),o=h("react.provider"),a=h("react.context"),l=h("react.forward_ref"),t.Suspense=h("react.suspense"),u=h("react.memo"),c=h("react.lazy")}var d="function"==typeof Symbol&&Symbol.iterator;function f(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(f(85));this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var w=v.prototype=new y;w.constructor=v,r(w,g.prototype),w.isPureReactComponent=!0;var b={current:null},E=Object.prototype.hasOwnProperty,S={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,n){var r,s={},o=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)E.call(t,r)&&!S.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(1===l)s.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===s[r]&&(s[r]=l[r]);return{$$typeof:i,type:e,key:o,ref:a,props:s,_owner:b.current}}function _(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}var T=/\/+/g;function I(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function x(e,t,n,r,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case i:case s:l=!0}}if(l)return o=o(l=e),e=""===r?"."+I(l,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(T,"$&/")+"/"),x(o,t,n,"",(function(e){return e}))):null!=o&&(_(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(l=0,r=""===r?".":r+":",Array.isArray(e))for(var u=0;u<e.length;u++){var c=r+I(a=e[u],u);l+=x(a,t,n,c,o)}else if(c=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"==typeof c)for(e=c.call(e),u=0;!(a=e.next()).done;)l+=x(a=a.value,t,n,c=r+I(a,u++),o);else if("object"===a)throw t=""+e,Error(f(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return l}function C(e,t,n){if(null==e)return e;var r=[],i=0;return x(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var A={current:null};function D(){var e=A.current;if(null===e)throw Error(f(321));return e}var L={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!_(e))throw Error(f(143));return e}},t.Component=g,t.PureComponent=v,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.cloneElement=function(e,t,n){if(null==e)throw Error(f(267,e));var s=r({},e.props),o=e.key,a=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,l=b.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)E.call(t,c)&&!S.hasOwnProperty(c)&&(s[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)s.children=n;else if(1<c){u=Array(c);for(var h=0;h<c;h++)u[h]=arguments[h+2];s.children=u}return{$$typeof:i,type:e.type,key:o,ref:a,props:s,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:a,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:c,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return D().useCallback(e,t)},t.useContext=function(e,t){return D().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return D().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return D().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return D().useLayoutEffect(e,t)},t.useMemo=function(e,t){return D().useMemo(e,t)},t.useReducer=function(e,t,n){return D().useReducer(e,t,n)},t.useRef=function(e){return D().useRef(e)},t.useState=function(e){return D().useState(e)},t.version="17.0.2"},294:function(e,t,n){"use strict";e.exports=n(408)},666:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},s=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,s=Object.create(i.prototype),o=new C(r||[]);return s._invoke=function(e,t,n){var r=h;return function(i,s){if(r===f)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw s;return A()}for(n.method=i,n.arg=s;;){var o=n.delegate;if(o){var a=T(o,n);if(a){if(a===m)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===h)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=f;var l=c(e,t,n);if("normal"===l.type){if(r=n.done?p:d,l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r=p,n.method="throw",n.arg=l.arg)}}}(e,n,o),s}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var h="suspendedStart",d="suspendedYield",f="executing",p="completed",m={};function g(){}function y(){}function v(){}var w={};w[s]=function(){return this};var b=Object.getPrototypeOf,E=b&&b(b(N([])));E&&E!==n&&r.call(E,s)&&(w=E);var S=v.prototype=g.prototype=Object.create(w);function k(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(i,s,o,a){var l=c(e[i],e,s);if("throw"!==l.type){var u=l.arg,h=u.value;return h&&"object"==typeof h&&r.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,o,a)}),(function(e){n("throw",e,o,a)})):t.resolve(h).then((function(e){u.value=e,o(u)}),(function(e){return n("throw",e,o,a)}))}a(l.arg)}var i;this._invoke=function(e,r){function s(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(s,s):s()}}function T(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,T(e,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var i=c(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var s=i.arg;return s?s.done?(n[e.resultName]=s.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function N(e){if(e){var n=e[s];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:A}}function A(){return{value:t,done:!0}}return y.prototype=S.constructor=v,v.constructor=y,y.displayName=l(v,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,l(e,a,"GeneratorFunction")),e.prototype=Object.create(S),e},e.awrap=function(e){return{__await:e}},k(_.prototype),_.prototype[o]=function(){return this},e.AsyncIterator=_,e.async=function(t,n,r,i,s){void 0===s&&(s=Promise);var o=new _(u(t,n,r,i),s);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},k(S),l(S,a,"Generator"),S[s]=function(){return this},S.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=N,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(x),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return a.type="throw",a.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var s=this.tryEntries.length-1;s>=0;--s){var o=this.tryEntries[s],a=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var l=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(l&&u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var s=i;break}}s&&("break"===e||"continue"===e)&&s.tryLoc<=t&&t<=s.finallyLoc&&(s=null);var o=s?s.completion:{};return o.type=e,o.arg=t,s?(this.method="next",this.next=s.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:N(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}},53:function(e,t){"use strict";var n,r,i,s;if("object"==typeof performance&&"function"==typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var u=null,c=null,h=function(){if(null!==u)try{var e=t.unstable_now();u(!0,e),u=null}catch(e){throw setTimeout(h,0),e}};n=function(e){null!==u?setTimeout(n,0,e):(u=e,setTimeout(h,0))},r=function(e,t){c=setTimeout(e,t)},i=function(){clearTimeout(c)},t.unstable_shouldYield=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,f=window.clearTimeout;if("undefined"!=typeof console){var p=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,g=null,y=-1,v=5,w=0;t.unstable_shouldYield=function(){return t.unstable_now()>=w},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,E=b.port2;b.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();w=e+v;try{g(!0,e)?E.postMessage(null):(m=!1,g=null)}catch(e){throw E.postMessage(null),e}}else m=!1},n=function(e){g=e,m||(m=!0,E.postMessage(null))},r=function(e,n){y=d((function(){e(t.unstable_now())}),n)},i=function(){f(y),y=-1}}function S(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<T(i,t)))break e;e[r]=t,e[n]=i,n=r}}function k(e){return void 0===(e=e[0])?null:e}function _(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var s=2*(r+1)-1,o=e[s],a=s+1,l=e[a];if(void 0!==o&&0>T(o,n))void 0!==l&&0>T(l,o)?(e[r]=l,e[a]=n,r=a):(e[r]=o,e[s]=n,r=s);else{if(!(void 0!==l&&0>T(l,n)))break e;e[r]=l,e[a]=n,r=a}}}return t}return null}function T(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var I=[],x=[],C=1,N=null,A=3,D=!1,L=!1,O=!1;function P(e){for(var t=k(x);null!==t;){if(null===t.callback)_(x);else{if(!(t.startTime<=e))break;_(x),t.sortIndex=t.expirationTime,S(I,t)}t=k(x)}}function R(e){if(O=!1,P(e),!L)if(null!==k(I))L=!0,n(M);else{var t=k(x);null!==t&&r(R,t.startTime-e)}}function M(e,n){L=!1,O&&(O=!1,i()),D=!0;var s=A;try{for(P(n),N=k(I);null!==N&&(!(N.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=N.callback;if("function"==typeof o){N.callback=null,A=N.priorityLevel;var a=o(N.expirationTime<=n);n=t.unstable_now(),"function"==typeof a?N.callback=a:N===k(I)&&_(I),P(n)}else _(I);N=k(I)}if(null!==N)var l=!0;else{var u=k(x);null!==u&&r(R,u.startTime-n),l=!1}return l}finally{N=null,A=s,D=!1}}var F=s;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){L||D||(L=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_getFirstCallbackNode=function(){return k(I)},t.unstable_next=function(e){switch(A){case 1:case 2:case 3:var t=3;break;default:t=A}var n=A;A=t;try{return e()}finally{A=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=A;A=e;try{return t()}finally{A=n}},t.unstable_scheduleCallback=function(e,s,o){var a=t.unstable_now();switch(o="object"==typeof o&&null!==o&&"number"==typeof(o=o.delay)&&0<o?a+o:a,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:C++,callback:s,priorityLevel:e,startTime:o,expirationTime:l=o+l,sortIndex:-1},o>a?(e.sortIndex=o,S(x,e),null===k(I)&&e===k(x)&&(O?i():O=!0,r(R,o-a))):(e.sortIndex=l,S(I,e),L||D||(L=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=A;return function(){var n=A;A=t;try{return e.apply(this,arguments)}finally{A=n}}}},840:function(e,t,n){"use strict";e.exports=n(53)},379:function(e){"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var s={},o=[],a=0;a<e.length;a++){var l=e[a],u=r.base?l[0]+r.base:l[0],c=s[u]||0,h="".concat(u," ").concat(c);s[u]=c+1;var d=n(h),f={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==d)t[d].references++,t[d].updater(f);else{var p=i(f,r);r.byIndex=a,t.splice(a,0,{identifier:h,updater:p,references:1})}o.push(h)}return o}function i(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,i){var s=r(e=e||[],i=i||{});return function(e){e=e||[];for(var o=0;o<s.length;o++){var a=n(s[o]);t[a].references--}for(var l=r(e,i),u=0;u<s.length;u++){var c=n(s[u]);0===t[c].references&&(t[c].updater(),t.splice(c,1))}s=l}}},569:function(e){"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},216:function(e){"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:function(e,t,n){"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},795:function(e){"use strict";e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,i&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var s=n.sourceMap;s&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:function(e){"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},189:function(e){"use strict";e.exports="data:image/svg+xml;utf8,<svg fill=%27black%27 height=%2750%27 viewBox=%270 0 24 24%27 width=%2750%27 xmlns=%27http://www.w3.org/2000/svg%27><path d=%27M7 10l5 5 5-5z%27/><path d=%27M0 0h24v24H0z%27 fill=%27none%27/></svg>"}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={id:r,exports:{}};return e[r](s,s.exports,n),s.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e}(),n.b=document.baseURI||self.location.href,function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return se},SDK_VERSION:function(){return ze},_DEFAULT_ENTRY_NAME:function(){return Ae},_addComponent:function(){return Pe},_addOrOverwriteComponent:function(){return Re},_apps:function(){return Le},_clearComponents:function(){return Ve},_components:function(){return Oe},_getProvider:function(){return Fe},_registerComponent:function(){return Me},_removeServiceInstance:function(){return Ue},deleteApp:function(){return He},getApp:function(){return $e},getApps:function(){return Ke},initializeApp:function(){return qe},onLog:function(){return Ge},registerVersion:function(){return We},setLogLevel:function(){return Qe}});var t=n(294),r=n(935),i=n(379),s=n.n(i),o=n(795),a=n.n(o),l=n(569),u=n.n(l),c=n(565),h=n.n(c),d=n(216),f=n.n(d),p=n(589),m=n.n(p),g=n(87),y={};y.styleTagTransform=m(),y.setAttributes=h(),y.insert=u().bind(null,"head"),y.domAPI=a(),y.insertStyleElement=f(),s()(g.Z,y),g.Z&&g.Z.locals&&g.Z.locals;var v=n(400),w={};w.styleTagTransform=m(),w.setAttributes=h(),w.insert=u().bind(null,"head"),w.domAPI=a(),w.insertStyleElement=f(),s()(v.Z,w),v.Z&&v.Z.locals&&v.Z.locals;var b=n(445),E={};E.styleTagTransform=m(),E.setAttributes=h(),E.insert=u().bind(null,"head"),E.domAPI=a(),E.insertStyleElement=f(),s()(b.Z,E),b.Z&&b.Z.locals&&b.Z.locals;var S=function(e){var n=e.imageURL,r=e.altContent,i=e.clickEvent;return t.createElement("button",{type:"button",onClick:i,className:"icon-button"},t.createElement("img",{alt:r,src:n}))};function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,s=[],o=!0,a=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);o=!0);}catch(e){a=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(a)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?k(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var T=function(){var e=_((0,t.useState)(!1),2),n=e[0],r=e[1];return{isShowing:n,toggle:function(){r(!n)}}},I=n(708),x={};x.styleTagTransform=m(),x.setAttributes=h(),x.insert=u().bind(null,"head"),x.domAPI=a(),x.insertStyleElement=f(),s()(I.Z,x),I.Z&&I.Z.locals&&I.Z.locals;var C=n.p+"672f523be30d0a6c0b89adf41a5c702a.svg",N=function(e){var n=e.isShowing,i=e.hide,s=e.children,o=n&&t.createElement("div",{className:"modal-background"},t.createElement("div",{className:"modal-wrapper"},t.createElement("section",{className:"modal-section"},t.createElement("header",{className:"modal-header"},t.createElement("div",{className:"closeIcon-wrapper"},t.createElement(S,{imageURL:C,altContent:"closeIcon",clickEvent:i}))),s)));return t.createElement(t.Fragment,null,(0,r.createPortal)(o,document.body))},A=n.p+"49e9a87531722e5e71f457de91accd69.svg",D=n.p+"57b73729285cf67ff5c968e6859d117e.svg",L=function(e){var n=e.noticeTitle,r=e.noticeContent,i=T(),s=i.isShowing,o=i.toggle;return t.createElement("div",{className:"header-wrapper"},t.createElement("div",{className:"mogamLogo-wrapper"},t.createElement("img",{className:"mogamLogo",src:A}),t.createElement("span",{className:"mogamLogo-title"},"Mogam")),t.createElement("div",{className:"infoIcon-wrapper"},t.createElement(S,{imageURL:D,altContent:"infoIcon",clickEvent:o}),t.createElement(N,{isShowing:s,hide:o},t.createElement("section",{className:"notice-wrapper"},t.createElement("h1",{className:"notice-title"},n),t.createElement("p",{className:"notice-content"},r)))))},O=n(411),P={};P.styleTagTransform=m(),P.setAttributes=h(),P.insert=u().bind(null,"head"),P.domAPI=a(),P.insertStyleElement=f(),s()(O.Z,P),O.Z&&O.Z.locals&&O.Z.locals;var R=function(e){var n=e.isOccupied,r=e.seatsNumber,i=n?" ":" ",s=n?"vacant":"occupied";return t.createElement("div",{className:"currentSeatDisplay currentSeatDisplay--".concat(s)},t.createElement("span",{className:"status"},i),t.createElement("span",{className:"seatsNumber"},r))},M=n(647),F={};F.styleTagTransform=m(),F.setAttributes=h(),F.insert=u().bind(null,"head"),F.domAPI=a(),F.insertStyleElement=f(),s()(M.Z,F),M.Z&&M.Z.locals&&M.Z.locals;var U=n(992),V={};V.styleTagTransform=m(),V.setAttributes=h(),V.insert=u().bind(null,"head"),V.domAPI=a(),V.insertStyleElement=f(),s()(U.Z,V),U.Z&&U.Z.locals&&U.Z.locals;var B=n(981),j={};j.styleTagTransform=m(),j.setAttributes=h(),j.insert=u().bind(null,"head"),j.domAPI=a(),j.insertStyleElement=f(),s()(B.Z,j),B.Z&&B.Z.locals&&B.Z.locals;var z=function(e){var n=e.identification,r=e.title,i=e.type,s=e.dataSet,o=e.formHint,a=e.formValue,l=e.isDisabled,u=e.setData,c="select"===i&&void 0===a?"default":a,h=_((0,t.useState)(c),2),d=h[0],f=h[1],p=function(e){f(e.target.value),u(e.target.value)},m=function(e){return t.createElement("option",{key:e.key,value:e.contents},e.contents)};return t.createElement("div",{className:"form"},t.createElement("label",{htmlFor:n,className:"form-label"},r," :"),function(e){switch(e){case"select":return t.createElement("select",{id:n,value:d,onChange:p,className:"form-block form-block-arrow",disabled:l},t.createElement("option",{key:"0",value:"default",disabled:!0,hidden:!0},o),s.map(m));case"text":return t.createElement("input",{className:"form-block",id:n,type:e,name:r,placeholder:o,value:d,onChange:p,disabled:l})}}(i))},q=n(594),$={};$.styleTagTransform=m(),$.setAttributes=h(),$.insert=u().bind(null,"head"),$.domAPI=a(),$.insertStyleElement=f(),s()(q.Z,$),q.Z&&q.Z.locals&&q.Z.locals;var K=function(e){var n=e.buttonType,r=e.title,i=e.clickEvent;return t.createElement("button",{type:n,className:"baseButton",onClick:i},r)},H=n(909),W={};function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Q(e,t,n,r,i,s,o){try{var a=e[s](o),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(r,i)}function Y(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var s=e.apply(t,n);function o(e){Q(s,r,i,o,a,"next",e)}function a(e){Q(s,r,i,o,a,"throw",e)}o(void 0)}))}}W.styleTagTransform=m(),W.setAttributes=h(),W.insert=u().bind(null,"head"),W.domAPI=a(),W.insertStyleElement=f(),s()(H.Z,W),H.Z&&H.Z.locals&&H.Z.locals;var X=n(757),J=n.n(X);const Z=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ee={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){const i=e[t],s=t+1<e.length,o=s?e[t+1]:0,a=t+2<e.length,l=a?e[t+2]:0,u=i>>2,c=(3&i)<<4|o>>4;let h=(15&o)<<2|l>>6,d=63&l;a||(d=64,s||(h=64)),r.push(n[u],n[c],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Z(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){const i=n[e.charAt(t++)],s=t<e.length?n[e.charAt(t)]:0;++t;const o=t<e.length?n[e.charAt(t)]:64;++t;const a=t<e.length?n[e.charAt(t)]:64;if(++t,null==i||null==s||null==o||null==a)throw Error();const l=i<<2|s>>4;if(r.push(l),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},te=function(e){return function(e){const t=Z(e);return ee.encodeByteArray(t,!0)}(e).replace(/\./g,"")};function ne(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=ne(e[n],t[n]));return e}class re{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function ie(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}class se extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,se.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oe.prototype.create)}}class oe{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],s=i?function(e,t){return e.replace(ae,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(i,n):"Error",o=`${this.serviceName}: ${s} (${r}).`;return new se(r,o,n)}}const ae=/\{\$([^}]+)}/g;function le(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ue(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(ce(n)&&ce(s)){if(!ue(n,s))return!1}else if(n!==s)return!1}for(const e of r)if(!n.includes(e))return!1;return!0}function ce(e){return null!==e&&"object"==typeof e}function he(e,t){const n=new de(e,t);return n.subscribe.bind(n)}class de{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!=typeof e||null===e)return!1;for(const t of["next","error","complete"])if(t in e&&"function"==typeof e[t])return!0;return!1}(e)?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=fe),void 0===r.error&&(r.error=fe),void 0===r.complete&&(r.complete=fe);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function fe(){}function pe(e){return e&&e._delegate?e._delegate:e}class me{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ge="[DEFAULT]";class ye{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new re;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ge})}catch(e){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}}clearInstance(e="[DEFAULT]"){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(e="[DEFAULT]"){return this.instances.has(e)}getOptions(e="[DEFAULT]"){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[e,t]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(e)&&t.resolve(r);return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===ge?void 0:r),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(e){}var r;return n||null}normalizeInstanceIdentifier(e="[DEFAULT]"){return this.component?this.component.multipleInstances?e:ge:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ve{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new ye(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const we=[];var be;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(be||(be={}));const Ee={debug:be.DEBUG,verbose:be.VERBOSE,info:be.INFO,warn:be.WARN,error:be.ERROR,silent:be.SILENT},Se=be.INFO,ke={[be.DEBUG]:"log",[be.VERBOSE]:"log",[be.INFO]:"info",[be.WARN]:"warn",[be.ERROR]:"error"},_e=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=ke[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class Te{constructor(e){this.name=e,this._logLevel=Se,this._logHandler=_e,this._userLogHandler=null,we.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?Ee[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,be.DEBUG,...e),this._logHandler(this,be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,be.VERBOSE,...e),this._logHandler(this,be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,be.INFO,...e),this._logHandler(this,be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,be.WARN,...e),this._logHandler(this,be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,be.ERROR,...e),this._logHandler(this,be.ERROR,...e)}}class Ie{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const xe="@firebase/app",Ce="0.7.11",Ne=new Te("@firebase/app"),Ae="[DEFAULT]",De={[xe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Le=new Map,Oe=new Map;function Pe(e,t){try{e.container.addComponent(t)}catch(n){Ne.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Re(e,t){e.container.addOrOverwriteComponent(t)}function Me(e){const t=e.name;if(Oe.has(t))return Ne.debug(`There were multiple attempts to register component ${t}.`),!1;Oe.set(t,e);for(const t of Le.values())Pe(t,e);return!0}function Fe(e,t){return e.container.getProvider(t)}function Ue(e,t,n=Ae){Fe(e,t).clearInstance(n)}function Ve(){Oe.clear()}const Be=new oe("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class je{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new me("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Be.create("app-deleted",{appName:this._name})}}const ze="9.6.1";function qe(e,t={}){"object"!=typeof t&&(t={name:t});const n=Object.assign({name:Ae,automaticDataCollectionEnabled:!1},t),r=n.name;if("string"!=typeof r||!r)throw Be.create("bad-app-name",{appName:String(r)});const i=Le.get(r);if(i){if(ue(e,i.options)&&ue(n,i.config))return i;throw Be.create("duplicate-app",{appName:r})}const s=new ve(r);for(const e of Oe.values())s.addComponent(e);const o=new je(e,n,s);return Le.set(r,o),o}function $e(e=Ae){const t=Le.get(e);if(!t)throw Be.create("no-app",{appName:e});return t}function Ke(){return Array.from(Le.values())}async function He(e){const t=e.name;Le.has(t)&&(Le.delete(t),await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function We(e,t,n){var r;let i=null!==(r=De[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=[`Unable to register library "${i}" with version "${t}":`];return s&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&e.push("and"),o&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Ne.warn(e.join(" "))}Me(new me(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}function Ge(e,t){if(null!==e&&"function"!=typeof e)throw Be.create("invalid-log-argument");!function(e,t){for(const n of we){let r=null;t&&t.level&&(r=Ee[t.level]),n.userLogHandler=null===e?null:(t,n,...i)=>{const s=i.map((e=>{if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(e){return null}})).filter((e=>e)).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:be[n].toLowerCase(),message:s,args:i,type:t.name})}}}(e,t)}function Qe(e){var t;t=e,we.forEach((e=>{e.setLogLevel(t)}))}Me(new me("platform-logger",(e=>new Ie(e)),"PRIVATE")),We(xe,Ce,""),We(xe,Ce,"esm2017"),We("fire-js","");class Ye{constructor(e,t){this._delegate=e,this.firebase=t,Pe(e,new me("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),He(this._delegate))))}_getService(e,t=Ae){var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e,t=Ae){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){Pe(this._delegate,e)}_addOrOverwriteComponent(e){Re(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Xe=new oe("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Je=function t(){const n=function(t){const n={},r={__esModule:!0,initializeApp:function(e,i={}){const s=qe(e,i);if(le(n,s.name))return n[s.name];const o=new t(s,r);return n[s.name]=o,o},app:i,registerVersion:We,setLogLevel:Qe,onLog:Ge,apps:null,SDK_VERSION:ze,INTERNAL:{registerComponent:function(e){const n=e.name,s=n.replace("-compat","");if(Me(e)&&"PUBLIC"===e.type){const o=(e=i())=>{if("function"!=typeof e[s])throw Xe.create("invalid-app-argument",{appName:n});return e[s]()};void 0!==e.serviceProps&&ne(o,e.serviceProps),r[s]=o,t.prototype[s]=function(...t){return this._getService.bind(this,n).apply(this,e.multipleInstances?t:[])}}return"PUBLIC"===e.type?r[s]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!le(n,e=e||Ae))throw Xe.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((e=>n[e]))}}),i.App=t,r}(Ye);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){ne(n,e)},createSubscribe:he,ErrorFactory:oe,deepExtend:ne}),n}(),Ze=new Te("@firebase/app-compat");if("object"==typeof self&&self.self===self&&void 0!==self.firebase){Ze.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&Ze.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const et=Je;We("@firebase/app-compat","0.1.12",void 0),et.registerVersion("firebase","9.6.1","app-compat");var tt,nt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},rt={},it=it||{},st=nt||self;function ot(){}function at(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function lt(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var ut="closure_uid_"+(1e9*Math.random()>>>0),ct=0;function ht(e,t,n){return e.call.apply(e.bind,arguments)}function dt(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function ft(e,t,n){return(ft=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ht:dt).apply(null,arguments)}function pt(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function mt(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function gt(){this.s=this.s,this.o=this.o}var yt={};gt.prototype.s=!1,gt.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,ut)&&e[ut]||(e[ut]=++ct)}(this);delete yt[e]}},gt.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const vt=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},wt=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){const r=e.length,i="string"==typeof e?e.split(""):e;for(let s=0;s<r;s++)s in i&&t.call(n,i[s],s,e)};function bt(e){return Array.prototype.concat.apply([],arguments)}function Et(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function St(e){return/^[\s\xa0]*$/.test(e)}var kt,_t=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Tt(e,t){return-1!=e.indexOf(t)}function It(e,t){return e<t?-1:e>t?1:0}e:{var xt=st.navigator;if(xt){var Ct=xt.userAgent;if(Ct){kt=Ct;break e}}kt=""}function Nt(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function At(e){const t={};for(const n in e)t[n]=e[n];return t}var Dt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Lt(e,t){let n,r;for(let t=1;t<arguments.length;t++){for(n in r=arguments[t],r)e[n]=r[n];for(let t=0;t<Dt.length;t++)n=Dt[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Ot(e){return Ot[" "](e),e}Ot[" "]=ot;var Pt,Rt,Mt=Tt(kt,"Opera"),Ft=Tt(kt,"Trident")||Tt(kt,"MSIE"),Ut=Tt(kt,"Edge"),Vt=Ut||Ft,Bt=Tt(kt,"Gecko")&&!(Tt(kt.toLowerCase(),"webkit")&&!Tt(kt,"Edge"))&&!(Tt(kt,"Trident")||Tt(kt,"MSIE"))&&!Tt(kt,"Edge"),jt=Tt(kt.toLowerCase(),"webkit")&&!Tt(kt,"Edge");function zt(){var e=st.document;return e?e.documentMode:void 0}e:{var qt="",$t=(Rt=kt,Bt?/rv:([^\);]+)(\)|;)/.exec(Rt):Ut?/Edge\/([\d\.]+)/.exec(Rt):Ft?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Rt):jt?/WebKit\/(\S+)/.exec(Rt):Mt?/(?:Version)[ \/]?(\S+)/.exec(Rt):void 0);if($t&&(qt=$t?$t[1]:""),Ft){var Kt=zt();if(null!=Kt&&Kt>parseFloat(qt)){Pt=String(Kt);break e}}Pt=qt}var Ht,Wt={};function Gt(){return e=Wt,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let e=0;const t=_t(String(Pt)).split("."),n=_t("9").split("."),r=Math.max(t.length,n.length);for(let o=0;0==e&&o<r;o++){var i=t[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;e=It(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||It(0==i[2].length,0==s[2].length)||It(i[2],s[2]),i=i[3],s=s[3]}while(0==e)}return 0<=e}();var e}st.document&&Ft?Ht=zt()||parseInt(Pt,10)||void 0:Ht=void 0;var Qt=Ht,Yt=function(){if(!st.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{st.addEventListener("test",ot,t),st.removeEventListener("test",ot,t)}catch(e){}return e}();function Xt(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Jt(e,t){if(Xt.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Bt){e:{try{Ot(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:Zt[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Jt.Z.h.call(this)}}Xt.prototype.h=function(){this.defaultPrevented=!0},mt(Jt,Xt);var Zt={2:"touch",3:"pen",4:"mouse"};Jt.prototype.h=function(){Jt.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var en="closure_listenable_"+(1e6*Math.random()|0),tn=0;function nn(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++tn,this.ca=this.fa=!1}function rn(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function sn(e){this.src=e,this.g={},this.h=0}function on(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=vt(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(rn(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function an(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==r)return i}return-1}sn.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=an(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new nn(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var ln="closure_lm_"+(1e6*Math.random()|0),un={};function cn(e,t,n,r,i){if(r&&r.once)return dn(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)cn(e,t[s],n,r,i);return null}return n=wn(n),e&&e[en]?e.N(t,n,lt(r)?!!r.capture:!!r,i):hn(e,t,n,!1,r,i)}function hn(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=lt(i)?!!i.capture:!!i,a=yn(e);if(a||(e[ln]=a=new sn(e)),(n=a.add(t,n,r,o,s)).proxy)return n;if(r=function(){var e=gn;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Yt||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(mn(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function dn(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)dn(e,t[s],n,r,i);return null}return n=wn(n),e&&e[en]?e.O(t,n,lt(r)?!!r.capture:!!r,i):hn(e,t,n,!0,r,i)}function fn(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)fn(e,t[s],n,r,i);else r=lt(r)?!!r.capture:!!r,n=wn(n),e&&e[en]?(e=e.i,(t=String(t).toString())in e.g&&-1<(n=an(s=e.g[t],n,r,i))&&(rn(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--))):e&&(e=yn(e))&&(t=e.g[t.toString()],e=-1,t&&(e=an(t,n,r,i)),(n=-1<e?t[e]:null)&&pn(n))}function pn(e){if("number"!=typeof e&&e&&!e.ca){var t=e.src;if(t&&t[en])on(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(mn(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=yn(t))?(on(n,e),0==n.h&&(n.src=null,t[ln]=null)):rn(e)}}}function mn(e){return e in un?un[e]:un[e]="on"+e}function gn(e,t){if(e.ca)e=!0;else{t=new Jt(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&pn(e),e=n.call(r,t)}return e}function yn(e){return(e=e[ln])instanceof sn?e:null}var vn="__closure_events_fn_"+(1e9*Math.random()>>>0);function wn(e){return"function"==typeof e?e:(e[vn]||(e[vn]=function(t){return e.handleEvent(t)}),e[vn])}function bn(){gt.call(this),this.i=new sn(this),this.P=this,this.I=null}function En(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"==typeof t)t=new Xt(t,e);else if(t instanceof Xt)t.target=t.target||e;else{var i=t;Lt(t=new Xt(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=Sn(o,r,!0,t)&&i}if(i=Sn(o=t.g=e,r,!0,t)&&i,i=Sn(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=Sn(o=t.g=n[s],r,!1,t)&&i}function Sn(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,l=o.ia||o.src;o.fa&&on(e.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}mt(bn,gt),bn.prototype[en]=!0,bn.prototype.removeEventListener=function(e,t,n,r){fn(this,e,t,n,r)},bn.prototype.M=function(){if(bn.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)rn(n[r]);delete t.g[e],t.h--}}this.I=null},bn.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},bn.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var kn=st.JSON.stringify;function _n(){var e=Dn;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Tn,In=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new xn),(e=>e.reset()));class xn{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Cn(e){st.setTimeout((()=>{throw e}),0)}function Nn(e,t){Tn||function(){var e=st.Promise.resolve(void 0);Tn=function(){e.then(Ln)}}(),An||(Tn(),An=!0),Dn.add(e,t)}var An=!1,Dn=new class{constructor(){this.h=this.g=null}add(e,t){const n=In.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}};function Ln(){for(var e;e=_n();){try{e.h.call(e.g)}catch(e){Cn(e)}var t=In;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}An=!1}function On(e,t){bn.call(this),this.h=e||1,this.g=t||st,this.j=ft(this.kb,this),this.l=Date.now()}function Pn(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Rn(e,t,n){if("function"==typeof e)n&&(e=ft(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=ft(e.handleEvent,e)}return 2147483647<Number(t)?-1:st.setTimeout(e,t||0)}function Mn(e){e.g=Rn((()=>{e.g=null,e.i&&(e.i=!1,Mn(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}mt(On,bn),(tt=On.prototype).da=!1,tt.S=null,tt.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),En(this,"tick"),this.da&&(Pn(this),this.start()))}},tt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},tt.M=function(){On.Z.M.call(this),Pn(this),delete this.g};class Fn extends gt{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Mn(this)}M(){super.M(),this.g&&(st.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Un(e){gt.call(this),this.h=e,this.g={}}mt(Un,gt);var Vn=[];function Bn(e,t,n,r){Array.isArray(n)||(n&&(Vn[0]=n.toString()),n=Vn);for(var i=0;i<n.length;i++){var s=cn(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function jn(e){Nt(e.g,(function(e,t){this.g.hasOwnProperty(t)&&pn(e)}),e),e.g={}}function zn(){this.g=!0}function qn(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return kn(n)}catch(e){return t}}(e,n)+(r?" "+r:"")}))}Un.prototype.M=function(){Un.Z.M.call(this),jn(this)},Un.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},zn.prototype.Aa=function(){this.g=!1},zn.prototype.info=function(){};var $n={},Kn=null;function Hn(){return Kn=Kn||new bn}function Wn(e){Xt.call(this,$n.Ma,e)}function Gn(e){const t=Hn();En(t,new Wn(t,e))}function Qn(e,t){Xt.call(this,$n.STAT_EVENT,e),this.stat=t}function Yn(e){const t=Hn();En(t,new Qn(t,e))}function Xn(e,t){Xt.call(this,$n.Na,e),this.size=t}function Jn(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return st.setTimeout((function(){e()}),t)}$n.Ma="serverreachability",mt(Wn,Xt),$n.STAT_EVENT="statevent",mt(Qn,Xt),$n.Na="timingevent",mt(Xn,Xt);var Zn={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},er={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function tr(){}function nr(e){return e.h||(e.h=e.i())}function rr(){}tr.prototype.h=null;var ir,sr={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function or(){Xt.call(this,"d")}function ar(){Xt.call(this,"c")}function lr(){}function ur(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Un(this),this.P=hr,e=Vt?125:void 0,this.W=new On(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new cr}function cr(){this.i=null,this.g="",this.h=!1}mt(or,Xt),mt(ar,Xt),mt(lr,tr),lr.prototype.g=function(){return new XMLHttpRequest},lr.prototype.i=function(){return{}},ir=new lr;var hr=45e3,dr={},fr={};function pr(e,t,n){e.K=1,e.v=Fr(Dr(t)),e.s=n,e.U=!0,mr(e,null)}function mr(e,t){e.F=Date.now(),wr(e),e.A=Dr(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Yr(n.h,"t",r),e.C=0,n=e.l.H,e.h=new cr,e.g=Yi(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Fn(ft(e.Ia,e,e.g),e.O)),Bn(e.V,e.g,"readystatechange",e.gb),t=e.H?At(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Gn(1),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&"type"==h[1]?o+(c+"=")+u+"&":o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function gr(e){return!!e.g&&"GET"==e.u&&2!=e.K&&e.l.Ba}function yr(e,t,n){let r,i=!0;for(;!e.I&&e.C<n.length;){if(r=vr(e,n),r==fr){4==t&&(e.o=4,Yn(14),i=!1),qn(e.j,e.m,null,"[Incomplete Response]");break}if(r==dr){e.o=4,Yn(15),qn(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}qn(e.j,e.m,r,null),_r(e,r)}gr(e)&&r!=fr&&r!=dr&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Yn(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),zi(t),t.L=!0,Yn(11))):(qn(e.j,e.m,n,"[Invalid Chunked Response]"),kr(e),Sr(e))}function vr(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?fr:(n=Number(t.substring(n,r)),isNaN(n)?dr:(r+=1)+n>t.length?fr:(t=t.substr(r,n),e.C=r+n,t))}function wr(e){e.Y=Date.now()+e.P,br(e,e.P)}function br(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Jn(ft(e.eb,e),t)}function Er(e){e.B&&(st.clearTimeout(e.B),e.B=null)}function Sr(e){0==e.l.G||e.I||Ki(e.l,e)}function kr(e){Er(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Pn(e.W),jn(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function _r(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||ni(n.i,e)))if(n.I=e.N,!e.J&&ni(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(e){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;$i(n),Oi(n)}ji(n),Yn(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Jn(ft(n.ab,n),6e3));if(1>=ti(n.i)&&n.ka){try{n.ka()}catch(e){}n.ka=void 0}}else Wi(n,11)}else if((e.J||n.g==e)&&$i(n),!St(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.U=u[0],u=u[1],2==n.G)if("c"==u[0]){n.J=u[1],n.la=u[2];const t=u[3];null!=t&&(n.ma=t,n.h.info("VER="+n.ma));const i=u[4];null!=i&&(n.za=i,n.h.info("SVER="+n.za));const c=u[5];null!=c&&"number"==typeof c&&0<c&&(r=1.5*c,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;!s.g&&(Tt(e,"spdy")||Tt(e,"quic")||Tt(e,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(ri(s,s.h),s.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.sa=e,Mr(r.F,r.D,e))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var o=e;if((r=n).oa=Qi(r,r.H?r.la:null,r.W),o.J){ii(r.i,o);var a=o,l=r.K;l&&a.setTimeout(l),a.B&&(Er(a),wr(a)),r.g=o}else Bi(r);0<n.l.length&&Mi(n)}else"stop"!=u[0]&&"close"!=u[0]||Wi(n,7);else 3==n.G&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?Wi(n,7):Li(n):"noop"!=u[0]&&n.j&&n.j.wa(u),n.A=0)}Gn(4)}catch(e){}}function Tr(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(at(e)||"string"==typeof e)wt(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(at(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"==typeof e)return e.split("");if(at(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}}function Ir(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Ir)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function xr(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Cr(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Cr(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Cr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(tt=ur.prototype).setTimeout=function(e){this.P=e},tt.gb=function(e){e=e.target;const t=this.L;t&&3==xi(e)?t.l():this.Ia(e)},tt.Ia=function(e){try{if(e==this.g)e:{const c=xi(this.g);var t=this.g.Da();const h=this.g.ba();if(!(3>c)&&(3!=c||Vt||this.g&&(this.h.h||this.g.ga()||Ci(this.g)))){this.I||4!=c||7==t||Gn(8==t||0>=h?3:2),Er(this);var n=this.g.ba();this.N=n;t:if(gr(this)){var r=Ci(this.g);e="";var i=r.length,s=4==xi(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){kr(this),Sr(this);var o="";break t}this.h.i=new st.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==n,function(e,t,n,r,i,s,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o}))}(this.j,this.u,this.A,this.m,this.X,c,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!St(a)){var u=a;break t}}u=null}if(!(n=u)){this.i=!1,this.o=3,Yn(12),kr(this),Sr(this);break e}qn(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,_r(this,n)}this.U?(yr(this,c,o),Vt&&this.i&&3==c&&(Bn(this.V,this.W,"tick",this.fb),this.W.start())):(qn(this.j,this.m,o,null),_r(this,o)),4==c&&kr(this),this.i&&!this.I&&(4==c?Ki(this.l,this):(this.i=!1,wr(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Yn(12)):(this.o=0,Yn(13)),kr(this),Sr(this)}}}catch(e){}},tt.fb=function(){if(this.g){var e=xi(this.g),t=this.g.ga();this.C<t.length&&(Er(this),yr(this,e,t),this.i&&4!=e&&wr(this))}},tt.cancel=function(){this.I=!0,kr(this)},tt.eb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Gn(3),Yn(17)),kr(this),this.o=2,Sr(this)):br(this,this.Y-e)},(tt=Ir.prototype).R=function(){xr(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},tt.T=function(){return xr(this),this.g.concat()},tt.get=function(e,t){return Cr(this.h,e)?this.h[e]:t},tt.set=function(e,t){Cr(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},tt.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);e.call(t,s,i,this)}};var Nr=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ar(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Ar){this.g=void 0!==t?t:e.g,Lr(this,e.j),this.s=e.s,Or(this,e.i),Pr(this,e.m),this.l=e.l,t=e.h;var n=new Hr;n.i=t.i,t.g&&(n.g=new Ir(t.g),n.h=t.h),Rr(this,n),this.o=e.o}else e&&(n=String(e).match(Nr))?(this.g=!!t,Lr(this,n[1]||"",!0),this.s=Ur(n[2]||""),Or(this,n[3]||"",!0),Pr(this,n[4]),this.l=Ur(n[5]||"",!0),Rr(this,n[6]||"",!0),this.o=Ur(n[7]||"")):(this.g=!!t,this.h=new Hr(null,this.g))}function Dr(e){return new Ar(e)}function Lr(e,t,n){e.j=n?Ur(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Or(e,t,n){e.i=n?Ur(t,!0):t}function Pr(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Rr(e,t,n){t instanceof Hr?(e.h=t,function(e,t){t&&!e.j&&(Wr(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Gr(this,t),Yr(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Vr(t,$r)),e.h=new Hr(t,e.g))}function Mr(e,t,n){e.h.set(t,n)}function Fr(e){return Mr(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Ur(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Vr(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,Br),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Br(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ar.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Vr(t,jr,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Vr(t,jr,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Vr(n,"/"==n.charAt(0)?qr:zr,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Vr(n,Kr)),e.join("")};var jr=/[#\/\?@]/g,zr=/[#\?:]/g,qr=/[#\?]/g,$r=/[#\?@]/g,Kr=/#/g;function Hr(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Wr(e){e.g||(e.g=new Ir,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Gr(e,t){Wr(e),t=Xr(e,t),Cr(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Cr((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&xr(e)))}function Qr(e,t){return Wr(e),t=Xr(e,t),Cr(e.g.h,t)}function Yr(e,t,n){Gr(e,t),0<n.length&&(e.i=null,e.g.set(Xr(e,t),Et(n)),e.h+=n.length)}function Xr(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Jr(e){this.l=e||Zr,e=st.PerformanceNavigationTiming?0<(e=st.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(st.g&&st.g.Ea&&st.g.Ea()&&st.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(tt=Hr.prototype).add=function(e,t){Wr(this),this.i=null,e=Xr(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},tt.forEach=function(e,t){Wr(this),this.g.forEach((function(n,r){wt(n,(function(n){e.call(t,n,r,this)}),this)}),this)},tt.T=function(){Wr(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],s=0;s<i.length;s++)n.push(t[r]);return n},tt.R=function(e){Wr(this);var t=[];if("string"==typeof e)Qr(this,e)&&(t=bt(t,this.g.get(Xr(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=bt(t,e[n])}return t},tt.set=function(e,t){return Wr(this),this.i=null,Qr(this,e=Xr(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},tt.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},tt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),e.push(o)}}return this.i=e.join("&")};var Zr=10;function ei(e){return!!e.h||!!e.g&&e.g.size>=e.j}function ti(e){return e.h?1:e.g?e.g.size:0}function ni(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function ri(e,t){e.g?e.g.add(t):e.h=t}function ii(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function si(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return Et(e.i)}function oi(){}function ai(){this.g=new oi}function li(e,t,n){const r=n||"";try{Tr(e,(function(e,n){let i=e;lt(e)&&(i=kn(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}}function ui(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(e){}}function ci(e){this.l=e.$b||null,this.j=e.ib||!1}function hi(e,t){bn.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=di,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Jr.prototype.cancel=function(){if(this.i=si(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}},oi.prototype.stringify=function(e){return st.JSON.stringify(e,void 0)},oi.prototype.parse=function(e){return st.JSON.parse(e,void 0)},mt(ci,tr),ci.prototype.g=function(){return new hi(this.l,this.j)},ci.prototype.i=function(e){return function(){return e}}({}),mt(hi,bn);var di=0;function fi(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function pi(e){e.readyState=4,e.l=null,e.j=null,e.A=null,mi(e)}function mi(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(tt=hi.prototype).open=function(e,t){if(this.readyState!=di)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,mi(this)},tt.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||st).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},tt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,pi(this)),this.readyState=di},tt.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,mi(this)),this.g&&(this.readyState=3,mi(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==st.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;fi(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},tt.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?pi(this):mi(this),3==this.readyState&&fi(this)}},tt.Ua=function(e){this.g&&(this.response=this.responseText=e,pi(this))},tt.Ta=function(e){this.g&&(this.response=e,pi(this))},tt.ha=function(){this.g&&pi(this)},tt.setRequestHeader=function(e,t){this.v.append(e,t)},tt.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},tt.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(hi.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var gi=st.JSON.parse;function yi(e){bn.call(this),this.headers=new Ir,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=vi,this.K=this.L=!1}mt(yi,bn);var vi="",wi=/^https?$/i,bi=["POST","PUT"];function Ei(e){return"content-type"==e.toLowerCase()}function Si(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,ki(e),Ti(e)}function ki(e){e.D||(e.D=!0,En(e,"complete"),En(e,"error"))}function _i(e){if(e.h&&void 0!==it&&(!e.C[1]||4!=xi(e)||2!=e.ba()))if(e.v&&4==xi(e))Rn(e.Fa,0,e);else if(En(e,"readystatechange"),4==xi(e)){e.h=!1;try{const a=e.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===a){var i=String(e.H).match(Nr)[1]||null;if(!i&&st.self&&st.self.location){var s=st.self.location.protocol;i=s.substr(0,s.length-1)}r=!wi.test(i?i.toLowerCase():"")}n=r}if(n)En(e,"complete"),En(e,"success");else{e.m=6;try{var o=2<xi(e)?e.g.statusText:""}catch(e){o=""}e.j=o+" ["+e.ba()+"]",ki(e)}}finally{Ti(e)}}}function Ti(e,t){if(e.g){Ii(e);const n=e.g,r=e.C[0]?ot:null;e.g=null,e.C=null,t||En(e,"ready");try{n.onreadystatechange=r}catch(e){}}}function Ii(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(st.clearTimeout(e.A),e.A=null)}function xi(e){return e.g?e.g.readyState:0}function Ci(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case vi:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Ni(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){let t="";return Nt(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):Mr(e,t,n))}function Ai(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Di(e){this.za=0,this.l=[],this.h=new zn,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ai("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ai("baseRetryDelayMs",5e3,e),this.$a=Ai("retryDelaySeedMs",1e4,e),this.Ya=Ai("forwardChannelMaxRetries",2,e),this.ra=Ai("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Jr(e&&e.concurrentRequestLimit),this.Ca=new ai,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Li(e){if(Pi(e),3==e.G){var t=e.V++,n=Dr(e.F);Mr(n,"SID",e.J),Mr(n,"RID",t),Mr(n,"TYPE","terminate"),Ui(e,n),(t=new ur(e,e.h,t,void 0)).K=2,t.v=Fr(Dr(n)),n=!1,st.navigator&&st.navigator.sendBeacon&&(n=st.navigator.sendBeacon(t.v.toString(),"")),!n&&st.Image&&((new Image).src=t.v,n=!0),n||(t.g=Yi(t.l,null),t.g.ea(t.v)),t.F=Date.now(),wr(t)}Gi(e)}function Oi(e){e.g&&(zi(e),e.g.cancel(),e.g=null)}function Pi(e){Oi(e),e.u&&(st.clearTimeout(e.u),e.u=null),$i(e),e.i.cancel(),e.m&&("number"==typeof e.m&&st.clearTimeout(e.m),e.m=null)}function Ri(e,t){e.l.push(new class{constructor(e,t){this.h=e,this.g=t}}(e.Za++,t)),3==e.G&&Mi(e)}function Mi(e){ei(e.i)||e.m||(e.m=!0,Nn(e.Ha,e),e.C=0)}function Fi(e,t){var n;n=t?t.m:e.V++;const r=Dr(e.F);Mr(r,"SID",e.J),Mr(r,"RID",n),Mr(r,"AID",e.U),Ui(e,r),e.o&&e.s&&Ni(r,e.o,e.s),n=new ur(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Vi(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),ri(e.i,n),pr(n,r,t)}function Ui(e,t){e.j&&Tr({},(function(e,n){Mr(t,n,e)}))}function Vi(e,t,n){n=Math.min(e.l.length,n);var r=e.j?ft(e.j.Oa,e.j,e):null;e:{var i=e.l;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].h,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=i[o].h;const a=i[o].g;if(n-=t,0>n)t=Math.max(0,i[o].h-100),s=!1;else try{li(a,e,"req"+n+"_")}catch(e){r&&r(a)}}if(s){r=e.join("&");break e}}}return e=e.l.splice(0,n),t.D=e,r}function Bi(e){e.g||e.u||(e.Y=1,Nn(e.Ga,e),e.A=0)}function ji(e){return!(e.g||e.u||3<=e.A||(e.Y++,e.u=Jn(ft(e.Ga,e),Hi(e,e.A)),e.A++,0))}function zi(e){null!=e.B&&(st.clearTimeout(e.B),e.B=null)}function qi(e){e.g=new ur(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Dr(e.oa);Mr(t,"RID","rpc"),Mr(t,"SID",e.J),Mr(t,"CI",e.N?"0":"1"),Mr(t,"AID",e.U),Ui(e,t),Mr(t,"TYPE","xmlhttp"),e.o&&e.s&&Ni(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Fr(Dr(t)),n.s=null,n.U=!0,mr(n,e)}function $i(e){null!=e.v&&(st.clearTimeout(e.v),e.v=null)}function Ki(e,t){var n=null;if(e.g==t){$i(e),zi(e),e.g=null;var r=2}else{if(!ni(e.i,t))return;n=t.D,ii(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;En(r=Hn(),new Xn(r,n,t,i)),Mi(e)}else Bi(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(ti(e.i)>=e.i.j-(e.m?1:0)||(e.m?(e.l=t.D.concat(e.l),0):1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya)||(e.m=Jn(ft(e.Ha,e,t),Hi(e,e.C)),e.C++,0)))}(e,t)||2==r&&ji(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Wi(e,5);break;case 4:Wi(e,10);break;case 3:Wi(e,6);break;default:Wi(e,2)}}function Hi(e,t){let n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Wi(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=ft(e.jb,e);n||(n=new Ar("//www.google.com/images/cleardot.gif"),st.location&&"http"==st.location.protocol||Lr(n,"https"),Fr(n)),function(e,t){const n=new zn;if(st.Image){const r=new Image;r.onload=pt(ui,n,r,"TestLoadImage: loaded",!0,t),r.onerror=pt(ui,n,r,"TestLoadImage: error",!1,t),r.onabort=pt(ui,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=pt(ui,n,r,"TestLoadImage: timeout",!1,t),st.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Yn(2);e.G=0,e.j&&e.j.va(t),Gi(e),Pi(e)}function Gi(e){e.G=0,e.I=-1,e.j&&(0==si(e.i).length&&0==e.l.length||(e.i.i.length=0,Et(e.l),e.l.length=0),e.j.ua())}function Qi(e,t,n){let r=function(e){return e instanceof Ar?Dr(e):new Ar(e,void 0)}(n);if(""!=r.i)t&&Or(r,t+"."+r.i),Pr(r,r.m);else{const e=st.location;r=function(e,t,n,r){var i=new Ar(null,void 0);return e&&Lr(i,e),t&&Or(i,t),n&&Pr(i,n),r&&(i.l=r),i}(e.protocol,t?t+"."+e.hostname:e.hostname,+e.port,n)}return e.aa&&Nt(e.aa,(function(e,t){Mr(r,t,e)})),t=e.D,n=e.sa,t&&n&&Mr(r,t,n),Mr(r,"VER",e.ma),Ui(e,r),r}function Yi(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new yi(new ci({ib:!0})):new yi(e.qa)).L=e.H,t}function Xi(){}function Ji(){if(Ft&&!(10<=Number(Qt)))throw Error("Environmental error: no available transport.")}function Zi(e,t){bn.call(this),this.g=new Di(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!St(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!St(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new ns(this)}function es(e){or.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function ts(){ar.call(this),this.status=1}function ns(e){this.g=e}(tt=yi.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ir.g(),this.C=this.u?nr(this.u):nr(ir),this.g.onreadystatechange=ft(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(e){return void Si(this,e)}e=n||"";const i=new Ir(this.headers);r&&Tr(r,(function(e,t){i.set(t,e)})),r=function(e){e:{var t=Ei;const n=e.length,r="string"==typeof e?e.split(""):e;for(let i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(i.T()),n=st.FormData&&e instanceof st.FormData,!(0<=vt(bi,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Ii(this),0<this.B&&((this.K=function(e){return Ft&&Gt()&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ft(this.pa,this)):this.A=Rn(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(e){Si(this,e)}},tt.pa=function(){void 0!==it&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,En(this,"timeout"),this.abort(8))},tt.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,En(this,"complete"),En(this,"abort"),Ti(this))},tt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ti(this,!0)),yi.Z.M.call(this)},tt.Fa=function(){this.s||(this.F||this.v||this.l?_i(this):this.cb())},tt.cb=function(){_i(this)},tt.ba=function(){try{return 2<xi(this)?this.g.status:-1}catch(e){return-1}},tt.ga=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},tt.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),gi(t)}},tt.Da=function(){return this.m},tt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(tt=Di.prototype).ma=8,tt.G=1,tt.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(e){}},tt.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const i=new ur(this,this.h,e,void 0);let s=this.s;if(this.P&&(s?(s=At(s),Lt(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var t=0,n=0;n<this.l.length;n++){var r=this.l[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.l.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Vi(this,i,t),Mr(n=Dr(this.F),"RID",e),Mr(n,"CVER",22),this.D&&Mr(n,"X-HTTP-Session-Id",this.D),Ui(this,n),this.o&&s&&Ni(n,this.o,s),ri(this.i,i),this.Ra&&Mr(n,"TYPE","init"),this.ja?(Mr(n,"$req",t),Mr(n,"SID","null"),i.$=!0,pr(i,n,null)):pr(i,n,t),this.G=2}}else 3==this.G&&(e?Fi(this,e):0==this.l.length||ei(this.i)||Fi(this))},tt.Ga=function(){if(this.u=null,qi(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Jn(ft(this.bb,this),e)}},tt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Yn(10),Oi(this),qi(this))},tt.ab=function(){null!=this.v&&(this.v=null,Oi(this),ji(this),Yn(19))},tt.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Yn(2)):(this.h.info("Failed to ping google.com"),Yn(1))},(tt=Xi.prototype).xa=function(){},tt.wa=function(){},tt.va=function(){},tt.ua=function(){},tt.Oa=function(){},Ji.prototype.g=function(e,t){return new Zi(e,t)},mt(Zi,bn),Zi.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Nn(ft(e.hb,e,t))),Yn(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Qi(e,null,e.W),Mi(e)},Zi.prototype.close=function(){Li(this.g)},Zi.prototype.u=function(e){if("string"==typeof e){var t={};t.__data__=e,Ri(this.g,t)}else this.v?((t={}).__data__=kn(e),Ri(this.g,t)):Ri(this.g,e)},Zi.prototype.M=function(){this.g.j=null,delete this.j,Li(this.g),delete this.g,Zi.Z.M.call(this)},mt(es,or),mt(ts,ar),mt(ns,Xi),ns.prototype.xa=function(){En(this.g,"a")},ns.prototype.wa=function(e){En(this.g,new es(e))},ns.prototype.va=function(e){En(this.g,new ts(e))},ns.prototype.ua=function(){En(this.g,"b")},Ji.prototype.createWebChannel=Ji.prototype.g,Zi.prototype.send=Zi.prototype.u,Zi.prototype.open=Zi.prototype.m,Zi.prototype.close=Zi.prototype.close,Zn.NO_ERROR=0,Zn.TIMEOUT=8,Zn.HTTP_ERROR=6,er.COMPLETE="complete",rr.EventType=sr,sr.OPEN="a",sr.CLOSE="b",sr.ERROR="c",sr.MESSAGE="d",bn.prototype.listen=bn.prototype.N,yi.prototype.listenOnce=yi.prototype.O,yi.prototype.getLastError=yi.prototype.La,yi.prototype.getLastErrorCode=yi.prototype.Da,yi.prototype.getStatus=yi.prototype.ba,yi.prototype.getResponseJson=yi.prototype.Qa,yi.prototype.getResponseText=yi.prototype.ga,yi.prototype.send=yi.prototype.ea;var rs=rt.createWebChannelTransport=function(){return new Ji},is=rt.getStatEventTarget=function(){return Hn()},ss=rt.ErrorCode=Zn,os=rt.EventType=er,as=rt.Event=$n,ls=rt.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},us=rt.FetchXmlHttpFactory=ci,cs=rt.WebChannel=rr,hs=rt.XhrIo=yi;const ds="@firebase/firestore";class fs{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}fs.UNAUTHENTICATED=new fs(null),fs.GOOGLE_CREDENTIALS=new fs("google-credentials-uid"),fs.FIRST_PARTY=new fs("first-party-uid"),fs.MOCK_USER=new fs("mock-user");let ps="9.6.1";const ms=new Te("@firebase/firestore");function gs(){return ms.logLevel}function ys(e,...t){if(ms.logLevel<=be.DEBUG){const n=t.map(bs);ms.debug(`Firestore (${ps}): ${e}`,...n)}}function vs(e,...t){if(ms.logLevel<=be.ERROR){const n=t.map(bs);ms.error(`Firestore (${ps}): ${e}`,...n)}}function ws(e,...t){if(ms.logLevel<=be.WARN){const n=t.map(bs);ms.warn(`Firestore (${ps}): ${e}`,...n)}}function bs(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Es(e="Unexpected state"){const t=`FIRESTORE (${ps}) INTERNAL ASSERTION FAILED: `+e;throw vs(t),new Error(t)}function Ss(e,t){e||Es()}function ks(e,t){return e}const _s={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ts extends Error{constructor(e,t){super(t),this.code=e,this.message=t,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Is{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class xs{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Cs{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(fs.UNAUTHENTICATED)))}shutdown(){}}class Ns{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class As{constructor(e){this.t=e,this.currentUser=fs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Is;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Is,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{ys("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(ys("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Is)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(ys("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Ss("string"==typeof t.accessToken),new xs(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ss(null===e||"string"==typeof e),new fs(e)}}class Ds{constructor(e,t,n){this.type="FirstParty",this.user=fs.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const r=e.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),n&&this.headers.set("X-Goog-Iam-Authorization-Token",n)}}class Ls{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new Ds(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable((()=>t(fs.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Os{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ps{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null}start(e,t){this.o=n=>{e.enqueueRetryable((()=>(e=>(null!=e.error&&ys("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`),t(e.token)))(n)))};const n=e=>{ys("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.g.onInit((e=>n(e))),setTimeout((()=>{if(!this.appCheck){const e=this.g.getImmediate({optional:!0});e?n(e):ys("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Ss("string"==typeof e.token),new Os(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Rs{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.p(e),this.T=e=>t.writeSequenceNumber(e))}p(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function Ms(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let t=0;t<e;t++)n[t]=Math.floor(256*Math.random());return n}Rs.I=-1;class Fs{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const r=Ms(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length))}return n}}function Us(e,t){return e<t?-1:e>t?1:0}function Vs(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function Bs(e){return e+"\0"}class js{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ts(_s.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ts(_s.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ts(_s.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ts(_s.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return js.fromMillis(Date.now())}static fromDate(e){return js.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new js(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Us(this.nanoseconds,e.nanoseconds):Us(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class zs{constructor(e){this.timestamp=e}static fromTimestamp(e){return new zs(e)}static min(){return new zs(new js(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function qs(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function $s(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Ks(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Hs{constructor(e,t,n){void 0===t?t=0:t>e.length&&Es(),void 0===n?n=e.length-t:n>e.length-t&&Es(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Hs.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Hs?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ws extends Hs{construct(e,t,n){return new Ws(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new Ts(_s.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((e=>e.length>0)))}return new Ws(t)}static emptyPath(){return new Ws([])}}const Gs=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qs extends Hs{construct(e,t,n){return new Qs(e,t,n)}static isValidIdentifier(e){return Gs.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qs.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Qs(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Ts(_s.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Ts(_s.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Ts(_s.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new Ts(_s.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qs(t)}static emptyPath(){return new Qs([])}}class Ys{constructor(e){this.fields=e,e.sort(Qs.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Vs(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Xs{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Xs(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Xs(t)}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Us(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xs.EMPTY_BYTE_STRING=new Xs("");const Js=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zs(e){if(Ss(!!e),"string"==typeof e){let t=0;const n=Js.exec(e);if(Ss(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:eo(e.seconds),nanos:eo(e.nanos)}}function eo(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function to(e){return"string"==typeof e?Xs.fromBase64String(e):Xs.fromUint8Array(e)}function no(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ro(e){const t=e.mapValue.fields.__previous_value__;return no(t)?ro(t):t}function io(e){const t=Zs(e.mapValue.fields.__local_write_time__.timestampValue);return new js(t.seconds,t.nanos)}function so(e){return null==e}function oo(e){return 0===e&&1/e==-1/0}function ao(e){return"number"==typeof e&&Number.isInteger(e)&&!oo(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}class lo{constructor(e){this.path=e}static fromPath(e){return new lo(Ws.fromString(e))}static fromName(e){return new lo(Ws.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===Ws.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ws.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new lo(new Ws(e.slice()))}}function uo(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?no(e)?4:10:Es()}function co(e,t){const n=uo(e);if(n!==uo(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return io(e).isEqual(io(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Zs(e.timestampValue),r=Zs(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return to(e.bytesValue).isEqual(to(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return eo(e.geoPointValue.latitude)===eo(t.geoPointValue.latitude)&&eo(e.geoPointValue.longitude)===eo(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return eo(e.integerValue)===eo(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=eo(e.doubleValue),r=eo(t.doubleValue);return n===r?oo(n)===oo(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Vs(e.arrayValue.values||[],t.arrayValue.values||[],co);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(qs(n)!==qs(r))return!1;for(const e in n)if(n.hasOwnProperty(e)&&(void 0===r[e]||!co(n[e],r[e])))return!1;return!0}(e,t);default:return Es()}}function ho(e,t){return void 0!==(e.values||[]).find((e=>co(e,t)))}function fo(e,t){const n=uo(e),r=uo(t);if(n!==r)return Us(n,r);switch(n){case 0:return 0;case 1:return Us(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=eo(e.integerValue||e.doubleValue),r=eo(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return po(e.timestampValue,t.timestampValue);case 4:return po(io(e),io(t));case 5:return Us(e.stringValue,t.stringValue);case 6:return function(e,t){const n=to(e),r=to(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let e=0;e<n.length&&e<r.length;e++){const t=Us(n[e],r[e]);if(0!==t)return t}return Us(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Us(eo(e.latitude),eo(t.latitude));return 0!==n?n:Us(eo(e.longitude),eo(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let e=0;e<n.length&&e<r.length;++e){const t=fo(n[e],r[e]);if(t)return t}return Us(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let e=0;e<r.length&&e<s.length;++e){const t=Us(r[e],s[e]);if(0!==t)return t;const o=fo(n[r[e]],i[s[e]]);if(0!==o)return o}return Us(r.length,s.length)}(e.mapValue,t.mapValue);default:throw Es()}}function po(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Us(e,t);const n=Zs(e),r=Zs(t),i=Us(n.seconds,r.seconds);return 0!==i?i:Us(n.nanos,r.nanos)}function mo(e){return go(e)}function go(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Zs(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?to(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,lo.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=go(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${go(e.fields[i])}`;return n+"}"}(e.mapValue):Es();var t,n}function yo(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function vo(e){return!!e&&"integerValue"in e}function wo(e){return!!e&&"arrayValue"in e}function bo(e){return!!e&&"nullValue"in e}function Eo(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function So(e){return!!e&&"mapValue"in e}function ko(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return $s(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=ko(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ko(e.arrayValue.values[n]);return t}return Object.assign({},e)}class _o{constructor(e){this.value=e}static empty(){return new _o({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!So(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ko(t)}setAll(e){let t=Qs.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=ko(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());So(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return co(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];So(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){$s(t,((t,n)=>e[t]=n));for(const t of n)delete e[t]}clone(){return new _o(ko(this.value))}}function To(e){const t=[];return $s(e.fields,((e,n)=>{const r=new Qs([e]);if(So(n)){const e=To(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Ys(t)}class Io{constructor(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}static newInvalidDocument(e){return new Io(e,0,zs.min(),_o.empty(),0)}static newFoundDocument(e,t,n){return new Io(e,1,t,n,0)}static newNoDocument(e,t){return new Io(e,2,t,_o.empty(),0)}static newUnknownDocument(e,t){return new Io(e,3,t,_o.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_o.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_o.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Io&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new Io(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class xo{constructor(e,t=null,n=[],r=[],i=null,s=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.R=null}}function Co(e,t=null,n=[],r=[],i=null,s=null,o=null){return new xo(e,t,n,r,i,s,o)}function No(e){const t=ks(e);if(null===t.R){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>function(e){return e.field.canonicalString()+e.op.toString()+mo(e.value)}(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),so(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=zo(t.startAt)),t.endAt&&(e+="|ub:",e+=zo(t.endAt)),t.R=e}return t.R}function Ao(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!$o(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let i=0;i<e.filters.length;i++)if(n=e.filters[i],r=t.filters[i],n.op!==r.op||!n.field.isEqual(r.field)||!co(n.value,r.value))return!1;var n,r;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ho(e.startAt,t.startAt)&&Ho(e.endAt,t.endAt)}function Do(e){return lo.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Lo extends class{}{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,n):new Oo(e,t,n):"array-contains"===t?new Fo(e,n):"in"===t?new Uo(e,n):"not-in"===t?new Vo(e,n):"array-contains-any"===t?new Bo(e,n):new Lo(e,t,n)}static P(e,t,n){return"in"===t?new Po(e,n):new Ro(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(fo(t,this.value)):null!==t&&uo(this.value)===uo(t)&&this.v(fo(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Es()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Oo extends Lo{constructor(e,t,n){super(e,t,n),this.key=lo.fromName(n.referenceValue)}matches(e){const t=lo.comparator(e.key,this.key);return this.v(t)}}class Po extends Lo{constructor(e,t){super(e,"in",t),this.keys=Mo(0,t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Ro extends Lo{constructor(e,t){super(e,"not-in",t),this.keys=Mo(0,t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Mo(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>lo.fromName(e.referenceValue)))}class Fo extends Lo{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return wo(t)&&ho(t.arrayValue,this.value)}}class Uo extends Lo{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&ho(this.value.arrayValue,t)}}class Vo extends Lo{constructor(e,t){super(e,"not-in",t)}matches(e){if(ho(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!ho(this.value.arrayValue,t)}}class Bo extends Lo{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!wo(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>ho(this.value.arrayValue,e)))}}class jo{constructor(e,t){this.position=e,this.before=t}}function zo(e){return`${e.before?"b":"a"}:${e.position.map((e=>mo(e))).join(",")}`}class qo{constructor(e,t="asc"){this.field=e,this.dir=t}}function $o(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Ko(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?lo.comparator(lo.fromName(o.referenceValue),n.key):fo(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function Ho(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!co(e.position[n],t.position[n]))return!1;return!0}class Wo{constructor(e,t=null,n=[],r=[],i=null,s="F",o=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.S=null,this.D=null,this.startAt,this.endAt}}function Go(e,t,n,r,i,s,o,a){return new Wo(e,t,n,r,i,s,o,a)}function Qo(e){return new Wo(e)}function Yo(e){return!so(e.limit)&&"F"===e.limitType}function Xo(e){return!so(e.limit)&&"L"===e.limitType}function Jo(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Zo(e){for(const t of e.filters)if(t.V())return t.field;return null}function ea(e){return null!==e.collectionGroup}function ta(e){const t=ks(e);if(null===t.S){t.S=[];const e=Zo(t),n=Jo(t);if(null!==e&&null===n)e.isKeyField()||t.S.push(new qo(e)),t.S.push(new qo(Qs.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.S.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.S.push(new qo(Qs.keyField(),e))}}}return t.S}function na(e){const t=ks(e);if(!t.D)if("F"===t.limitType)t.D=Co(t.path,t.collectionGroup,ta(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const n of ta(t)){const t="desc"===n.dir?"asc":"desc";e.push(new qo(n.field,t))}const n=t.endAt?new jo(t.endAt.position,!t.endAt.before):null,r=t.startAt?new jo(t.startAt.position,!t.startAt.before):null;t.D=Co(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t.D}function ra(e,t,n){return new Wo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ia(e,t){return Ao(na(e),na(t))&&e.limitType===t.limitType}function sa(e){return`${No(na(e))}|lt:${e.limitType}`}function oa(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>{return`${(t=e).field.canonicalString()} ${t.op} ${mo(t.value)}`;var t})).join(", ")}]`),so(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: "+zo(e.startAt)),e.endAt&&(t+=", endAt: "+zo(e.endAt)),`Target(${t})`}(na(e))}; limitType=${e.limitType})`}function aa(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):lo.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of e.explicitOrderBy)if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!Ko(e.startAt,ta(e),t)||e.endAt&&Ko(e.endAt,ta(e),t))}(e,t)}function la(e){return(t,n)=>{let r=!1;for(const i of ta(e)){const e=ua(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function ua(e,t,n){const r=e.field.isKeyField()?lo.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?fo(r,i):Es()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Es()}}function ca(e,t){if(e.C){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oo(t)?"-0":t}}function ha(e){return{integerValue:""+e}}function da(e,t){return ao(t)?ha(t):ca(e,t)}class fa{constructor(){this._=void 0}}function pa(e,t,n){return e instanceof ya?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof va?wa(e,t):e instanceof ba?Ea(e,t):function(e,t){const n=ga(e,t),r=ka(n)+ka(e.N);return vo(n)&&vo(e.N)?ha(r):ca(e.k,r)}(e,t)}function ma(e,t,n){return e instanceof va?wa(e,t):e instanceof ba?Ea(e,t):n}function ga(e,t){return e instanceof Sa?vo(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class ya extends fa{}class va extends fa{constructor(e){super(),this.elements=e}}function wa(e,t){const n=_a(t);for(const t of e.elements)n.some((e=>co(e,t)))||n.push(t);return{arrayValue:{values:n}}}class ba extends fa{constructor(e){super(),this.elements=e}}function Ea(e,t){let n=_a(t);for(const t of e.elements)n=n.filter((e=>!co(e,t)));return{arrayValue:{values:n}}}class Sa extends fa{constructor(e,t){super(),this.k=e,this.N=t}}function ka(e){return eo(e.integerValue||e.doubleValue)}function _a(e){return wo(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Ta{constructor(e,t){this.field=e,this.transform=t}}class Ia{constructor(e,t){this.version=e,this.transformResults=t}}class xa{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new xa}static exists(e){return new xa(void 0,e)}static updateTime(e){return new xa(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ca(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Na{}function Aa(e,t,n){e instanceof Ra?function(e,t,n){const r=e.value.clone(),i=Ua(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Ma?function(e,t,n){if(!Ca(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Ua(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Fa(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Da(e,t,n){e instanceof Ra?function(e,t,n){if(!Ca(e.precondition,t))return;const r=e.value.clone(),i=Va(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Pa(t),r).setHasLocalMutations()}(e,t,n):e instanceof Ma?function(e,t,n){if(!Ca(e.precondition,t))return;const r=Va(e.fieldTransforms,n,t),i=t.data;i.setAll(Fa(e)),i.setAll(r),t.convertToFoundDocument(Pa(t),i).setHasLocalMutations()}(e,t,n):function(e,t){Ca(e.precondition,t)&&t.convertToNoDocument(zs.min())}(e,t)}function La(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=ga(r.transform,e||null);null!=i&&(null==n&&(n=_o.empty()),n.set(r.field,i))}return n||null}function Oa(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Vs(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof va&&t instanceof va||e instanceof ba&&t instanceof ba?Vs(e.elements,t.elements,co):e instanceof Sa&&t instanceof Sa?co(e.N,t.N):e instanceof ya&&t instanceof ya}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Pa(e){return e.isFoundDocument()?e.version:zs.min()}class Ra extends Na{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}}class Ma extends Na{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}}function Fa(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Ua(e,t,n){const r=new Map;Ss(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,ma(o,a,n[i]))}return r}function Va(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,pa(e,s,t))}return r}class Ba extends Na{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class ja extends Na{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class za{constructor(e){this.count=e}}var qa,$a;function Ka(e){switch(e){default:return Es();case _s.CANCELLED:case _s.UNKNOWN:case _s.DEADLINE_EXCEEDED:case _s.RESOURCE_EXHAUSTED:case _s.INTERNAL:case _s.UNAVAILABLE:case _s.UNAUTHENTICATED:return!1;case _s.INVALID_ARGUMENT:case _s.NOT_FOUND:case _s.ALREADY_EXISTS:case _s.PERMISSION_DENIED:case _s.FAILED_PRECONDITION:case _s.ABORTED:case _s.OUT_OF_RANGE:case _s.UNIMPLEMENTED:case _s.DATA_LOSS:return!0}}function Ha(e){if(void 0===e)return vs("GRPC error has no .code"),_s.UNKNOWN;switch(e){case qa.OK:return _s.OK;case qa.CANCELLED:return _s.CANCELLED;case qa.UNKNOWN:return _s.UNKNOWN;case qa.DEADLINE_EXCEEDED:return _s.DEADLINE_EXCEEDED;case qa.RESOURCE_EXHAUSTED:return _s.RESOURCE_EXHAUSTED;case qa.INTERNAL:return _s.INTERNAL;case qa.UNAVAILABLE:return _s.UNAVAILABLE;case qa.UNAUTHENTICATED:return _s.UNAUTHENTICATED;case qa.INVALID_ARGUMENT:return _s.INVALID_ARGUMENT;case qa.NOT_FOUND:return _s.NOT_FOUND;case qa.ALREADY_EXISTS:return _s.ALREADY_EXISTS;case qa.PERMISSION_DENIED:return _s.PERMISSION_DENIED;case qa.FAILED_PRECONDITION:return _s.FAILED_PRECONDITION;case qa.ABORTED:return _s.ABORTED;case qa.OUT_OF_RANGE:return _s.OUT_OF_RANGE;case qa.UNIMPLEMENTED:return _s.UNIMPLEMENTED;case qa.DATA_LOSS:return _s.DATA_LOSS;default:return Es()}}($a=qa||(qa={}))[$a.OK=0]="OK",$a[$a.CANCELLED=1]="CANCELLED",$a[$a.UNKNOWN=2]="UNKNOWN",$a[$a.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$a[$a.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$a[$a.NOT_FOUND=5]="NOT_FOUND",$a[$a.ALREADY_EXISTS=6]="ALREADY_EXISTS",$a[$a.PERMISSION_DENIED=7]="PERMISSION_DENIED",$a[$a.UNAUTHENTICATED=16]="UNAUTHENTICATED",$a[$a.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$a[$a.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$a[$a.ABORTED=10]="ABORTED",$a[$a.OUT_OF_RANGE=11]="OUT_OF_RANGE",$a[$a.UNIMPLEMENTED=12]="UNIMPLEMENTED",$a[$a.INTERNAL=13]="INTERNAL",$a[$a.UNAVAILABLE=14]="UNAVAILABLE",$a[$a.DATA_LOSS=15]="DATA_LOSS";class Wa{constructor(e,t){this.comparator=e,this.root=t||Qa.EMPTY}insert(e,t){return new Wa(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Qa.BLACK,null,null))}remove(e){return new Wa(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qa.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ga(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ga(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ga(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ga(this.root,e,this.comparator,!0)}}class Ga{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qa{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Qa.RED,this.left=null!=r?r:Qa.EMPTY,this.right=null!=i?i:Qa.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Qa(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Qa.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Qa.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qa.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qa.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Es();if(this.right.isRed())throw Es();const e=this.left.check();if(e!==this.right.check())throw Es();return e+(this.isRed()?0:1)}}Qa.EMPTY=null,Qa.RED=!0,Qa.BLACK=!1,Qa.EMPTY=new class{constructor(){this.size=0}get key(){throw Es()}get value(){throw Es()}get color(){throw Es()}get left(){throw Es()}get right(){throw Es()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Qa(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ya{constructor(e){this.comparator=e,this.data=new Wa(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Xa(this.data.getIterator())}getIteratorFrom(e){return new Xa(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Ya))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Ya(this.comparator);return t.data=e,t}}class Xa{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const Ja=new Wa(lo.comparator);function Za(){return Ja}const el=new Wa(lo.comparator);function tl(){return el}const nl=new Wa(lo.comparator);function rl(){return nl}const il=new Ya(lo.comparator);function sl(...e){let t=il;for(const n of e)t=t.add(n);return t}const ol=new Ya(Us);function al(){return ol}class ll{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t){const n=new Map;return n.set(e,ul.createSynthesizedTargetChangeForCurrentChange(e,t)),new ll(zs.min(),n,al(),Za(),sl())}}class ul{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t){return new ul(Xs.EMPTY_BYTE_STRING,t,sl(),sl(),sl())}}class cl{constructor(e,t,n,r){this.$=e,this.removedTargetIds=t,this.key=n,this.F=r}}class hl{constructor(e,t){this.targetId=e,this.O=t}}class dl{constructor(e,t,n=Xs.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class fl{constructor(){this.M=0,this.L=gl(),this.B=Xs.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}get current(){return this.U}get resumeToken(){return this.B}get K(){return 0!==this.M}get j(){return this.q}W(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}G(){let e=sl(),t=sl(),n=sl();return this.L.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Es()}})),new ul(this.B,this.U,e,t,n)}H(){this.q=!1,this.L=gl()}J(e,t){this.q=!0,this.L=this.L.insert(e,t)}Y(e){this.q=!0,this.L=this.L.remove(e)}X(){this.M+=1}Z(){this.M-=1}tt(){this.q=!0,this.U=!0}}class pl{constructor(e){this.et=e,this.nt=new Map,this.st=Za(),this.it=ml(),this.rt=new Ya(Us)}ot(e){for(const t of e.$)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ut(e){this.forEachTarget(e,(t=>{const n=this.ht(t);switch(e.state){case 0:this.lt(t)&&n.W(e.resumeToken);break;case 1:n.Z(),n.K||n.H(),n.W(e.resumeToken);break;case 2:n.Z(),n.K||this.removeTarget(t);break;case 3:this.lt(t)&&(n.tt(),n.W(e.resumeToken));break;case 4:this.lt(t)&&(this.ft(t),n.W(e.resumeToken));break;default:Es()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach(((e,n)=>{this.lt(n)&&t(n)}))}dt(e){const t=e.targetId,n=e.O.count,r=this.wt(t);if(r){const e=r.target;if(Do(e))if(0===n){const n=new lo(e.path);this.ct(t,n,Io.newNoDocument(n,zs.min()))}else Ss(1===n);else this._t(t)!==n&&(this.ft(t),this.rt=this.rt.add(t))}}gt(e){const t=new Map;this.nt.forEach(((n,r)=>{const i=this.wt(r);if(i){if(n.current&&Do(i.target)){const t=new lo(i.target.path);null!==this.st.get(t)||this.yt(r,t)||this.ct(r,t,Io.newNoDocument(t,e))}n.j&&(t.set(r,n.G()),n.H())}}));let n=sl();this.it.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.wt(e);return!t||2===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))}));const r=new ll(e,t,this.rt,this.st,n);return this.st=Za(),this.it=ml(),this.rt=new Ya(Us),r}at(e,t){if(!this.lt(e))return;const n=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,n),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,n){if(!this.lt(e))return;const r=this.ht(e);this.yt(e,t)?r.J(t,1):r.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),n&&(this.st=this.st.insert(t,n))}removeTarget(e){this.nt.delete(e)}_t(e){const t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}X(e){this.ht(e).X()}ht(e){let t=this.nt.get(e);return t||(t=new fl,this.nt.set(e,t)),t}Tt(e){let t=this.it.get(e);return t||(t=new Ya(Us),this.it=this.it.insert(e,t)),t}lt(e){const t=null!==this.wt(e);return t||ys("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}ft(e){this.nt.set(e,new fl),this.et.getRemoteKeysForTarget(e).forEach((t=>{this.ct(e,t,null)}))}yt(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}function ml(){return new Wa(lo.comparator)}function gl(){return new Wa(lo.comparator)}const yl={asc:"ASCENDING",desc:"DESCENDING"},vl={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class wl{constructor(e,t){this.databaseId=e,this.C=t}}function bl(e,t){return e.C?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function El(e,t){return e.C?t.toBase64():t.toUint8Array()}function Sl(e,t){return bl(e,t.toTimestamp())}function kl(e){return Ss(!!e),zs.fromTimestamp(function(e){const t=Zs(e);return new js(t.seconds,t.nanos)}(e))}function _l(e,t){return function(e){return new Ws(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Tl(e){const t=Ws.fromString(e);return Ss(Ql(t)),t}function Il(e,t){return _l(e.databaseId,t.path)}function xl(e,t){const n=Tl(t);if(n.get(1)!==e.databaseId.projectId)throw new Ts(_s.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Ts(_s.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new lo(Dl(n))}function Cl(e,t){return _l(e.databaseId,t)}function Nl(e){const t=Tl(e);return 4===t.length?Ws.emptyPath():Dl(t)}function Al(e){return new Ws(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Dl(e){return Ss(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Ll(e,t,n){return{name:Il(e,t),fields:n.value.mapValue.fields}}function Ol(e,t,n){const r=xl(e,t.name),i=kl(t.updateTime),s=new _o({mapValue:{fields:t.fields}}),o=Io.newFoundDocument(r,i,s);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Pl(e,t){let n;if(t instanceof Ra)n={update:Ll(e,t.key,t.value)};else if(t instanceof Ba)n={delete:Il(e,t.key)};else if(t instanceof Ma)n={update:Ll(e,t.key,t.data),updateMask:Gl(t.fieldMask)};else{if(!(t instanceof ja))return Es();n={verify:Il(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof ya)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof va)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof ba)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Sa)return{fieldPath:t.field.canonicalString(),increment:n.N};throw Es()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Sl(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Es()}(e,t.precondition)),n}function Rl(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?xa.updateTime(kl(e.updateTime)):void 0!==e.exists?xa.exists(e.exists):xa.none()}(t.currentDocument):xa.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)Ss("REQUEST_TIME"===t.setToServerValue),n=new ya;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new va(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new ba(e)}else"increment"in t?n=new Sa(e,t.increment):Es();const r=Qs.fromServerFormat(t.fieldPath);return new Ta(r,n)}(e,t))):[];if(t.update){t.update.name;const i=xl(e,t.update.name),s=new _o({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new Ys(t.map((e=>Qs.fromServerFormat(e))))}(t.updateMask);return new Ma(i,s,e,n,r)}return new Ra(i,s,n,r)}if(t.delete){const r=xl(e,t.delete);return new Ba(r,n)}if(t.verify){const r=xl(e,t.verify);return new ja(r,n)}return Es()}function Ml(e,t){return{documents:[Cl(e,t.path)]}}function Fl(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Cl(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Cl(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0===e.length)return;const t=e.map((e=>function(e){if("=="===e.op){if(Eo(e.value))return{unaryFilter:{field:$l(e.field),op:"IS_NAN"}};if(bo(e.value))return{unaryFilter:{field:$l(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Eo(e.value))return{unaryFilter:{field:$l(e.field),op:"IS_NOT_NAN"}};if(bo(e.value))return{unaryFilter:{field:$l(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$l(e.field),op:ql(e.op),value:e.value}}}(e)));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:$l(e.field),direction:zl(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(e,t){return e.C||so(t)?t:{value:t}}(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=Bl(t.startAt)),t.endAt&&(n.structuredQuery.endAt=Bl(t.endAt)),n}function Ul(e){let t=Nl(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ss(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=Vl(n.where));let o=[];n.orderBy&&(o=n.orderBy.map((e=>function(e){return new qo(Kl(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,so(t)?null:t}(n.limit));let l=null;n.startAt&&(l=jl(n.startAt));let u=null;return n.endAt&&(u=jl(n.endAt)),Go(t,i,o,s,a,"F",l,u)}function Vl(e){return e?void 0!==e.unaryFilter?[Wl(e)]:void 0!==e.fieldFilter?[Hl(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((e=>Vl(e))).reduce(((e,t)=>e.concat(t))):Es():[]}function Bl(e){return{before:e.before,values:e.position}}function jl(e){const t=!!e.before,n=e.values||[];return new jo(n,t)}function zl(e){return yl[e]}function ql(e){return vl[e]}function $l(e){return{fieldPath:e.canonicalString()}}function Kl(e){return Qs.fromServerFormat(e.fieldPath)}function Hl(e){return Lo.create(Kl(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Es()}}(e.fieldFilter.op),e.fieldFilter.value)}function Wl(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Kl(e.unaryFilter.field);return Lo.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Kl(e.unaryFilter.field);return Lo.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Kl(e.unaryFilter.field);return Lo.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Kl(e.unaryFilter.field);return Lo.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Es()}}function Gl(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Ql(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Yl(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Jl(t)),t=Xl(e.get(n),t);return Jl(t)}function Xl(e,t){let n=t;const r=e.length;for(let t=0;t<r;t++){const r=e.charAt(t);switch(r){case"\0":n+="";break;case"":n+="";break;default:n+=r}}return n}function Jl(e){return e+""}function Zl(e){const t=e.length;if(Ss(t>=2),2===t)return Ss(""===e.charAt(0)&&""===e.charAt(1)),Ws.emptyPath();const n=t-2,r=[];let i="";for(let s=0;s<t;){const t=e.indexOf("",s);switch((t<0||t>n)&&Es(),e.charAt(t+1)){case"":const n=e.substring(s,t);let o;0===i.length?o=n:(i+=n,o=i,i=""),r.push(o);break;case"":i+=e.substring(s,t),i+="\0";break;case"":i+=e.substring(s,t+1);break;default:Es()}s=t+2}return new Ws(r)}class eu{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class tu{constructor(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n}}tu.store="owner",tu.key="owner";class nu{constructor(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n}}nu.store="mutationQueues",nu.keyPath="userId";class ru{constructor(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}}ru.store="mutations",ru.keyPath="batchId",ru.userMutationsIndex="userMutationsIndex",ru.userMutationsKeyPath=["userId","batchId"];class iu{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,Yl(t)]}static key(e,t,n){return[e,Yl(t),n]}}iu.store="documentMutations",iu.PLACEHOLDER=new iu;class su{constructor(e,t){this.path=e,this.readTime=t}}class ou{constructor(e,t){this.path=e,this.version=t}}class au{constructor(e,t,n,r,i,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s}}au.store="remoteDocuments",au.readTimeIndex="readTimeIndex",au.readTimeIndexPath="readTime",au.collectionReadTimeIndex="collectionReadTimeIndex",au.collectionReadTimeIndexPath=["parentPath","readTime"];class lu{constructor(e){this.byteSize=e}}lu.store="remoteDocumentGlobal",lu.key="remoteDocumentGlobalKey";class uu{constructor(e,t,n,r,i,s,o){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o}}uu.store="targets",uu.keyPath="targetId",uu.queryTargetsIndexName="queryTargetsIndex",uu.queryTargetsKeyPath=["canonicalId","targetId"];class cu{constructor(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n}}cu.store="targetDocuments",cu.keyPath=["targetId","path"],cu.documentTargetsIndex="documentTargetsIndex",cu.documentTargetsKeyPath=["path","targetId"];class hu{constructor(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r}}hu.key="targetGlobalKey",hu.store="targetGlobal";class du{constructor(e,t){this.collectionId=e,this.parent=t}}du.store="collectionParents",du.keyPath=["collectionId","parent"];class fu{constructor(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r}}fu.store="clientMetadata",fu.keyPath="clientId";class pu{constructor(e,t,n){this.bundleId=e,this.createTime=t,this.version=n}}pu.store="bundles",pu.keyPath="bundleId";class mu{constructor(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n}}mu.store="namedQueries",mu.keyPath="name";const gu=[nu.store,ru.store,iu.store,au.store,uu.store,tu.store,hu.store,cu.store,fu.store,lu.store,du.store,pu.store,mu.store],yu="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vu{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}class wu{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Es(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new wu(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof wu?t:wu.resolve(t)}catch(e){return wu.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):wu.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):wu.reject(t)}static resolve(e){return new wu(((t,n)=>{t(e)}))}static reject(e){return new wu(((t,n)=>{n(e)}))}static waitFor(e){return new wu(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=wu.resolve(!1);for(const n of e)t=t.next((e=>e?wu.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}}class bu{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.It=new Is,this.transaction.oncomplete=()=>{this.It.resolve()},this.transaction.onabort=()=>{t.error?this.It.reject(new ku(e,t.error)):this.It.resolve()},this.transaction.onerror=t=>{const n=Cu(t.target.error);this.It.reject(new ku(e,n))}}static open(e,t,n,r){try{return new bu(t,e.transaction(r,n))}catch(e){throw new ku(t,e)}}get At(){return this.It.promise}abort(e){e&&this.It.reject(e),this.aborted||(ys("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new Tu(t)}}class Eu{constructor(e,t,n){this.name=e,this.version=t,this.Rt=n,12.2===Eu.Pt(ie())&&vs("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ys("SimpleDb","Removing database:",e),Iu(window.indexedDB.deleteDatabase(e)).toPromise()}static bt(){if("object"!=typeof indexedDB)return!1;if(Eu.vt())return!0;const e=ie(),t=Eu.Pt(e),n=0<t&&t<10,r=Eu.Vt(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static vt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.St)}static Dt(e,t){return e.store(t)}static Pt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static Vt(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async Ct(e){return this.db||(ys("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new ku(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new Ts(_s.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new Ts(_s.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new ku(e,r))},r.onupgradeneeded=e=>{ys("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.Rt.Nt(t,r.transaction,e.oldVersion,this.version).next((()=>{ys("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.kt&&(this.db.onversionchange=e=>this.kt(e)),this.db}xt(e){this.kt=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let s=0;for(;;){++s;try{this.db=await this.Ct(e);const t=bu.open(this.db,e,i?"readonly":"readwrite",n),s=r(t).catch((e=>(t.abort(e),wu.reject(e)))).toPromise();return s.catch((()=>{})),await t.At,s}catch(e){const t="FirebaseError"!==e.name&&s<3;if(ys("SimpleDb","Transaction failed with error:",e.message,"Retrying:",t),this.close(),!t)return Promise.reject(e)}}}close(){this.db&&this.db.close(),this.db=void 0}}class Su{constructor(e){this.$t=e,this.Ft=!1,this.Ot=null}get isDone(){return this.Ft}get Mt(){return this.Ot}set cursor(e){this.$t=e}done(){this.Ft=!0}Lt(e){this.Ot=e}delete(){return Iu(this.$t.delete())}}class ku extends Ts{constructor(e,t){super(_s.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function _u(e){return"IndexedDbTransactionError"===e.name}class Tu{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(ys("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(ys("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Iu(n)}add(e){return ys("SimpleDb","ADD",this.store.name,e,e),Iu(this.store.add(e))}get(e){return Iu(this.store.get(e)).next((t=>(void 0===t&&(t=null),ys("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return ys("SimpleDb","DELETE",this.store.name,e),Iu(this.store.delete(e))}count(){return ys("SimpleDb","COUNT",this.store.name),Iu(this.store.count())}Bt(e,t){const n=this.cursor(this.options(e,t)),r=[];return this.Ut(n,((e,t)=>{r.push(t)})).next((()=>r))}qt(e,t){ys("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.Kt=!1;const r=this.cursor(n);return this.Ut(r,((e,t,n)=>n.delete()))}jt(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.Ut(r,t)}Qt(e){const t=this.cursor({});return new wu(((n,r)=>{t.onerror=e=>{const t=Cu(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}Ut(e,t){const n=[];return new wu(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new Su(i),o=t(i.primaryKey,i.value,s);if(o instanceof wu){const e=o.catch((e=>(s.done(),wu.reject(e))));n.push(e)}s.isDone?r():null===s.Mt?i.continue():i.continue(s.Mt)}})).next((()=>wu.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.Kt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Iu(e){return new wu(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=Cu(e.target.error);n(t)}}))}let xu=!1;function Cu(e){const t=Eu.Pt(ie());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new Ts("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return xu||(xu=!0,setTimeout((()=>{throw e}),0)),e}}return e}class Nu extends vu{constructor(e,t){super(),this.Wt=e,this.currentSequenceNumber=t}}function Au(e,t){const n=ks(e);return Eu.Dt(n.Wt,t)}class Du{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let t=0;t<this.mutations.length;t++){const r=this.mutations[t];r.key.isEqual(e.key)&&Aa(r,e,n[t])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Da(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Da(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach((t=>{const n=e.get(t.key),r=n;this.applyToLocalView(r),n.isValidDocument()||r.convertToNoDocument(zs.min())}))}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),sl())}isEqual(e){return this.batchId===e.batchId&&Vs(this.mutations,e.mutations,((e,t)=>Oa(e,t)))&&Vs(this.baseMutations,e.baseMutations,((e,t)=>Oa(e,t)))}}class Lu{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Ss(e.mutations.length===n.length);let r=rl();const i=e.mutations;for(let e=0;e<i.length;e++)r=r.insert(i[e].key,n[e].version);return new Lu(e,t,n,r)}}class Ou{constructor(e,t,n,r,i=zs.min(),s=zs.min(),o=Xs.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}withSequenceNumber(e){return new Ou(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Ou(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Ou(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Pu{constructor(e){this.Gt=e}}function Ru(e,t){if(t.document)return Ol(e.Gt,t.document,!!t.hasCommittedMutations);if(t.noDocument){const e=lo.fromSegments(t.noDocument.path),n=Bu(t.noDocument.readTime),r=Io.newNoDocument(e,n);return t.hasCommittedMutations?r.setHasCommittedMutations():r}if(t.unknownDocument){const e=lo.fromSegments(t.unknownDocument.path),n=Bu(t.unknownDocument.version);return Io.newUnknownDocument(e,n)}return Es()}function Mu(e,t,n){const r=Fu(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){const n=function(e,t){return{name:Il(e,t.key),fields:t.data.value.mapValue.fields,updateTime:bl(e,t.version.toTimestamp())}}(e.Gt,t),s=t.hasCommittedMutations;return new au(null,null,n,s,r,i)}if(t.isNoDocument()){const e=t.key.path.toArray(),n=Vu(t.version),s=t.hasCommittedMutations;return new au(null,new su(e,n),null,s,r,i)}if(t.isUnknownDocument()){const e=t.key.path.toArray(),n=Vu(t.version);return new au(new ou(e,n),null,null,!0,r,i)}return Es()}function Fu(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Uu(e){const t=new js(e[0],e[1]);return zs.fromTimestamp(t)}function Vu(e){const t=e.toTimestamp();return new eu(t.seconds,t.nanoseconds)}function Bu(e){const t=new js(e.seconds,e.nanoseconds);return zs.fromTimestamp(t)}function ju(e,t){const n=(t.baseMutations||[]).map((t=>Rl(e.Gt,t)));for(let e=0;e<t.mutations.length-1;++e){const n=t.mutations[e];if(e+1<t.mutations.length&&void 0!==t.mutations[e+1].transform){const r=t.mutations[e+1];n.updateTransforms=r.transform.fieldTransforms,t.mutations.splice(e+1,1),++e}}const r=t.mutations.map((t=>Rl(e.Gt,t))),i=js.fromMillis(t.localWriteTimeMs);return new Du(t.batchId,i,n,r)}function zu(e){const t=Bu(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?Bu(e.lastLimboFreeSnapshotVersion):zs.min();let r;var i;return void 0!==e.query.documents?(Ss(1===(i=e.query).documents.length),r=na(Qo(Nl(i.documents[0])))):r=function(e){return na(Ul(e))}(e.query),new Ou(r,e.targetId,0,e.lastListenSequenceNumber,t,n,Xs.fromBase64String(e.resumeToken))}function qu(e,t){const n=Vu(t.snapshotVersion),r=Vu(t.lastLimboFreeSnapshotVersion);let i;i=Do(t.target)?Ml(e.Gt,t.target):Fl(e.Gt,t.target);const s=t.resumeToken.toBase64();return new uu(t.targetId,No(t.target),n,s,t.sequenceNumber,r,i)}function $u(e){const t=Ul({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?ra(t,t.limit,"L"):t}class Ku{getBundleMetadata(e,t){return Hu(e).get(t).next((e=>{if(e)return{id:(t=e).bundleId,createTime:Bu(t.createTime),version:t.version};var t}))}saveBundleMetadata(e,t){return Hu(e).put({bundleId:(n=t).id,createTime:Vu(kl(n.createTime)),version:n.version});var n}getNamedQuery(e,t){return Wu(e).get(t).next((e=>{if(e)return{name:(t=e).name,query:$u(t.bundledQuery),readTime:Bu(t.readTime)};var t}))}saveNamedQuery(e,t){return Wu(e).put(function(e){return{name:e.name,readTime:Vu(kl(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function Hu(e){return Au(e,pu.store)}function Wu(e){return Au(e,mu.store)}class Gu{constructor(){this.zt=new Qu}addToCollectionParentIndex(e,t){return this.zt.add(t),wu.resolve()}getCollectionParents(e,t){return wu.resolve(this.zt.getEntries(t))}}class Qu{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Ya(Ws.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Ya(Ws.comparator)).toArray()}}class Yu{constructor(){this.Ht=new Qu}addToCollectionParentIndex(e,t){if(!this.Ht.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this.Ht.add(t)}));const i={collectionId:n,parent:Yl(r)};return Xu(e).put(i)}return wu.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[Bs(t),""],!1,!0);return Xu(e).Bt(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(Zl(r.parent))}return n}))}}function Xu(e){return Au(e,du.store)}const Ju={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Zu{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Zu(e,Zu.DEFAULT_COLLECTION_PERCENTILE,Zu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function ec(e,t,n){const r=e.store(ru.store),i=e.store(iu.store),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.jt({range:o},((e,t,n)=>(a++,n.delete())));s.push(l.next((()=>{Ss(1===a)})));const u=[];for(const e of n.mutations){const r=iu.key(t,e.key.path,n.batchId);s.push(i.delete(r)),u.push(e.key)}return wu.waitFor(s).next((()=>u))}function tc(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Es();t=e.noDocument}return JSON.stringify(t).length}Zu.DEFAULT_COLLECTION_PERCENTILE=10,Zu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zu.DEFAULT=new Zu(41943040,Zu.DEFAULT_COLLECTION_PERCENTILE,Zu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zu.DISABLED=new Zu(-1,0,0);class nc{constructor(e,t,n,r){this.userId=e,this.k=t,this.Jt=n,this.referenceDelegate=r,this.Yt={}}static Xt(e,t,n,r){Ss(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new nc(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ic(e).jt({index:ru.userMutationsIndex,range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=sc(e),s=ic(e);return s.add({}).next((o=>{Ss("number"==typeof o);const a=new Du(o,t,n,r),l=function(e,t,n){const r=n.baseMutations.map((t=>Pl(e.Gt,t))),i=n.mutations.map((t=>Pl(e.Gt,t)));return new ru(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(this.k,this.userId,a),u=[];let c=new Ya(((e,t)=>Us(e.canonicalString(),t.canonicalString())));for(const e of r){const t=iu.key(this.userId,e.key.path,o);c=c.add(e.key.path.popLast()),u.push(s.put(l)),u.push(i.put(t,iu.PLACEHOLDER))}return c.forEach((t=>{u.push(this.Jt.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Yt[o]=a.keys()})),wu.waitFor(u).next((()=>a))}))}lookupMutationBatch(e,t){return ic(e).get(t).next((e=>e?(Ss(e.userId===this.userId),ju(this.k,e)):null))}Zt(e,t){return this.Yt[t]?wu.resolve(this.Yt[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Yt[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return ic(e).jt({index:ru.userMutationsIndex,range:r},((e,t,r)=>{t.userId===this.userId&&(Ss(t.batchId>=n),i=ju(this.k,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return ic(e).jt({index:ru.userMutationsIndex,range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ic(e).Bt(ru.userMutationsIndex,t).next((e=>e.map((e=>ju(this.k,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=iu.prefixForPath(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return sc(e).jt({range:r},((n,r,s)=>{const[o,a,l]=n,u=Zl(a);if(o===this.userId&&t.path.isEqual(u))return ic(e).get(l).next((e=>{if(!e)throw Es();Ss(e.userId===this.userId),i.push(ju(this.k,e))}));s.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Ya(Us);const r=[];return t.forEach((t=>{const i=iu.prefixForPath(this.userId,t.path),s=IDBKeyRange.lowerBound(i),o=sc(e).jt({range:s},((e,r,i)=>{const[s,o,a]=e,l=Zl(o);s===this.userId&&t.path.isEqual(l)?n=n.add(a):i.done()}));r.push(o)})),wu.waitFor(r).next((()=>this.te(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=iu.prefixForPath(this.userId,n),s=IDBKeyRange.lowerBound(i);let o=new Ya(Us);return sc(e).jt({range:s},((e,t,i)=>{const[s,a,l]=e,u=Zl(a);s===this.userId&&n.isPrefixOf(u)?u.length===r&&(o=o.add(l)):i.done()})).next((()=>this.te(e,o)))}te(e,t){const n=[],r=[];return t.forEach((t=>{r.push(ic(e).get(t).next((e=>{if(null===e)throw Es();Ss(e.userId===this.userId),n.push(ju(this.k,e))})))})),wu.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return ec(e.Wt,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.ee(t.batchId)})),wu.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}ee(e){delete this.Yt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return wu.resolve();const n=IDBKeyRange.lowerBound(iu.prefixForUser(this.userId)),r=[];return sc(e).jt({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=Zl(e[1]);r.push(t)}else n.done()})).next((()=>{Ss(0===r.length)}))}))}containsKey(e,t){return rc(e,this.userId,t)}ne(e){return oc(e).get(this.userId).next((e=>e||new nu(this.userId,-1,"")))}}function rc(e,t,n){const r=iu.prefixForPath(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return sc(e).jt({range:s,Kt:!0},((e,n,r)=>{const[s,a,l]=e;s===t&&a===i&&(o=!0),r.done()})).next((()=>o))}function ic(e){return Au(e,ru.store)}function sc(e){return Au(e,iu.store)}function oc(e){return Au(e,nu.store)}class ac{constructor(e){this.se=e}next(){return this.se+=2,this.se}static ie(){return new ac(0)}static re(){return new ac(-1)}}class lc{constructor(e,t){this.referenceDelegate=e,this.k=t}allocateTargetId(e){return this.oe(e).next((t=>{const n=new ac(t.highestTargetId);return t.highestTargetId=n.next(),this.ae(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.oe(e).next((e=>zs.fromTimestamp(new js(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.oe(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.oe(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.ae(e,r))))}addTargetData(e,t){return this.ce(e,t).next((()=>this.oe(e).next((n=>(n.targetCount+=1,this.ue(t,n),this.ae(e,n))))))}updateTargetData(e,t){return this.ce(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>uc(e).delete(t.targetId))).next((()=>this.oe(e))).next((t=>(Ss(t.targetCount>0),t.targetCount-=1,this.ae(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return uc(e).jt(((s,o)=>{const a=zu(o);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))})).next((()=>wu.waitFor(i))).next((()=>r))}forEachTarget(e,t){return uc(e).jt(((e,n)=>{const r=zu(n);t(r)}))}oe(e){return cc(e).get(hu.key).next((e=>(Ss(null!==e),e)))}ae(e,t){return cc(e).put(hu.key,t)}ce(e,t){return uc(e).put(qu(this.k,t))}ue(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.oe(e).next((e=>e.targetCount))}getTargetData(e,t){const n=No(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return uc(e).jt({range:r,index:uu.queryTargetsIndexName},((e,n,r)=>{const s=zu(n);Ao(t,s.target)&&(i=s,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=hc(e);return t.forEach((t=>{const s=Yl(t.path);r.push(i.put(new cu(n,s))),r.push(this.referenceDelegate.addReference(e,n,t))})),wu.waitFor(r)}removeMatchingKeys(e,t,n){const r=hc(e);return wu.forEach(t,(t=>{const i=Yl(t.path);return wu.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=hc(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=hc(e);let i=sl();return r.jt({range:n,Kt:!0},((e,t,n)=>{const r=Zl(e[1]),s=new lo(r);i=i.add(s)})).next((()=>i))}containsKey(e,t){const n=Yl(t.path),r=IDBKeyRange.bound([n],[Bs(n)],!1,!0);let i=0;return hc(e).jt({index:cu.documentTargetsIndex,Kt:!0,range:r},(([e,t],n,r)=>{0!==e&&(i++,r.done())})).next((()=>i>0))}Et(e,t){return uc(e).get(t).next((e=>e?zu(e):null))}}function uc(e){return Au(e,uu.store)}function cc(e){return Au(e,hu.store)}function hc(e){return Au(e,cu.store)}async function dc(e){if(e.code!==_s.FAILED_PRECONDITION||e.message!==yu)throw e;ys("LocalStore","Unexpectedly lost primary lease")}function fc([e,t],[n,r]){const i=Us(e,n);return 0===i?Us(t,r):i}class pc{constructor(e){this.he=e,this.buffer=new Ya(fc),this.le=0}fe(){return++this.le}de(e){const t=[e,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();fc(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class mc{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.we=!1,this._e=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(e)}stop(){this._e&&(this._e.cancel(),this._e=null)}get started(){return null!==this._e}me(e){const t=this.we?3e5:6e4;ys("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this._e=null,this.we=!0;try{await e.collectGarbage(this.garbageCollector)}catch(e){_u(e)?ys("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await dc(e)}await this.me(e)}))}}class gc{constructor(e,t){this.ge=e,this.params=t}calculateTargetCount(e,t){return this.ge.ye(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return wu.resolve(Rs.I);const n=new pc(t);return this.ge.forEachTarget(e,(e=>n.de(e.sequenceNumber))).next((()=>this.ge.pe(e,(e=>n.de(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.ge.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.ge.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(ys("LruGarbageCollector","Garbage collection skipped; disabled"),wu.resolve(Ju)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(ys("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ju):this.Te(e,t)))}getCacheSize(e){return this.ge.getCacheSize(e)}Te(e,t){let n,r,i,s,o,a,l;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(ys("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,o=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),gs()<=be.DEBUG&&ys("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-u}ms\n\tDetermined least recently used ${r} in `+(o-s)+"ms\n"+`\tRemoved ${i} targets in `+(a-o)+"ms\n"+`\tRemoved ${e} documents in `+(l-a)+"ms\n"+`Total Duration: ${l-u}ms`),wu.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}class yc{constructor(e,t){this.db=e,this.garbageCollector=function(e,t){return new gc(e,t)}(this,t)}ye(e){const t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Ee(e){let t=0;return this.pe(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pe(e,t){return this.Ie(e,((e,n)=>t(n)))}addReference(e,t,n){return vc(e,n)}removeReference(e,t,n){return vc(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return vc(e,t)}Ae(e,t){return function(e,t){let n=!1;return oc(e).Qt((r=>rc(e,r,t).next((e=>(e&&(n=!0),wu.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Ie(e,((s,o)=>{if(o<=t){const t=this.Ae(e,s).next((t=>{if(!t)return i++,n.getEntry(e,s).next((()=>(n.removeEntry(s),hc(e).delete([0,Yl(s.path)]))))}));r.push(t)}})).next((()=>wu.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return vc(e,t)}Ie(e,t){const n=hc(e);let r,i=Rs.I;return n.jt({index:cu.documentTargetsIndex},(([e,n],{path:s,sequenceNumber:o})=>{0===e?(i!==Rs.I&&t(new lo(Zl(r)),i),i=o,r=s):i=Rs.I})).next((()=>{i!==Rs.I&&t(new lo(Zl(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function vc(e,t){return hc(e).put(function(e,t){return new cu(0,Yl(e.path),t)}(t,e.currentSequenceNumber))}class wc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[t,r]of n)if(this.equalsFn(t,e))return r}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}forEach(e){$s(this.inner,((t,n)=>{for(const[t,r]of n)e(t,r)}))}isEmpty(){return Ks(this.inner)}}class bc{constructor(){this.changes=new wc((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:zs.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:Io.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?wu.resolve(n.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Ec{constructor(e,t){this.k=e,this.Jt=t}addEntry(e,t,n){return _c(e).put(Tc(t),n)}removeEntry(e,t){const n=_c(e),r=Tc(t);return n.delete(r)}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.Re(e,n))))}getEntry(e,t){return _c(e).get(Tc(t)).next((e=>this.Pe(t,e)))}be(e,t){return _c(e).get(Tc(t)).next((e=>({document:this.Pe(t,e),size:tc(e)})))}getEntries(e,t){let n=Za();return this.ve(e,t,((e,t)=>{const r=this.Pe(e,t);n=n.insert(e,r)})).next((()=>n))}Ve(e,t){let n=Za(),r=new Wa(lo.comparator);return this.ve(e,t,((e,t)=>{const i=this.Pe(e,t);n=n.insert(e,i),r=r.insert(e,tc(t))})).next((()=>({documents:n,Se:r})))}ve(e,t,n){if(t.isEmpty())return wu.resolve();const r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator();let s=i.getNext();return _c(e).jt({range:r},((e,t,r)=>{const o=lo.fromSegments(e);for(;s&&lo.comparator(s,o)<0;)n(s,null),s=i.getNext();s&&s.isEqual(o)&&(n(s,t),s=i.hasNext()?i.getNext():null),s?r.Lt(s.path.toArray()):r.done()})).next((()=>{for(;s;)n(s,null),s=i.hasNext()?i.getNext():null}))}getDocumentsMatchingQuery(e,t,n){let r=Za();const i=t.path.length+1,s={};if(n.isEqual(zs.min())){const e=t.path.toArray();s.range=IDBKeyRange.lowerBound(e)}else{const e=t.path.toArray(),r=Fu(n);s.range=IDBKeyRange.lowerBound([e,r],!0),s.index=au.collectionReadTimeIndex}return _c(e).jt(s,((e,n,s)=>{if(e.length!==i)return;const o=Ru(this.k,n);t.path.isPrefixOf(o.key.path)?aa(t,o)&&(r=r.insert(o.key,o)):s.done()})).next((()=>r))}newChangeBuffer(e){return new Sc(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return kc(e).get(lu.key).next((e=>(Ss(!!e),e)))}Re(e,t){return kc(e).put(lu.key,t)}Pe(e,t){if(t){const e=Ru(this.k,t);if(!e.isNoDocument()||!e.version.isEqual(zs.min()))return e}return Io.newInvalidDocument(e)}}class Sc extends bc{constructor(e,t){super(),this.De=e,this.trackRemovals=t,this.Ce=new wc((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new Ya(((e,t)=>Us(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,s)=>{const o=this.Ce.get(i);if(s.document.isValidDocument()){const a=Mu(this.De.k,s.document,this.getReadTime(i));r=r.add(i.path.popLast());const l=tc(a);n+=l-o,t.push(this.De.addEntry(e,i,a))}else if(n-=o,this.trackRemovals){const n=Mu(this.De.k,Io.newNoDocument(i,zs.min()),this.getReadTime(i));t.push(this.De.addEntry(e,i,n))}else t.push(this.De.removeEntry(e,i))})),r.forEach((n=>{t.push(this.De.Jt.addToCollectionParentIndex(e,n))})),t.push(this.De.updateMetadata(e,n)),wu.waitFor(t)}getFromCache(e,t){return this.De.be(e,t).next((e=>(this.Ce.set(t,e.size),e.document)))}getAllFromCache(e,t){return this.De.Ve(e,t).next((({documents:e,Se:t})=>(t.forEach(((e,t)=>{this.Ce.set(e,t)})),e)))}}function kc(e){return Au(e,lu.store)}function _c(e){return Au(e,au.store)}function Tc(e){return e.path.toArray()}class Ic{constructor(e){this.k=e}Nt(e,t,n,r){Ss(n<r&&n>=0&&r<=11);const i=new bu("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(tu.store)}(e),function(e){e.createObjectStore(nu.store,{keyPath:nu.keyPath}),e.createObjectStore(ru.store,{keyPath:ru.keyPath,autoIncrement:!0}).createIndex(ru.userMutationsIndex,ru.userMutationsKeyPath,{unique:!0}),e.createObjectStore(iu.store)}(e),xc(e),function(e){e.createObjectStore(au.store)}(e));let s=wu.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(cu.store),e.deleteObjectStore(uu.store),e.deleteObjectStore(hu.store)}(e),xc(e)),s=s.next((()=>function(e){const t=e.store(hu.store),n=new hu(0,0,zs.min().toTimestamp(),0);return t.put(hu.key,n)}(i)))),n<4&&r>=4&&(0!==n&&(s=s.next((()=>function(e,t){return t.store(ru.store).Bt().next((n=>{e.deleteObjectStore(ru.store),e.createObjectStore(ru.store,{keyPath:ru.keyPath,autoIncrement:!0}).createIndex(ru.userMutationsIndex,ru.userMutationsKeyPath,{unique:!0});const r=t.store(ru.store),i=n.map((e=>r.put(e)));return wu.waitFor(i)}))}(e,i)))),s=s.next((()=>{!function(e){e.createObjectStore(fu.store,{keyPath:fu.keyPath})}(e)}))),n<5&&r>=5&&(s=s.next((()=>this.Ne(i)))),n<6&&r>=6&&(s=s.next((()=>(function(e){e.createObjectStore(lu.store)}(e),this.ke(i))))),n<7&&r>=7&&(s=s.next((()=>this.xe(i)))),n<8&&r>=8&&(s=s.next((()=>this.$e(e,i)))),n<9&&r>=9&&(s=s.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){const t=e.objectStore(au.store);t.createIndex(au.readTimeIndex,au.readTimeIndexPath,{unique:!1}),t.createIndex(au.collectionReadTimeIndex,au.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(s=s.next((()=>this.Fe(i)))),n<11&&r>=11&&(s=s.next((()=>{!function(e){e.createObjectStore(pu.store,{keyPath:pu.keyPath})}(e),function(e){e.createObjectStore(mu.store,{keyPath:mu.keyPath})}(e)}))),s}ke(e){let t=0;return e.store(au.store).jt(((e,n)=>{t+=tc(n)})).next((()=>{const n=new lu(t);return e.store(lu.store).put(lu.key,n)}))}Ne(e){const t=e.store(nu.store),n=e.store(ru.store);return t.Bt().next((t=>wu.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.Bt(ru.userMutationsIndex,r).next((n=>wu.forEach(n,(n=>{Ss(n.userId===t.userId);const r=ju(this.k,n);return ec(e,t.userId,r).next((()=>{}))}))))}))))}xe(e){const t=e.store(cu.store),n=e.store(au.store);return e.store(hu.store).get(hu.key).next((e=>{const r=[];return n.jt(((n,i)=>{const s=new Ws(n),o=function(e){return[0,Yl(e)]}(s);r.push(t.get(o).next((n=>n?wu.resolve():(n=>t.put(new cu(0,Yl(n),e.highestListenSequenceNumber)))(s))))})).next((()=>wu.waitFor(r)))}))}$e(e,t){e.createObjectStore(du.store,{keyPath:du.keyPath});const n=t.store(du.store),r=new Qu,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:Yl(r)})}};return t.store(au.store).jt({Kt:!0},((e,t)=>{const n=new Ws(e);return i(n.popLast())})).next((()=>t.store(iu.store).jt({Kt:!0},(([e,t,n],r)=>{const s=Zl(t);return i(s.popLast())}))))}Fe(e){const t=e.store(uu.store);return t.jt(((e,n)=>{const r=zu(n),i=qu(this.k,r);return t.put(i)}))}}function xc(e){e.createObjectStore(cu.store,{keyPath:cu.keyPath}).createIndex(cu.documentTargetsIndex,cu.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(uu.store,{keyPath:uu.keyPath}).createIndex(uu.queryTargetsIndexName,uu.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(hu.store)}const Cc="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Nc{constructor(e,t,n,r,i,s,o,a,l,u){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.Oe=i,this.window=s,this.document=o,this.Me=l,this.Le=u,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=e=>Promise.resolve(),!Nc.bt())throw new Ts(_s.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new yc(this,r),this.Ge=t+"main",this.k=new Pu(a),this.ze=new Eu(this.Ge,11,new Ic(this.k)),this.He=new lc(this.referenceDelegate,this.k),this.Jt=new Yu,this.Je=function(e,t){return new Ec(e,t)}(this.k,this.Jt),this.Ye=new Ku,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===u&&vs("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ze().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ts(_s.FAILED_PRECONDITION,Cc);return this.tn(),this.en(),this.nn(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.He.getHighestSequenceNumber(e)))})).then((e=>{this.Be=new Rs(e,this.Me)})).then((()=>{this.Ue=!0})).catch((e=>(this.ze&&this.ze.close(),Promise.reject(e))))}sn(e){return this.We=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.ze.xt((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget((async()=>{this.started&&await this.Ze()})))}Ze(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Dc(e).put(new fu(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next((()=>{if(this.isPrimary)return this.rn(e).next((e=>{e||(this.isPrimary=!1,this.Oe.enqueueRetryable((()=>this.We(!1))))}))})).next((()=>this.on(e))).next((t=>this.isPrimary&&!t?this.an(e).next((()=>!1)):!!t&&this.cn(e).next((()=>!0)))))).catch((e=>{if(_u(e))return ys("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ys("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Oe.enqueueRetryable((()=>this.We(e))),this.isPrimary=e}))}rn(e){return Ac(e).get(tu.key).next((e=>wu.resolve(this.un(e))))}hn(e){return Dc(e).delete(this.clientId)}async ln(){if(this.isPrimary&&!this.fn(this.Qe,18e5)){this.Qe=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=Au(e,fu.store);return t.Bt().next((e=>{const n=this.dn(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return wu.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.Xe)for(const t of e)this.Xe.removeItem(this.wn(t.clientId))}}nn(){this.je=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Ze().then((()=>this.ln())).then((()=>this.nn()))))}un(e){return!!e&&e.ownerId===this.clientId}on(e){return this.Le?wu.resolve(!0):Ac(e).get(tu.key).next((t=>{if(null!==t&&this.fn(t.leaseTimestampMs,5e3)&&!this._n(t.ownerId)){if(this.un(t)&&this.networkEnabled)return!0;if(!this.un(t)){if(!t.allowTabSynchronization)throw new Ts(_s.FAILED_PRECONDITION,Cc);return!1}}return!(!this.networkEnabled||!this.inForeground)||Dc(e).Bt().next((e=>void 0===this.dn(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&ys("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e)))}async shutdown(){this.Ue=!1,this.mn(),this.je&&(this.je.cancel(),this.je=null),this.gn(),this.yn(),await this.ze.runTransaction("shutdown","readwrite",[tu.store,fu.store],(e=>{const t=new Nu(e,Rs.I);return this.an(t).next((()=>this.hn(t)))})),this.ze.close(),this.pn()}dn(e,t){return e.filter((e=>this.fn(e.updateTimeMs,t)&&!this._n(e.clientId)))}Tn(){return this.runTransaction("getActiveClients","readonly",(e=>Dc(e).Bt().next((e=>this.dn(e,18e5).map((e=>e.clientId))))))}get started(){return this.Ue}getMutationQueue(e){return nc.Xt(e,this.k,this.Jt,this.referenceDelegate)}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getIndexManager(){return this.Jt}getBundleCache(){return this.Ye}runTransaction(e,t,n){ys("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite";let i;return this.ze.runTransaction(e,r,gu,(r=>(i=new Nu(r,this.Be?this.Be.next():Rs.I),"readwrite-primary"===t?this.rn(i).next((e=>!!e||this.on(i))).next((t=>{if(!t)throw vs(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable((()=>this.We(!1))),new Ts(_s.FAILED_PRECONDITION,yu);return n(i)})).next((e=>this.cn(i).next((()=>e)))):this.En(i).next((()=>n(i)))))).then((e=>(i.raiseOnCommittedEvent(),e)))}En(e){return Ac(e).get(tu.key).next((e=>{if(null!==e&&this.fn(e.leaseTimestampMs,5e3)&&!this._n(e.ownerId)&&!this.un(e)&&!(this.Le||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Ts(_s.FAILED_PRECONDITION,Cc)}))}cn(e){const t=new tu(this.clientId,this.allowTabSynchronization,Date.now());return Ac(e).put(tu.key,t)}static bt(){return Eu.bt()}an(e){const t=Ac(e);return t.get(tu.key).next((e=>this.un(e)?(ys("IndexedDbPersistence","Releasing primary lease."),t.delete(tu.key)):wu.resolve()))}fn(e,t){const n=Date.now();return!(e<n-t||e>n&&(vs(`Detected an update time that is in the future: ${e} > ${n}`),1))}tn(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=()=>{this.Oe.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.Ze())))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}gn(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}en(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.qe=()=>{this.mn(),!function(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.qe))}yn(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}_n(e){var t;try{const n=null!==(null===(t=this.Xe)||void 0===t?void 0:t.getItem(this.wn(e)));return ys("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(e){return vs("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}mn(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(e){vs("Failed to set zombie client id.",e)}}pn(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(e){}}wn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Ac(e){return Au(e,tu.store)}function Dc(e){return Au(e,fu.store)}function Lc(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class Oc{constructor(e,t){this.progress=e,this.In=t}}class Pc{constructor(e,t,n){this.Je=e,this.An=t,this.Jt=n}Rn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next((n=>this.Pn(e,t,n)))}Pn(e,t,n){return this.Je.getEntry(e,t).next((e=>{for(const t of n)t.applyToLocalView(e);return e}))}bn(e,t){e.forEach(((e,n)=>{for(const e of t)e.applyToLocalView(n)}))}vn(e,t){return this.Je.getEntries(e,t).next((t=>this.Vn(e,t).next((()=>t))))}Vn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>this.bn(t,e)))}getDocumentsMatchingQuery(e,t,n){return function(e){return lo.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Sn(e,t.path):ea(t)?this.Dn(e,t,n):this.Cn(e,t,n)}Sn(e,t){return this.Rn(e,new lo(t)).next((e=>{let t=tl();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}Dn(e,t,n){const r=t.collectionGroup;let i=tl();return this.Jt.getCollectionParents(e,r).next((s=>wu.forEach(s,(s=>{const o=function(e,t){return new Wo(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(r));return this.Cn(e,o,n).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}Cn(e,t,n){let r,i;return this.Je.getDocumentsMatchingQuery(e,t,n).next((n=>(r=n,this.An.getAllMutationBatchesAffectingQuery(e,t)))).next((t=>(i=t,this.Nn(e,i,r).next((e=>{r=e;for(const e of i)for(const t of e.mutations){const n=t.key;let i=r.get(n);null==i&&(i=Io.newInvalidDocument(n),r=r.insert(n,i)),Da(t,i,e.localWriteTime),i.isFoundDocument()||(r=r.remove(n))}}))))).next((()=>(r.forEach(((e,n)=>{aa(t,n)||(r=r.remove(e))})),r)))}Nn(e,t,n){let r=sl();for(const e of t)for(const t of e.mutations)t instanceof Ma&&null===n.get(t.key)&&(r=r.add(t.key));let i=n;return this.Je.getEntries(e,r).next((e=>(e.forEach(((e,t)=>{t.isFoundDocument()&&(i=i.insert(e,t))})),i)))}}class Rc{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.kn=n,this.xn=r}static $n(e,t){let n=sl(),r=sl();for(const e of t.docChanges)switch(e.type){case 0:n=n.add(e.doc.key);break;case 1:r=r.add(e.doc.key)}return new Rc(e,t.fromCache,n,r)}}class Mc{Fn(e){this.On=e}getDocumentsMatchingQuery(e,t,n,r){return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(zs.min())?this.Mn(e,t):this.On.vn(e,r).next((i=>{const s=this.Ln(t,i);return(Yo(t)||Xo(t))&&this.Bn(t.limitType,s,r,n)?this.Mn(e,t):(gs()<=be.DEBUG&&ys("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),oa(t)),this.On.getDocumentsMatchingQuery(e,t,n).next((e=>(s.forEach((t=>{e=e.insert(t.key,t)})),e))))}))}Ln(e,t){let n=new Ya(la(e));return t.forEach(((t,r)=>{aa(e,r)&&(n=n.add(r))})),n}Bn(e,t,n,r){if(n.size!==t.size)return!0;const i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Mn(e,t){return gs()<=be.DEBUG&&ys("QueryEngine","Using full collection scan to execute query:",oa(t)),this.On.getDocumentsMatchingQuery(e,t,zs.min())}}class Fc{constructor(e,t,n,r){this.persistence=e,this.Un=t,this.k=r,this.qn=new Wa(Us),this.Kn=new wc((e=>No(e)),Ao),this.jn=zs.min(),this.An=e.getMutationQueue(n),this.Qn=e.getRemoteDocumentCache(),this.He=e.getTargetCache(),this.Wn=new Pc(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=e.getBundleCache(),this.Un.Fn(this.Wn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.qn)))}}function Uc(e,t,n,r){return new Fc(e,t,n,r)}async function Vc(e,t){const n=ks(e);let r=n.An,i=n.Wn;const s=await n.persistence.runTransaction("Handle user change","readonly",(e=>{let s;return n.An.getAllMutationBatches(e).next((o=>(s=o,r=n.persistence.getMutationQueue(t),i=new Pc(n.Qn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)))).next((t=>{const n=[],r=[];let o=sl();for(const e of s){n.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){r.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return i.vn(e,o).next((e=>({Gn:e,removedBatchIds:n,addedBatchIds:r})))}))}));return n.An=r,n.Wn=i,n.Un.Fn(n.Wn),s}function Bc(e){const t=ks(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.He.getLastRemoteSnapshotVersion(e)))}function jc(e,t,n,r,i){let s=sl();return n.forEach((e=>s=s.add(e))),t.getEntries(e,s).next((e=>{let s=Za();return n.forEach(((n,o)=>{const a=e.get(n),l=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(zs.min())?(t.removeEntry(n,l),s=s.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(o,l),s=s.insert(n,o)):ys("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)})),s}))}function zc(e,t){const n=ks(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.An.getNextMutationBatchAfterBatchId(e,t))))}function qc(e,t){const n=ks(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.He.getTargetData(e,t).next((i=>i?(r=i,wu.resolve(r)):n.He.allocateTargetId(e).next((i=>(r=new Ou(t,i,0,e.currentSequenceNumber),n.He.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.qn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qn=n.qn.insert(e.targetId,e),n.Kn.set(t,e.targetId)),e}))}async function $c(e,t,n){const r=ks(e),i=r.qn.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!_u(e))throw e;ys("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.qn=r.qn.remove(t),r.Kn.delete(i.target)}function Kc(e,t,n){const r=ks(e);let i=zs.min(),s=sl();return r.persistence.runTransaction("Execute query","readonly",(e=>function(e,t,n){const r=ks(e),i=r.Kn.get(n);return void 0!==i?wu.resolve(r.qn.get(i)):r.He.getTargetData(t,n)}(r,e,na(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.Un.getDocumentsMatchingQuery(e,t,n?i:zs.min(),n?s:sl()))).next((e=>({documents:e,zn:s})))))}function Hc(e,t){const n=ks(e),r=ks(n.He),i=n.qn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r.Et(e,t).next((e=>e?e.target:null))))}function Wc(e){const t=ks(e);return t.persistence.runTransaction("Get new document changes","readonly",(e=>function(e,t,n){const r=ks(e);let i=Za(),s=Fu(n);const o=_c(t),a=IDBKeyRange.lowerBound(s,!0);return o.jt({index:au.readTimeIndex,range:a},((e,t)=>{const n=Ru(r.k,t);i=i.insert(n.key,n),s=t.readTime})).next((()=>({In:i,readTime:Uu(s)})))}(t.Qn,e,t.jn))).then((({In:e,readTime:n})=>(t.jn=n,e)))}async function Gc(e,t,n=sl()){const r=await qc(e,na($u(t.bundledQuery))),i=ks(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const s=kl(t.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Ye.saveNamedQuery(e,t);const o=r.withResumeToken(Xs.EMPTY_BYTE_STRING,s);return i.qn=i.qn.insert(o.targetId,o),i.He.updateTargetData(e,o).next((()=>i.He.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.He.addMatchingKeys(e,n,r.targetId))).next((()=>i.Ye.saveNamedQuery(e,t)))}))}class Qc{constructor(e){this.k=e,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(e,t){return wu.resolve(this.Xn.get(t))}saveBundleMetadata(e,t){var n;return this.Xn.set(t.id,{id:(n=t).id,version:n.version,createTime:kl(n.createTime)}),wu.resolve()}getNamedQuery(e,t){return wu.resolve(this.Zn.get(t))}saveNamedQuery(e,t){return this.Zn.set(t.name,function(e){return{name:e.name,query:$u(e.bundledQuery),readTime:kl(e.readTime)}}(t)),wu.resolve()}}class Yc{constructor(){this.ts=new Ya(Xc.es),this.ns=new Ya(Xc.ss)}isEmpty(){return this.ts.isEmpty()}addReference(e,t){const n=new Xc(e,t);this.ts=this.ts.add(n),this.ns=this.ns.add(n)}rs(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.os(new Xc(e,t))}cs(e,t){e.forEach((e=>this.removeReference(e,t)))}us(e){const t=new lo(new Ws([])),n=new Xc(t,e),r=new Xc(t,e+1),i=[];return this.ns.forEachInRange([n,r],(e=>{this.os(e),i.push(e.key)})),i}hs(){this.ts.forEach((e=>this.os(e)))}os(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}ls(e){const t=new lo(new Ws([])),n=new Xc(t,e),r=new Xc(t,e+1);let i=sl();return this.ns.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Xc(e,0),n=this.ts.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Xc{constructor(e,t){this.key=e,this.fs=t}static es(e,t){return lo.comparator(e.key,t.key)||Us(e.fs,t.fs)}static ss(e,t){return Us(e.fs,t.fs)||lo.comparator(e.key,t.key)}}class Jc{constructor(e,t){this.Jt=e,this.referenceDelegate=t,this.An=[],this.ds=1,this.ws=new Ya(Xc.es)}checkEmpty(e){return wu.resolve(0===this.An.length)}addMutationBatch(e,t,n,r){const i=this.ds;this.ds++,this.An.length>0&&this.An[this.An.length-1];const s=new Du(i,t,n,r);this.An.push(s);for(const t of r)this.ws=this.ws.add(new Xc(t.key,i)),this.Jt.addToCollectionParentIndex(e,t.key.path.popLast());return wu.resolve(s)}lookupMutationBatch(e,t){return wu.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.gs(n),i=r<0?0:r;return wu.resolve(this.An.length>i?this.An[i]:null)}getHighestUnacknowledgedBatchId(){return wu.resolve(0===this.An.length?-1:this.ds-1)}getAllMutationBatches(e){return wu.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Xc(t,0),r=new Xc(t,Number.POSITIVE_INFINITY),i=[];return this.ws.forEachInRange([n,r],(e=>{const t=this._s(e.fs);i.push(t)})),wu.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Ya(Us);return t.forEach((e=>{const t=new Xc(e,0),r=new Xc(e,Number.POSITIVE_INFINITY);this.ws.forEachInRange([t,r],(e=>{n=n.add(e.fs)}))})),wu.resolve(this.ys(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;lo.isDocumentKey(i)||(i=i.child(""));const s=new Xc(new lo(i),0);let o=new Ya(Us);return this.ws.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.fs)),!0)}),s),wu.resolve(this.ys(o))}ys(e){const t=[];return e.forEach((e=>{const n=this._s(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Ss(0===this.ps(t.batchId,"removed")),this.An.shift();let n=this.ws;return wu.forEach(t.mutations,(r=>{const i=new Xc(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.ws=n}))}ee(e){}containsKey(e,t){const n=new Xc(t,0),r=this.ws.firstAfterOrEqual(n);return wu.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.An.length,wu.resolve()}ps(e,t){return this.gs(e)}gs(e){return 0===this.An.length?0:e-this.An[0].batchId}_s(e){const t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}class Zc{constructor(e,t){this.Jt=e,this.Ts=t,this.docs=new Wa(lo.comparator),this.size=0}addEntry(e,t,n){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ts(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:o,readTime:n}),this.size+=o-s,this.Jt.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return wu.resolve(n?n.document.clone():Io.newInvalidDocument(t))}getEntries(e,t){let n=Za();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.clone():Io.newInvalidDocument(e))})),wu.resolve(n)}getDocumentsMatchingQuery(e,t,n){let r=Za();const i=new lo(t.path.child("")),s=this.docs.getIteratorFrom(i);for(;s.hasNext();){const{key:e,value:{document:i,readTime:o}}=s.getNext();if(!t.path.isPrefixOf(e.path))break;o.compareTo(n)<=0||aa(t,i)&&(r=r.insert(i.key,i.clone()))}return wu.resolve(r)}Es(e,t){return wu.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new eh(this)}getSize(e){return wu.resolve(this.size)}}class eh extends bc{constructor(e){super(),this.De=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.document.isValidDocument()?t.push(this.De.addEntry(e,r.document,this.getReadTime(n))):this.De.removeEntry(n)})),wu.waitFor(t)}getFromCache(e,t){return this.De.getEntry(e,t)}getAllFromCache(e,t){return this.De.getEntries(e,t)}}class th{constructor(e){this.persistence=e,this.Is=new wc((e=>No(e)),Ao),this.lastRemoteSnapshotVersion=zs.min(),this.highestTargetId=0,this.As=0,this.Rs=new Yc,this.targetCount=0,this.Ps=ac.ie()}forEachTarget(e,t){return this.Is.forEach(((e,n)=>t(n))),wu.resolve()}getLastRemoteSnapshotVersion(e){return wu.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return wu.resolve(this.As)}allocateTargetId(e){return this.highestTargetId=this.Ps.next(),wu.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.As&&(this.As=t),wu.resolve()}ce(e){this.Is.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ps=new ac(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}addTargetData(e,t){return this.ce(t),this.targetCount+=1,wu.resolve()}updateTargetData(e,t){return this.ce(t),wu.resolve()}removeTargetData(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,wu.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Is.forEach(((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Is.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),wu.waitFor(i).next((()=>r))}getTargetCount(e){return wu.resolve(this.targetCount)}getTargetData(e,t){const n=this.Is.get(t)||null;return wu.resolve(n)}addMatchingKeys(e,t,n){return this.Rs.rs(t,n),wu.resolve()}removeMatchingKeys(e,t,n){this.Rs.cs(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),wu.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Rs.us(t),wu.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Rs.ls(t);return wu.resolve(n)}containsKey(e,t){return wu.resolve(this.Rs.containsKey(t))}}class nh{constructor(e,t){this.bs={},this.Be=new Rs(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=e(this),this.He=new th(this),this.Jt=new Gu,this.Je=function(e,t){return new Zc(e,t)}(this.Jt,(e=>this.referenceDelegate.vs(e))),this.k=new Pu(t),this.Ye=new Qc(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(e){let t=this.bs[e.toKey()];return t||(t=new Jc(this.Jt,this.referenceDelegate),this.bs[e.toKey()]=t),t}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(e,t,n){ys("MemoryPersistence","Starting transaction:",e);const r=new rh(this.Be.next());return this.referenceDelegate.Vs(),n(r).next((e=>this.referenceDelegate.Ss(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Ds(e,t){return wu.or(Object.values(this.bs).map((n=>()=>n.containsKey(e,t))))}}class rh extends vu{constructor(e){super(),this.currentSequenceNumber=e}}class ih{constructor(e){this.persistence=e,this.Cs=new Yc,this.Ns=null}static ks(e){return new ih(e)}get xs(){if(this.Ns)return this.Ns;throw Es()}addReference(e,t,n){return this.Cs.addReference(n,t),this.xs.delete(n.toString()),wu.resolve()}removeReference(e,t,n){return this.Cs.removeReference(n,t),this.xs.add(n.toString()),wu.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),wu.resolve()}removeTarget(e,t){this.Cs.us(t.targetId).forEach((e=>this.xs.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.xs.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Vs(){this.Ns=new Set}Ss(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return wu.forEach(this.xs,(n=>{const r=lo.fromPath(n);return this.$s(e,r).next((e=>{e||t.removeEntry(r)}))})).next((()=>(this.Ns=null,t.apply(e))))}updateLimboDocument(e,t){return this.$s(e,t).next((e=>{e?this.xs.delete(t.toString()):this.xs.add(t.toString())}))}vs(e){return 0}$s(e,t){return wu.or([()=>wu.resolve(this.Cs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ds(e,t)])}}function sh(e,t){return`firestore_clients_${e}_${t}`}function oh(e,t,n){let r=`firestore_mutations_${e}_${n}`;return t.isAuthenticated()&&(r+=`_${t.uid}`),r}function ah(e,t){return`firestore_targets_${e}_${t}`}class lh{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static Fs(e,t,n){const r=JSON.parse(n);let i,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new Ts(r.error.code,r.error.message))),s?new lh(e,t,r.state,i):(vs("SharedClientState",`Failed to parse mutation state for ID '${t}': ${n}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class uh{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Fs(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new Ts(n.error.code,n.error.message))),i?new uh(e,n.state,r):(vs("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ch{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Fs(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=al();for(let e=0;r&&e<n.activeTargetIds.length;++e)r=ao(n.activeTargetIds[e]),i=i.add(n.activeTargetIds[e]);return r?new ch(e,i):(vs("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class hh{constructor(e,t){this.clientId=e,this.onlineState=t}static Fs(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new hh(t.clientId,t.onlineState):(vs("SharedClientState",`Failed to parse online state: ${e}`),null)}}class dh{constructor(){this.activeTargetIds=al()}Ms(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ls(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fh{constructor(e,t,n,r,i){this.window=e,this.Oe=t,this.persistenceKey=n,this.Bs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new Wa(Us),this.started=!1,this.js=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Qs=sh(this.persistenceKey,this.Bs),this.Ws=function(e){return`firestore_sequence_number_${e}`}(this.persistenceKey),this.Ks=this.Ks.insert(this.Bs,new dh),this.Gs=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.zs=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Hs=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.Js=function(e){return`firestore_online_state_${e}`}(this.persistenceKey),this.Ys=function(e){return`firestore_bundle_loaded_${e}`}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}static bt(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Tn();for(const t of e){if(t===this.Bs)continue;const e=this.getItem(sh(this.persistenceKey,t));if(e){const n=ch.Fs(t,e);n&&(this.Ks=this.Ks.insert(n.clientId,n))}}this.Xs();const t=this.storage.getItem(this.Js);if(t){const e=this.Zs(t);e&&this.ti(e)}for(const e of this.js)this.qs(e);this.js=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ei(this.Ks)}isActiveQueryTarget(e){let t=!1;return this.Ks.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.ni(e,"pending")}updateMutationState(e,t,n){this.ni(e,t,n),this.si(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(ah(this.persistenceKey,e));if(n){const r=uh.Fs(e,n);r&&(t=r.state)}}return this.ii.Ms(e),this.Xs(),t}removeLocalQueryTarget(e){this.ii.Ls(e),this.Xs()}isLocalQueryTarget(e){return this.ii.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(ah(this.persistenceKey,e))}updateQueryState(e,t,n){this.ri(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.si(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.oi(e)}notifyBundleLoaded(){this.ai()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ys("SharedClientState","READ",e,t),t}setItem(e,t){ys("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){ys("SharedClientState","REMOVE",e),this.storage.removeItem(e)}qs(e){const t=e;if(t.storageArea===this.storage){if(ys("SharedClientState","EVENT",t.key,t.newValue),t.key===this.Qs)return void vs("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.Gs.test(t.key)){if(null==t.newValue){const e=this.ci(t.key);return this.ui(e,null)}{const e=this.hi(t.key,t.newValue);if(e)return this.ui(e.clientId,e)}}else if(this.zs.test(t.key)){if(null!==t.newValue){const e=this.li(t.key,t.newValue);if(e)return this.fi(e)}}else if(this.Hs.test(t.key)){if(null!==t.newValue){const e=this.di(t.key,t.newValue);if(e)return this.wi(e)}}else if(t.key===this.Js){if(null!==t.newValue){const e=this.Zs(t.newValue);if(e)return this.ti(e)}}else if(t.key===this.Ws){const e=function(e){let t=Rs.I;if(null!=e)try{const n=JSON.parse(e);Ss("number"==typeof n),t=n}catch(e){vs("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==Rs.I&&this.sequenceNumberHandler(e)}else if(t.key===this.Ys)return this.syncEngine._i()}else this.js.push(t)}))}}get ii(){return this.Ks.get(this.Bs)}Xs(){this.setItem(this.Qs,this.ii.Os())}ni(e,t,n){const r=new lh(this.currentUser,e,t,n),i=oh(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Os())}si(e){const t=oh(this.persistenceKey,this.currentUser,e);this.removeItem(t)}oi(e){const t={clientId:this.Bs,onlineState:e};this.storage.setItem(this.Js,JSON.stringify(t))}ri(e,t,n){const r=ah(this.persistenceKey,e),i=new uh(e,t,n);this.setItem(r,i.Os())}ai(){this.setItem(this.Ys,"value-not-used")}ci(e){const t=this.Gs.exec(e);return t?t[1]:null}hi(e,t){const n=this.ci(e);return ch.Fs(n,t)}li(e,t){const n=this.zs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return lh.Fs(new fs(i),r,t)}di(e,t){const n=this.Hs.exec(e),r=Number(n[1]);return uh.Fs(r,t)}Zs(e){return hh.Fs(e)}async fi(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.mi(e.batchId,e.state,e.error);ys("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}wi(e){return this.syncEngine.gi(e.targetId,e.state,e.error)}ui(e,t){const n=t?this.Ks.insert(e,t):this.Ks.remove(e),r=this.ei(this.Ks),i=this.ei(n),s=[],o=[];return i.forEach((e=>{r.has(e)||s.push(e)})),r.forEach((e=>{i.has(e)||o.push(e)})),this.syncEngine.yi(s,o).then((()=>{this.Ks=n}))}ti(e){this.Ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ei(e){let t=al();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class ph{constructor(){this.pi=new dh,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.pi.Ms(e),this.Ti[e]||"not-current"}updateQueryState(e,t,n){this.Ti[e]=t}removeLocalQueryTarget(e){this.pi.Ls(e)}isLocalQueryTarget(e){return this.pi.activeTargetIds.has(e)}clearQueryState(e){delete this.Ti[e]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(e){return this.pi.activeTargetIds.has(e)}start(){return this.pi=new dh,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class mh{Ei(e){}shutdown(){}}class gh{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.Pi(),this.bi=[],this.vi()}Ei(e){this.bi.push(e)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){ys("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.bi)e(0)}Pi(){ys("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.bi)e(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const yh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class vh{constructor(e){this.Vi=e.Vi,this.Si=e.Si}Di(e){this.Ci=e}Ni(e){this.ki=e}onMessage(e){this.xi=e}close(){this.Si()}send(e){this.Vi(e)}$i(){this.Ci()}Fi(e){this.ki(e)}Oi(e){this.xi(e)}}class wh extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.Mi=t+"://"+e.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(e,t,n,r,i){const s=this.Ui(e,t);ys("RestConnection","Sending: ",s,n);const o={};return this.qi(o,r,i),this.Ki(e,s,o,n).then((e=>(ys("RestConnection","Received: ",e),e)),(t=>{throw ws("RestConnection",`${e} failed with error: `,t,"url: ",s,"request:",n),t}))}ji(e,t,n,r,i){return this.Bi(e,t,n,r,i)}qi(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+ps,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}Ui(e,t){const n=yh[e];return`${this.Mi}/v1/${t}:${n}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Ki(e,t,n,r){return new Promise(((i,s)=>{const o=new hs;o.listenOnce(os.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case ss.NO_ERROR:const t=o.getResponseJson();ys("Connection","XHR received:",JSON.stringify(t)),i(t);break;case ss.TIMEOUT:ys("Connection",'RPC "'+e+'" timed out'),s(new Ts(_s.DEADLINE_EXCEEDED,"Request time out"));break;case ss.HTTP_ERROR:const n=o.getStatus();if(ys("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){const e=o.getResponseJson().error;if(e&&e.status&&e.message){const t=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(_s).indexOf(t)>=0?t:_s.UNKNOWN}(e.status);s(new Ts(t,e.message))}else s(new Ts(_s.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new Ts(_s.UNAVAILABLE,"Connection failed."));break;default:Es()}}finally{ys("Connection",'RPC "'+e+'" completed.')}}));const a=JSON.stringify(r);o.send(t,"POST",a,n,15)}))}Qi(e,t,n){const r=[this.Mi,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=rs(),s=is(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new us({})),this.qi(o.initMessageHeaders,t,n),"undefined"!=typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ie())||"object"==typeof navigator&&"ReactNative"===navigator.product||ie().indexOf("Electron/")>=0||function(){const e=ie();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()||ie().indexOf("MSAppHost/")>=0||function(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}()||(o.httpHeadersOverwriteParam="$httpHeaders");const a=r.join("");ys("Connection","Creating WebChannel: "+a,o);const l=i.createWebChannel(a,o);let u=!1,c=!1;const h=new vh({Vi:e=>{c?ys("Connection","Not sending because WebChannel is closed:",e):(u||(ys("Connection","Opening WebChannel transport."),l.open(),u=!0),ys("Connection","WebChannel sending:",e),l.send(e))},Si:()=>l.close()}),d=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return d(l,cs.EventType.OPEN,(()=>{c||ys("Connection","WebChannel transport opened.")})),d(l,cs.EventType.CLOSE,(()=>{c||(c=!0,ys("Connection","WebChannel transport closed"),h.Fi())})),d(l,cs.EventType.ERROR,(e=>{c||(c=!0,ws("Connection","WebChannel transport errored:",e),h.Fi(new Ts(_s.UNAVAILABLE,"The operation could not be completed")))})),d(l,cs.EventType.MESSAGE,(e=>{var t;if(!c){const n=e.data[0];Ss(!!n);const r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){ys("Connection","WebChannel received error:",i);const e=i.status;let t=function(e){const t=qa[e];if(void 0!==t)return Ha(t)}(e),n=i.message;void 0===t&&(t=_s.INTERNAL,n="Unknown error status: "+e+" with message "+i.message),c=!0,h.Fi(new Ts(t,n)),l.close()}else ys("Connection","WebChannel received:",n),h.Oi(n)}})),d(s,as.STAT_EVENT,(e=>{e.stat===ls.PROXY?ys("Connection","Detected buffering proxy"):e.stat===ls.NOPROXY&&ys("Connection","Detected no buffering proxy")})),setTimeout((()=>{h.$i()}),0),h}}function bh(){return"undefined"!=typeof window?window:null}function Eh(){return"undefined"!=typeof document?document:null}function Sh(e){return new wl(e,!0)}class kh{constructor(e,t,n=1e3,r=1.5,i=6e4){this.Oe=e,this.timerId=t,this.Wi=n,this.Gi=r,this.zi=i,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(e){this.cancel();const t=Math.floor(this.Hi+this.tr()),n=Math.max(0,Date.now()-this.Yi),r=Math.max(0,t-n);r>0&&ys("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Hi} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Ji=this.Oe.enqueueAfterDelay(this.timerId,r,(()=>(this.Yi=Date.now(),e()))),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}class _h{constructor(e,t,n,r,i,s,o,a){this.Oe=e,this.nr=n,this.sr=r,this.ir=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.rr=0,this.ar=null,this.cr=null,this.stream=null,this.ur=new kh(e,t)}hr(){return 1===this.state||5===this.state||this.lr()}lr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.dr()}async stop(){this.hr()&&await this.close(0)}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&null===this.ar&&(this.ar=this.Oe.enqueueAfterDelay(this.nr,6e4,(()=>this.mr())))}gr(e){this.yr(),this.stream.send(e)}async mr(){if(this.lr())return this.close(0)}yr(){this.ar&&(this.ar.cancel(),this.ar=null)}pr(){this.cr&&(this.cr.cancel(),this.cr=null)}async close(e,t){this.yr(),this.pr(),this.ur.cancel(),this.rr++,4!==e?this.ur.reset():t&&t.code===_s.RESOURCE_EXHAUSTED?(vs(t.toString()),vs("Using maximum backoff delay to prevent overloading the backend."),this.ur.Xi()):t&&t.code===_s.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Tr(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ni(t)}Tr(){}auth(){this.state=1;const e=this.Er(this.rr),t=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([e,n])=>{this.rr===t&&this.Ir(e,n)}),(t=>{e((()=>{const e=new Ts(_s.UNKNOWN,"Fetching auth token failed: "+t.message);return this.Ar(e)}))}))}Ir(e,t){const n=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di((()=>{n((()=>(this.state=2,this.cr=this.Oe.enqueueAfterDelay(this.sr,1e4,(()=>(this.lr()&&(this.state=3),Promise.resolve()))),this.listener.Di())))})),this.stream.Ni((e=>{n((()=>this.Ar(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}dr(){this.state=5,this.ur.Zi((async()=>{this.state=0,this.start()}))}Ar(e){return ys("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Er(e){return t=>{this.Oe.enqueueAndForget((()=>this.rr===e?t():(ys("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Th extends _h{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.k=i}Rr(e,t){return this.ir.Qi("Listen",e,t)}onMessage(e){this.ur.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Es()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.C?(Ss(void 0===t||"string"==typeof t),Xs.fromBase64String(t||"")):(Ss(void 0===t||t instanceof Uint8Array),Xs.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?_s.UNKNOWN:Ha(e.code);return new Ts(t,e.message||"")}(o);n=new dl(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=xl(e,r.document.name),s=kl(r.document.updateTime),o=new _o({mapValue:{fields:r.document.fields}}),a=Io.newFoundDocument(i,s,o),l=r.targetIds||[],u=r.removedTargetIds||[];n=new cl(l,u,a.key,a)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=xl(e,r.document),s=r.readTime?kl(r.readTime):zs.min(),o=Io.newNoDocument(i,s),a=r.removedTargetIds||[];n=new cl([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=xl(e,r.document),s=r.removedTargetIds||[];n=new cl([],s,i,null)}else{if(!("filter"in t))return Es();{t.filter;const e=t.filter;e.targetId;const r=e.count||0,i=new za(r),s=e.targetId;n=new hl(s,i)}}return n}(this.k,e),n=function(e){if(!("targetChange"in e))return zs.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?zs.min():t.readTime?kl(t.readTime):zs.min()}(e);return this.listener.Pr(t,n)}br(e){const t={};t.database=Al(this.k),t.addTarget=function(e,t){let n;const r=t.target;return n=Do(r)?{documents:Ml(e,r)}:{query:Fl(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=El(e,t.resumeToken):t.snapshotVersion.compareTo(zs.min())>0&&(n.readTime=bl(e,t.snapshotVersion.toTimestamp())),n}(this.k,e);const n=function(e,t){const n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Es()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.k,e);n&&(t.labels=n),this.gr(t)}vr(e){const t={};t.database=Al(this.k),t.removeTarget=e,this.gr(t)}}class Ih extends _h{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.k=i,this.Vr=!1}get Sr(){return this.Vr}start(){this.Vr=!1,this.lastStreamToken=void 0,super.start()}Tr(){this.Vr&&this.Dr([])}Rr(e,t){return this.ir.Qi("Write",e,t)}onMessage(e){if(Ss(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();const t=function(e,t){return e&&e.length>0?(Ss(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?kl(e.updateTime):kl(t);return n.isEqual(zs.min())&&(n=kl(t)),new Ia(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=kl(e.commitTime);return this.listener.Cr(n,t)}return Ss(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}kr(){const e={};e.database=Al(this.k),this.gr(e)}Dr(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Pl(this.k,e)))};this.gr(t)}}class xh extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.ir=n,this.k=r,this.$r=!1}Fr(){if(this.$r)throw new Ts(_s.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(e,t,n){return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([r,i])=>this.ir.Bi(e,t,n,r,i))).catch((e=>{throw"FirebaseError"===e.name?(e.code===_s.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Ts(_s.UNKNOWN,e.toString())}))}ji(e,t,n){return this.Fr(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([r,i])=>this.ir.ji(e,t,n,r,i))).catch((e=>{throw"FirebaseError"===e.name?(e.code===_s.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Ts(_s.UNKNOWN,e.toString())}))}terminate(){this.$r=!0}}class Ch{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Or=0,this.Mr=null,this.Lr=!0}Br(){0===this.Or&&(this.Ur("Unknown"),this.Mr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.Mr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve()))))}Kr(e){"Online"===this.state?this.Ur("Unknown"):(this.Or++,this.Or>=1&&(this.jr(),this.qr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Ur("Offline")))}set(e){this.jr(),this.Or=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}Ur(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}qr(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lr?(vs(t),this.Lr=!1):ys("OnlineStateTracker",t)}jr(){null!==this.Mr&&(this.Mr.cancel(),this.Mr=null)}}class Nh{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=i,this.Hr.Ei((e=>{n.enqueueAndForget((async()=>{Uh(this)&&(ys("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=ks(e);t.Gr.add(4),await Dh(t),t.Jr.set("Unknown"),t.Gr.delete(4),await Ah(t)}(this))}))})),this.Jr=new Ch(n,r)}}async function Ah(e){if(Uh(e))for(const t of e.zr)await t(!0)}async function Dh(e){for(const t of e.zr)await t(!1)}function Lh(e,t){const n=ks(e);n.Wr.has(t.targetId)||(n.Wr.set(t.targetId,t),Fh(n)?Mh(n):td(n).lr()&&Ph(n,t))}function Oh(e,t){const n=ks(e),r=td(n);n.Wr.delete(t),r.lr()&&Rh(n,t),0===n.Wr.size&&(r.lr()?r._r():Uh(n)&&n.Jr.set("Unknown"))}function Ph(e,t){e.Yr.X(t.targetId),td(e).br(t)}function Rh(e,t){e.Yr.X(t),td(e).vr(t)}function Mh(e){e.Yr=new pl({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>e.Wr.get(t)||null}),td(e).start(),e.Jr.Br()}function Fh(e){return Uh(e)&&!td(e).hr()&&e.Wr.size>0}function Uh(e){return 0===ks(e).Gr.size}function Vh(e){e.Yr=void 0}async function Bh(e){e.Wr.forEach(((t,n)=>{Ph(e,t)}))}async function jh(e,t){Vh(e),Fh(e)?(e.Jr.Kr(t),Mh(e)):e.Jr.set("Unknown")}async function zh(e,t,n){if(e.Jr.set("Online"),t instanceof dl&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Wr.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Wr.delete(r),e.Yr.removeTarget(r))}(e,t)}catch(n){ys("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await qh(e,n)}else if(t instanceof cl?e.Yr.ot(t):t instanceof hl?e.Yr.dt(t):e.Yr.ut(t),!n.isEqual(zs.min()))try{const t=await Bc(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Yr.gt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Wr.get(r);i&&e.Wr.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((t=>{const n=e.Wr.get(t);if(!n)return;e.Wr.set(t,n.withResumeToken(Xs.EMPTY_BYTE_STRING,n.snapshotVersion)),Rh(e,t);const r=new Ou(n.target,t,1,n.sequenceNumber);Ph(e,r)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){ys("RemoteStore","Failed to raise snapshot:",t),await qh(e,t)}}async function qh(e,t,n){if(!_u(t))throw t;e.Gr.add(1),await Dh(e),e.Jr.set("Offline"),n||(n=()=>Bc(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{ys("RemoteStore","Retrying IndexedDB access"),await n(),e.Gr.delete(1),await Ah(e)}))}function $h(e,t){return t().catch((n=>qh(e,n,t)))}async function Kh(e){const t=ks(e),n=nd(t);let r=t.Qr.length>0?t.Qr[t.Qr.length-1].batchId:-1;for(;Hh(t);)try{const e=await zc(t.localStore,r);if(null===e){0===t.Qr.length&&n._r();break}r=e.batchId,Wh(t,e)}catch(e){await qh(t,e)}Gh(t)&&Qh(t)}function Hh(e){return Uh(e)&&e.Qr.length<10}function Wh(e,t){e.Qr.push(t);const n=nd(e);n.lr()&&n.Sr&&n.Dr(t.mutations)}function Gh(e){return Uh(e)&&!nd(e).hr()&&e.Qr.length>0}function Qh(e){nd(e).start()}async function Yh(e){nd(e).kr()}async function Xh(e){const t=nd(e);for(const n of e.Qr)t.Dr(n.mutations)}async function Jh(e,t,n){const r=e.Qr.shift(),i=Lu.from(r,t,n);await $h(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Kh(e)}async function Zh(e,t){t&&nd(e).Sr&&await async function(e,t){if(Ka(n=t.code)&&n!==_s.ABORTED){const n=e.Qr.shift();nd(e).wr(),await $h(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Kh(e)}var n}(e,t),Gh(e)&&Qh(e)}async function ed(e,t){const n=ks(e);t?(n.Gr.delete(2),await Ah(n)):t||(n.Gr.add(2),await Dh(n),n.Jr.set("Unknown"))}function td(e){return e.Xr||(e.Xr=function(e,t,n){const r=ks(e);return r.Fr(),new Th(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:Bh.bind(null,e),Ni:jh.bind(null,e),Pr:zh.bind(null,e)}),e.zr.push((async t=>{t?(e.Xr.wr(),Fh(e)?Mh(e):e.Jr.set("Unknown")):(await e.Xr.stop(),Vh(e))}))),e.Xr}function nd(e){return e.Zr||(e.Zr=function(e,t,n){const r=ks(e);return r.Fr(),new Ih(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:Yh.bind(null,e),Ni:Zh.bind(null,e),Nr:Xh.bind(null,e),Cr:Jh.bind(null,e)}),e.zr.push((async t=>{t?(e.Zr.wr(),await Kh(e)):(await e.Zr.stop(),e.Qr.length>0&&(ys("RemoteStore",`Stopping write stream with ${e.Qr.length} pending writes`),e.Qr=[]))}))),e.Zr}class rd{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Is,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new rd(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ts(_s.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function id(e,t){if(vs("AsyncQueue",`${t}: ${e}`),_u(e))return new Ts(_s.UNAVAILABLE,`${t}: ${e}`);throw e}class sd{constructor(e){this.comparator=e?(t,n)=>e(t,n)||lo.comparator(t.key,n.key):(e,t)=>lo.comparator(e.key,t.key),this.keyedMap=tl(),this.sortedSet=new Wa(this.comparator)}static emptySet(e){return new sd(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof sd))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new sd;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class od{constructor(){this.eo=new Wa(lo.comparator)}track(e){const t=e.doc.key,n=this.eo.get(t);n?0!==e.type&&3===n.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==n.type?this.eo=this.eo.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.eo=this.eo.remove(t):1===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):Es():this.eo=this.eo.insert(t,e)}no(){const e=[];return this.eo.inorderTraversal(((t,n)=>{e.push(n)})),e}}class ad{constructor(e,t,n,r,i,s,o,a){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a}static fromInitialDocuments(e,t,n,r){const i=[];return t.forEach((e=>{i.push({type:0,doc:e})})),new ad(e,t,sd.emptySet(t),i,n,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ia(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==n[e].type||!t[e].doc.isEqual(n[e].doc))return!1;return!0}}class ld{constructor(){this.so=void 0,this.listeners=[]}}class ud{constructor(){this.queries=new wc((e=>sa(e)),ia),this.onlineState="Unknown",this.io=new Set}}async function cd(e,t){const n=ks(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new ld),i)try{s.so=await n.onListen(r)}catch(e){const n=id(e,`Initialization of query '${oa(t.query)}' failed`);return void t.onError(n)}n.queries.set(r,s),s.listeners.push(t),t.ro(n.onlineState),s.so&&t.oo(s.so)&&pd(n)}async function hd(e,t){const n=ks(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function dd(e,t){const n=ks(e);let r=!1;for(const e of t){const t=e.query,i=n.queries.get(t);if(i){for(const t of i.listeners)t.oo(e)&&(r=!0);i.so=e}}r&&pd(n)}function fd(e,t,n){const r=ks(e),i=r.queries.get(t);if(i)for(const e of i.listeners)e.onError(n);r.queries.delete(t)}function pd(e){e.io.forEach((e=>{e.next()}))}class md{constructor(e,t,n){this.query=e,this.ao=t,this.co=!1,this.uo=null,this.onlineState="Unknown",this.options=n||{}}oo(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new ad(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.co?this.ho(e)&&(this.ao.next(e),t=!0):this.lo(e,this.onlineState)&&(this.fo(e),t=!0),this.uo=e,t}onError(e){this.ao.error(e)}ro(e){this.onlineState=e;let t=!1;return this.uo&&!this.co&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}lo(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return!(this.options.wo&&n||e.docs.isEmpty()&&"Offline"!==t)}ho(e){if(e.docChanges.length>0)return!0;const t=this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}fo(e){e=ad.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.co=!0,this.ao.next(e)}}class gd{constructor(e,t){this.payload=e,this.byteLength=t}_o(){return"metadata"in this.payload}}class yd{constructor(e){this.k=e}Hn(e){return xl(this.k,e)}Jn(e){return e.metadata.exists?Ol(this.k,e.document,!1):Io.newNoDocument(this.Hn(e.metadata.name),this.Yn(e.metadata.readTime))}Yn(e){return kl(e)}}class vd{constructor(e,t,n){this.mo=e,this.localStore=t,this.k=n,this.queries=[],this.documents=[],this.progress=wd(e)}yo(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}po(e){const t=new Map,n=new yd(this.k);for(const r of e)if(r.metadata.queries){const e=n.Hn(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||sl()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=ks(e);let s=sl(),o=Za(),a=rl();for(const e of n){const n=t.Hn(e.metadata.name);e.document&&(s=s.add(n)),o=o.insert(n,t.Jn(e)),a=a.insert(n,t.Yn(e.metadata.readTime))}const l=i.Qn.newChangeBuffer({trackRemovals:!0}),u=await qc(i,function(e){return na(Qo(Ws.fromString(`__bundle__/docs/${e}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>jc(e,l,o,zs.min(),a).next((t=>(l.apply(e),t))).next((t=>i.He.removeMatchingKeysForTargetId(e,u.targetId).next((()=>i.He.addMatchingKeys(e,s,u.targetId))).next((()=>i.Wn.Vn(e,t))).next((()=>t))))))}(this.localStore,new yd(this.k),this.documents,this.mo.id),t=this.po(this.documents);for(const e of this.queries)await Gc(this.localStore,e,t.get(e.name));return this.progress.taskState="Success",new Oc(Object.assign({},this.progress),e)}}function wd(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class bd{constructor(e){this.key=e}}class Ed{constructor(e){this.key=e}}class Sd{constructor(e,t){this.query=e,this.To=t,this.Eo=null,this.current=!1,this.Io=sl(),this.mutatedKeys=sl(),this.Ao=la(e),this.Ro=new sd(this.Ao)}get Po(){return this.To}bo(e,t){const n=t?t.vo:new od,r=t?t.Ro:this.Ro;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a=Yo(this.query)&&r.size===this.query.limit?r.last():null,l=Xo(this.query)&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const u=r.get(e),c=aa(this.query,t)?t:null,h=!!u&&this.mutatedKeys.has(u.key),d=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let f=!1;u&&c?u.data.isEqual(c.data)?h!==d&&(n.track({type:3,doc:c}),f=!0):this.Vo(u,c)||(n.track({type:2,doc:c}),f=!0,(a&&this.Ao(c,a)>0||l&&this.Ao(c,l)<0)&&(o=!0)):!u&&c?(n.track({type:0,doc:c}),f=!0):u&&!c&&(n.track({type:1,doc:u}),f=!0,(a||l)&&(o=!0)),f&&(c?(s=s.add(c),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),Yo(this.query)||Xo(this.query))for(;s.size>this.query.limit;){const e=Yo(this.query)?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ro:s,vo:n,Bn:o,mutatedKeys:i}}Vo(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;const i=e.vo.no();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Es()}};return n(e)-n(t)}(e.type,t.type)||this.Ao(e.doc,t.doc))),this.So(n);const s=t?this.Do():[],o=0===this.Io.size&&this.current?1:0,a=o!==this.Eo;return this.Eo=o,0!==i.length||a?{snapshot:new ad(this.query,e.Ro,r,i,e.mutatedKeys,0===o,a,!1),Co:s}:{Co:s}}ro(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new od,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}No(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}So(e){e&&(e.addedDocuments.forEach((e=>this.To=this.To.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.To=this.To.delete(e))),this.current=e.current)}Do(){if(!this.current)return[];const e=this.Io;this.Io=sl(),this.Ro.forEach((e=>{this.No(e.key)&&(this.Io=this.Io.add(e.key))}));const t=[];return e.forEach((e=>{this.Io.has(e)||t.push(new Ed(e))})),this.Io.forEach((n=>{e.has(n)||t.push(new bd(n))})),t}ko(e){this.To=e.zn,this.Io=sl();const t=this.bo(e.documents);return this.applyChanges(t,!0)}xo(){return ad.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}class kd{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class _d{constructor(e){this.key=e,this.$o=!1}}class Td{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Fo={},this.Oo=new wc((e=>sa(e)),ia),this.Mo=new Map,this.Lo=new Set,this.Bo=new Wa(lo.comparator),this.Uo=new Map,this.qo=new Yc,this.Ko={},this.jo=new Map,this.Qo=ac.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return!0===this.Wo}}async function Id(e,t){const n=Jd(e);let r,i;const s=n.Oo.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.xo();else{const e=await qc(n.localStore,na(t)),s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await xd(n,t,r,"current"===s),n.isPrimaryClient&&Lh(n.remoteStore,e)}return i}async function xd(e,t,n,r){e.Go=(t,n,r)=>async function(e,t,n,r){let i=t.view.bo(n);i.Bn&&(i=await Kc(e.localStore,t.query,!1).then((({documents:e})=>t.view.bo(e,i))));const s=r&&r.targetChanges.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s);return Ud(e,t.targetId,o.Co),o.snapshot}(e,t,n,r);const i=await Kc(e.localStore,t,!0),s=new Sd(t,i.zn),o=s.bo(i.documents),a=ul.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),l=s.applyChanges(o,e.isPrimaryClient,a);Ud(e,n,l.Co);const u=new kd(t,n,s);return e.Oo.set(t,u),e.Mo.has(n)?e.Mo.get(n).push(t):e.Mo.set(n,[t]),l.snapshot}async function Cd(e,t){const n=ks(e),r=n.Oo.get(t),i=n.Mo.get(r.targetId);if(i.length>1)return n.Mo.set(r.targetId,i.filter((e=>!ia(e,t)))),void n.Oo.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await $c(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),Oh(n.remoteStore,r.targetId),Md(n,r.targetId)})).catch(dc)):(Md(n,r.targetId),await $c(n.localStore,r.targetId,!0))}async function Nd(e,t){const n=ks(e);try{const e=await function(e,t){const n=ks(e),r=t.snapshotVersion;let i=n.qn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.qn;const o=[];t.targetChanges.forEach(((t,s)=>{const a=i.get(s);if(!a)return;o.push(n.He.removeMatchingKeys(e,t.removedDocuments,s).next((()=>n.He.addMatchingKeys(e,t.addedDocuments,s))));const l=t.resumeToken;if(l.approximateByteSize()>0){const u=a.withResumeToken(l,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(s,u),function(e,t,n){return Ss(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,u,t)&&o.push(n.He.updateTargetData(e,u))}}));let a=Za();if(t.documentUpdates.forEach(((r,i)=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(jc(e,s,t.documentUpdates,r,void 0).next((e=>{a=e}))),!r.isEqual(zs.min())){const t=n.He.getLastRemoteSnapshotVersion(e).next((t=>n.He.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return wu.waitFor(o).next((()=>s.apply(e))).next((()=>n.Wn.Vn(e,a))).next((()=>a))})).then((e=>(n.qn=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Uo.get(t);r&&(Ss(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.$o=!0:e.modifiedDocuments.size>0?Ss(r.$o):e.removedDocuments.size>0&&(Ss(r.$o),r.$o=!1))})),await jd(n,e,t)}catch(e){await dc(e)}}function Ad(e,t,n){const r=ks(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Oo.forEach(((n,r)=>{const i=r.view.ro(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=ks(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const e of n.listeners)e.ro(t)&&(r=!0)})),r&&pd(n)}(r.eventManager,t),e.length&&r.Fo.Pr(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Dd(e,t,n){const r=ks(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Uo.get(t),s=i&&i.key;if(s){let e=new Wa(lo.comparator);e=e.insert(s,Io.newNoDocument(s,zs.min()));const n=sl().add(s),i=new ll(zs.min(),new Map,new Ya(Us),e,n);await Nd(r,i),r.Bo=r.Bo.remove(s),r.Uo.delete(t),Bd(r)}else await $c(r.localStore,t,!1).then((()=>Md(r,t,n))).catch(dc)}async function Ld(e,t){const n=ks(e),r=t.batch.batchId;try{const e=await function(e,t){const n=ks(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.Qn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=wu.resolve();return s.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);Ss(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),o.next((()=>e.An.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.An.performConsistencyCheck(e))).next((()=>n.Wn.vn(e,r)))}))}(n.localStore,t);Rd(n,r,null),Pd(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await jd(n,e)}catch(e){await dc(e)}}async function Od(e,t,n){const r=ks(e);try{const e=await function(e,t){const n=ks(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.An.lookupMutationBatch(e,t).next((t=>(Ss(null!==t),r=t.keys(),n.An.removeMutationBatch(e,t)))).next((()=>n.An.performConsistencyCheck(e))).next((()=>n.Wn.vn(e,r)))}))}(r.localStore,t);Rd(r,t,n),Pd(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await jd(r,e)}catch(n){await dc(n)}}function Pd(e,t){(e.jo.get(t)||[]).forEach((e=>{e.resolve()})),e.jo.delete(t)}function Rd(e,t,n){const r=ks(e);let i=r.Ko[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Ko[r.currentUser.toKey()]=i}}function Md(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Mo.get(t))e.Oo.delete(r),n&&e.Fo.zo(r,n);e.Mo.delete(t),e.isPrimaryClient&&e.qo.us(t).forEach((t=>{e.qo.containsKey(t)||Fd(e,t)}))}function Fd(e,t){e.Lo.delete(t.path.canonicalString());const n=e.Bo.get(t);null!==n&&(Oh(e.remoteStore,n),e.Bo=e.Bo.remove(t),e.Uo.delete(n),Bd(e))}function Ud(e,t,n){for(const r of n)r instanceof bd?(e.qo.addReference(r.key,t),Vd(e,r)):r instanceof Ed?(ys("SyncEngine","Document no longer in limbo: "+r.key),e.qo.removeReference(r.key,t),e.qo.containsKey(r.key)||Fd(e,r.key)):Es()}function Vd(e,t){const n=t.key,r=n.path.canonicalString();e.Bo.get(n)||e.Lo.has(r)||(ys("SyncEngine","New document in limbo: "+n),e.Lo.add(r),Bd(e))}function Bd(e){for(;e.Lo.size>0&&e.Bo.size<e.maxConcurrentLimboResolutions;){const t=e.Lo.values().next().value;e.Lo.delete(t);const n=new lo(Ws.fromString(t)),r=e.Qo.next();e.Uo.set(r,new _d(n)),e.Bo=e.Bo.insert(n,r),Lh(e.remoteStore,new Ou(na(Qo(n.path)),r,2,Rs.I))}}async function jd(e,t,n){const r=ks(e),i=[],s=[],o=[];r.Oo.isEmpty()||(r.Oo.forEach(((e,a)=>{o.push(r.Go(a,t,n).then((e=>{if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,e.fromCache?"not-current":"current"),i.push(e);const t=Rc.$n(a.targetId,e);s.push(t)}})))})),await Promise.all(o),r.Fo.Pr(i),await async function(e,t){const n=ks(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>wu.forEach(t,(t=>wu.forEach(t.kn,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>wu.forEach(t.xn,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!_u(e))throw e;ys("LocalStore","Failed to update sequence numbers: "+e)}for(const e of t){const t=e.targetId;if(!e.fromCache){const e=n.qn.get(t),r=e.snapshotVersion,i=e.withLastLimboFreeSnapshotVersion(r);n.qn=n.qn.insert(t,i)}}}(r.localStore,s))}async function zd(e,t){const n=ks(e);if(!n.currentUser.isEqual(t)){ys("SyncEngine","User change. New user:",t.toKey());const e=await Vc(n.localStore,t);n.currentUser=t,function(e,t){e.jo.forEach((e=>{e.forEach((e=>{e.reject(new Ts(_s.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.jo.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await jd(n,e.Gn)}}function qd(e,t){const n=ks(e),r=n.Uo.get(t);if(r&&r.$o)return sl().add(r.key);{let e=sl();const r=n.Mo.get(t);if(!r)return e;for(const t of r){const r=n.Oo.get(t);e=e.unionWith(r.view.Po)}return e}}async function $d(e,t){const n=ks(e),r=await Kc(n.localStore,t.query,!0),i=t.view.ko(r);return n.isPrimaryClient&&Ud(n,t.targetId,i.Co),i}async function Kd(e){const t=ks(e);return Wc(t.localStore).then((e=>jd(t,e)))}async function Hd(e,t,n,r){const i=ks(e),s=await function(e,t){const n=ks(e),r=ks(n.An);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.Zt(e,t).next((t=>t?n.Wn.vn(e,t):wu.resolve(null)))))}(i.localStore,t);null!==s?("pending"===n?await Kh(i.remoteStore):"acknowledged"===n||"rejected"===n?(Rd(i,t,r||null),Pd(i,t),function(e,t){ks(ks(e).An).ee(t)}(i.localStore,t)):Es(),await jd(i,s)):ys("SyncEngine","Cannot apply mutation batch with id: "+t)}async function Wd(e,t,n){const r=ks(e),i=[],s=[];for(const e of t){let t;const n=r.Mo.get(e);if(n&&0!==n.length){t=await qc(r.localStore,na(n[0]));for(const e of n){const t=r.Oo.get(e),n=await $d(r,t);n.snapshot&&s.push(n.snapshot)}}else{const n=await Hc(r.localStore,e);t=await qc(r.localStore,n),await xd(r,Gd(n),e,!1)}i.push(t)}return r.Fo.Pr(s),i}function Gd(e){return Go(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Qd(e){const t=ks(e);return ks(ks(t.localStore).persistence).Tn()}async function Yd(e,t,n,r){const i=ks(e);if(i.Wo)ys("SyncEngine","Ignoring unexpected query state notification.");else if(i.Mo.has(t))switch(n){case"current":case"not-current":{const e=await Wc(i.localStore),r=ll.createSynthesizedRemoteEventForCurrentChange(t,"current"===n);await jd(i,e,r);break}case"rejected":await $c(i.localStore,t,!0),Md(i,t,r);break;default:Es()}}async function Xd(e,t,n){const r=Jd(e);if(r.Wo){for(const e of t){if(r.Mo.has(e)){ys("SyncEngine","Adding an already active target "+e);continue}const t=await Hc(r.localStore,e),n=await qc(r.localStore,t);await xd(r,Gd(t),n.targetId,!1),Lh(r.remoteStore,n)}for(const e of n)r.Mo.has(e)&&await $c(r.localStore,e,!1).then((()=>{Oh(r.remoteStore,e),Md(r,e)})).catch(dc)}}function Jd(e){const t=ks(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Nd.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=qd.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Dd.bind(null,t),t.Fo.Pr=dd.bind(null,t.eventManager),t.Fo.zo=fd.bind(null,t.eventManager),t}function Zd(e){const t=ks(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Ld.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Od.bind(null,t),t}class ef{constructor(){this.synchronizeTabs=!1}async initialize(e){this.k=Sh(e.databaseInfo.databaseId),this.sharedClientState=this.Jo(e),this.persistence=this.Yo(e),await this.persistence.start(),this.gcScheduler=this.Xo(e),this.localStore=this.Zo(e)}Xo(e){return null}Zo(e){return Uc(this.persistence,new Mc,e.initialUser,this.k)}Yo(e){return new nh(ih.ks,this.k)}Jo(e){return new ph}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class tf extends ef{constructor(e,t,n){super(),this.ta=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await async function(e){const t=ks(e);return t.persistence.runTransaction("Synchronize last document change read time","readonly",(e=>function(e){const t=_c(e);let n=zs.min();return t.jt({index:au.readTimeIndex,reverse:!0},((e,t,r)=>{t.readTime&&(n=Uu(t.readTime)),r.done()})).next((()=>n))}(e))).then((e=>{t.jn=e}))}(this.localStore),await this.ta.initialize(this,e),await Zd(this.ta.syncEngine),await Kh(this.ta.remoteStore),await this.persistence.sn((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(this.localStore),Promise.resolve())))}Zo(e){return Uc(this.persistence,new Mc,e.initialUser,this.k)}Xo(e){const t=this.persistence.referenceDelegate.garbageCollector;return new mc(t,e.asyncQueue)}Yo(e){const t=Lc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Zu.withCacheSize(this.cacheSizeBytes):Zu.DEFAULT;return new Nc(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,bh(),Eh(),this.k,this.sharedClientState,!!this.forceOwnership)}Jo(e){return new ph}}class nf extends tf{constructor(e,t){super(e,t,!1),this.ta=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.ta.syncEngine;this.sharedClientState instanceof fh&&(this.sharedClientState.syncEngine={mi:Hd.bind(null,t),gi:Yd.bind(null,t),yi:Xd.bind(null,t),Tn:Qd.bind(null,t),_i:Kd.bind(null,t)},await this.sharedClientState.start()),await this.persistence.sn((async e=>{await async function(e,t){const n=ks(e);if(Jd(n),Zd(n),!0===t&&!0!==n.Wo){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await Wd(n,e.toArray());n.Wo=!0,await ed(n.remoteStore,!0);for(const e of t)Lh(n.remoteStore,e)}else if(!1===t&&!1!==n.Wo){const e=[];let t=Promise.resolve();n.Mo.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(Md(n,i),$c(n.localStore,i,!0)))),Oh(n.remoteStore,i)})),await t,await Wd(n,e),function(e){const t=ks(e);t.Uo.forEach(((e,n)=>{Oh(t.remoteStore,n)})),t.qo.hs(),t.Uo=new Map,t.Bo=new Wa(lo.comparator)}(n),n.Wo=!1,await ed(n.remoteStore,!1)}}(this.ta.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop())}))}Jo(e){const t=bh();if(!fh.bt(t))throw new Ts(_s.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=Lc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new fh(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class rf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Ad(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=zd.bind(null,this.syncEngine),await ed(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new ud}createDatastore(e){const t=Sh(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new wh(r));var r;return function(e,t,n,r){return new xh(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>Ad(this.syncEngine,e,0),s=gh.bt()?new gh:new mh,new Nh(t,n,r,i,s);var t,n,r,i,s}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new Td(e,t,n,r,i,s);return o&&(a.Wo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=ks(e);ys("RemoteStore","RemoteStore shutting down."),t.Gr.add(5),await Dh(t),t.Hr.shutdown(),t.Jr.set("Unknown")}(this.remoteStore)}}function sf(e,t=10240){let n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.reject("unimplemented")}}class of{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ea(this.observer.next,e)}error(e){this.observer.error?this.ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}na(){this.muted=!0}ea(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class af{constructor(e,t){this.sa=e,this.k=t,this.metadata=new Is,this.buffer=new Uint8Array,this.ia=new TextDecoder("utf-8"),this.ra().then((e=>{e&&e._o()?this.metadata.resolve(e.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==e?void 0:e.payload)}`))}),(e=>this.metadata.reject(e)))}close(){return this.sa.cancel()}async getMetadata(){return this.metadata.promise}async Ho(){return await this.getMetadata(),this.ra()}async ra(){const e=await this.oa();if(null===e)return null;const t=this.ia.decode(e),n=Number(t);isNaN(n)&&this.aa(`length string (${t}) is not valid number`);const r=await this.ca(n);return new gd(JSON.parse(r),e.length+n)}ua(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async oa(){for(;this.ua()<0&&!await this.ha(););if(0===this.buffer.length)return null;const e=this.ua();e<0&&this.aa("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async ca(e){for(;this.buffer.length<e;)await this.ha()&&this.aa("Reached the end of bundle when more is expected.");const t=this.ia.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}aa(e){throw this.sa.cancel(),new Error(`Invalid bundle format: ${e}`)}async ha(){const e=await this.sa.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class lf{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Ts(_s.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const t=await async function(e,t){const n=ks(e),r=Al(n.k)+"/documents",i={documents:t.map((e=>Il(n.k,e)))},s=await n.ji("BatchGetDocuments",r,i),o=new Map;s.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){Ss(!!t.found),t.found.name,t.found.updateTime;const n=xl(e,t.found.name),r=kl(t.found.updateTime),i=new _o({mapValue:{fields:t.found.fields}});return Io.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Ss(!!t.missing),Ss(!!t.readTime);const n=xl(e,t.missing),r=kl(t.readTime);return Io.newNoDocument(n,r)}(e,t):Es()}(n.k,e);o.set(t.key.toString(),t)}));const a=[];return t.forEach((e=>{const t=o.get(e.toString());Ss(!!t),a.push(t)})),a}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ba(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=lo.fromPath(t);this.mutations.push(new ja(n,this.precondition(n)))})),await async function(e,t){const n=ks(e),r=Al(n.k)+"/documents",i={writes:t.map((e=>Pl(n.k,e)))};await n.Bi("Commit",r,i)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Es();t=zs.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Ts(_s.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?xa.updateTime(t):xa.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(zs.min()))throw new Ts(_s.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return xa.updateTime(t)}return xa.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class uf{constructor(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.la=5,this.ur=new kh(this.asyncQueue,"transaction_retry")}run(){this.la-=1,this.fa()}fa(){this.ur.Zi((async()=>{const e=new lf(this.datastore),t=this.da(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.wa(e)}))))})).catch((e=>{this.wa(e)}))}))}da(e){try{const t=this.updateFunction(e);return!so(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}wa(e){this.la>0&&this._a(e)?(this.la-=1,this.asyncQueue.enqueueAndForget((()=>(this.fa(),Promise.resolve())))):this.deferred.reject(e)}_a(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Ka(t)}return!1}}class cf{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=fs.UNAUTHENTICATED,this.clientId=Fs.A(),this.authCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{ys("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(()=>Promise.resolve()))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ts(_s.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Is;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=id(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function hf(e,t){e.asyncQueue.verifyOperationInProgress(),ys("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Vc(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e.offlineComponents=t}async function df(e,t){e.asyncQueue.verifyOperationInProgress();const n=await ff(e);ys("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>async function(e,t){const n=ks(e);n.asyncQueue.verifyOperationInProgress(),ys("RemoteStore","RemoteStore received new credentials");const r=Uh(n);n.Gr.add(3),await Dh(n),r&&n.Jr.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Gr.delete(3),await Ah(n)}(t.remoteStore,e))),e.onlineComponents=t}async function ff(e){return e.offlineComponents||(ys("FirestoreClient","Using default OfflineComponentProvider"),await hf(e,new ef)),e.offlineComponents}async function pf(e){return e.onlineComponents||(ys("FirestoreClient","Using default OnlineComponentProvider"),await df(e,new rf)),e.onlineComponents}function mf(e){return ff(e).then((e=>e.persistence))}function gf(e){return ff(e).then((e=>e.localStore))}function yf(e){return pf(e).then((e=>e.remoteStore))}function vf(e){return pf(e).then((e=>e.syncEngine))}async function wf(e){const t=await pf(e),n=t.eventManager;return n.onListen=Id.bind(null,t.syncEngine),n.onUnlisten=Cd.bind(null,t.syncEngine),n}function bf(e,t,n={}){const r=new Is;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new of({next:s=>{t.enqueueAndForget((()=>hd(e,o)));const a=s.docs.has(n);!a&&s.fromCache?i.reject(new Ts(_s.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new Ts(_s.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),o=new md(Qo(n.path),s,{includeMetadataChanges:!0,wo:!0});return cd(e,o)}(await wf(e),e.asyncQueue,t,n,r))),r.promise}function Ef(e,t,n={}){const r=new Is;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new of({next:n=>{t.enqueueAndForget((()=>hd(e,o))),n.fromCache&&"server"===r.source?i.reject(new Ts(_s.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new md(n,s,{includeMetadataChanges:!0,wo:!0});return cd(e,o)}(await wf(e),e.asyncQueue,t,n,r))),r.promise}class Sf{constructor(e,t,n,r,i,s,o,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.useFetchStreams=a}}class kf{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof kf&&e.projectId===this.projectId&&e.database===this.database}}const _f=new Map;function Tf(e,t,n){if(!n)throw new Ts(_s.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function If(e,t,n,r){if(!0===t&&!0===r)throw new Ts(_s.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function xf(e){if(!lo.isDocumentKey(e))throw new Ts(_s.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Cf(e){if(lo.isDocumentKey(e))throw new Ts(_s.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Nf(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":Es()}function Af(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Ts(_s.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Nf(e);throw new Ts(_s.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function Df(e,t){if(t<=0)throw new Ts(_s.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}class Lf{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ts(_s.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ts(_s.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,If("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Of{constructor(e,t,n){this._authCredentials=t,this._appCheckCredentials=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Lf({}),this._settingsFrozen=!1,e instanceof kf?this._databaseId=e:(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Ts(_s.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kf(e.options.projectId)}(e))}get app(){if(!this._app)throw new Ts(_s.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ts(_s.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Lf(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Cs;switch(e.type){case"gapi":const t=e.client;return Ss(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Ls(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Ts(_s.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=_f.get(e);t&&(ys("ComponentProvider","Removing Datastore"),_f.delete(e),t.terminate())}(this),Promise.resolve()}}class Pf{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mf(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pf(this.firestore,e,this._key)}}class Rf{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Rf(this.firestore,e,this._query)}}class Mf extends Rf{constructor(e,t,n){super(e,t,Qo(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pf(this.firestore,null,new lo(e))}withConverter(e){return new Mf(this.firestore,e,this._path)}}function Ff(e,t,...n){if(e=pe(e),Tf("collection","path",t),e instanceof Of){const r=Ws.fromString(t,...n);return Cf(r),new Mf(e,null,r)}{if(!(e instanceof Pf||e instanceof Mf))throw new Ts(_s.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Ws.fromString(t,...n));return Cf(r),new Mf(e.firestore,null,r)}}function Uf(e,t,...n){if(e=pe(e),1===arguments.length&&(t=Fs.A()),Tf("doc","path",t),e instanceof Of){const r=Ws.fromString(t,...n);return xf(r),new Pf(e,null,new lo(r))}{if(!(e instanceof Pf||e instanceof Mf))throw new Ts(_s.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Ws.fromString(t,...n));return xf(r),new Pf(e.firestore,e instanceof Mf?e.converter:null,new lo(r))}}function Vf(e,t){return e=pe(e),t=pe(t),(e instanceof Pf||e instanceof Mf)&&(t instanceof Pf||t instanceof Mf)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Bf(e,t){return e=pe(e),t=pe(t),e instanceof Rf&&t instanceof Rf&&e.firestore===t.firestore&&ia(e._query,t._query)&&e.converter===t.converter}class jf{constructor(){this.ma=Promise.resolve(),this.ga=[],this.ya=!1,this.pa=[],this.Ta=null,this.Ea=!1,this.Ia=!1,this.Aa=[],this.ur=new kh(this,"async_queue_retry"),this.Ra=()=>{const e=Eh();e&&ys("AsyncQueue","Visibility state changed to "+e.visibilityState),this.ur.er()};const e=Eh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ra)}get isShuttingDown(){return this.ya}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pa(),this.ba(e)}enterRestrictedMode(e){if(!this.ya){this.ya=!0,this.Ia=e||!1;const t=Eh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ra)}}enqueue(e){if(this.Pa(),this.ya)return new Promise((()=>{}));const t=new Is;return this.ba((()=>this.ya&&this.Ia?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.ga.push(e),this.va())))}async va(){if(0!==this.ga.length){try{await this.ga[0](),this.ga.shift(),this.ur.reset()}catch(e){if(!_u(e))throw e;ys("AsyncQueue","Operation failed with retryable error: "+e)}this.ga.length>0&&this.ur.Zi((()=>this.va()))}}ba(e){const t=this.ma.then((()=>(this.Ea=!0,e().catch((e=>{this.Ta=e,this.Ea=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw vs("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.Ea=!1,e))))));return this.ma=t,t}enqueueAfterDelay(e,t,n){this.Pa(),this.Aa.indexOf(e)>-1&&(t=0);const r=rd.createAndSchedule(this,e,t,n,(e=>this.Va(e)));return this.pa.push(r),r}Pa(){this.Ta&&Es()}verifyOperationInProgress(){}async Sa(){let e;do{e=this.ma,await e}while(e!==this.ma)}Da(e){for(const t of this.pa)if(t.timerId===e)return!0;return!1}Ca(e){return this.Sa().then((()=>{this.pa.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.pa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Sa()}))}Na(e){this.Aa.push(e)}Va(e){const t=this.pa.indexOf(e);this.pa.splice(t,1)}}function zf(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const e of["next","error","complete"])if(e in n&&"function"==typeof n[e])return!0;return!1}(e)}class qf{constructor(){this._progressObserver={},this._taskCompletionResolver=new Is,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class $f extends Of{constructor(e,t,n){super(e,t,n),this.type="firestore",this._queue=new jf,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Hf(this),this._firestoreClient.terminate()}}function Kf(e){return e._firestoreClient||Hf(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Hf(e){var t;const n=e._freezeSettings(),r=function(e,t,n,r){return new Sf(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new cf(e._authCredentials,e._appCheckCredentials,e._queue,r)}function Wf(e,t,n){const r=new Is;return e.asyncQueue.enqueue((async()=>{try{await hf(e,n),await df(e,t),r.resolve()}catch(e){if(!function(e){return"FirebaseError"===e.name?e.code===_s.FAILED_PRECONDITION||e.code===_s.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(e))throw e;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+e),r.reject(e)}})).then((()=>r.promise))}function Gf(e){if(e._initialized||e._terminated)throw new Ts(_s.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Qf{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ts(_s.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qs(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Yf{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yf(Xs.fromBase64String(e))}catch(e){throw new Ts(_s.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Yf(Xs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Xf{constructor(e){this._methodName=e}}class Jf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ts(_s.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ts(_s.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Us(this._lat,e._lat)||Us(this._long,e._long)}}const Zf=/^__.*__$/;class ep{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Ma(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ra(e,this.data,t,this.fieldTransforms)}}class tp{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Ma(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function np(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Es()}}class rp{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.k=n,this.ignoreUndefinedProperties=r,void 0===i&&this.ka(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get xa(){return this.settings.xa}$a(e){return new rp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Fa(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.$a({path:n,Oa:!1});return r.Ma(e),r}La(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.$a({path:n,Oa:!1});return r.ka(),r}Ba(e){return this.$a({path:void 0,Oa:!0})}Ua(e){return kp(e,this.settings.methodName,this.settings.qa||!1,this.path,this.settings.Ka)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}ka(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ma(this.path.get(e))}Ma(e){if(0===e.length)throw this.Ua("Document fields must not be empty");if(np(this.xa)&&Zf.test(e))throw this.Ua('Document fields cannot begin and end with "__"')}}class ip{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.k=n||Sh(e)}ja(e,t,n,r=!1){return new rp({xa:e,methodName:t,Ka:n,path:Qs.emptyPath(),Oa:!1,qa:r},this.databaseId,this.k,this.ignoreUndefinedProperties)}}function sp(e){const t=e._freezeSettings(),n=Sh(e._databaseId);return new ip(e._databaseId,!!t.ignoreUndefinedProperties,n)}function op(e,t,n,r,i,s={}){const o=e.ja(s.merge||s.mergeFields?2:0,t,n,i);wp("Data must be an object, but it was:",o,r);const a=yp(r,o);let l,u;if(s.merge)l=new Ys(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=bp(t,r,n);if(!o.contains(i))throw new Ts(_s.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);_p(e,i)||e.push(i)}l=new Ys(e),u=o.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,u=o.fieldTransforms;return new ep(new _o(a),l,u)}class ap extends Xf{_toFieldTransform(e){if(2!==e.xa)throw 1===e.xa?e.Ua(`${this._methodName}() can only appear at the top level of your update data`):e.Ua(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ap}}function lp(e,t,n){return new rp({xa:3,Ka:t.settings.Ka,methodName:e._methodName,Oa:n},t.databaseId,t.k,t.ignoreUndefinedProperties)}class up extends Xf{_toFieldTransform(e){return new Ta(e.path,new ya)}isEqual(e){return e instanceof up}}class cp extends Xf{constructor(e,t){super(e),this.Qa=t}_toFieldTransform(e){const t=lp(this,e,!0),n=this.Qa.map((e=>gp(e,t))),r=new va(n);return new Ta(e.path,r)}isEqual(e){return this===e}}class hp extends Xf{constructor(e,t){super(e),this.Qa=t}_toFieldTransform(e){const t=lp(this,e,!0),n=this.Qa.map((e=>gp(e,t))),r=new ba(n);return new Ta(e.path,r)}isEqual(e){return this===e}}class dp extends Xf{constructor(e,t){super(e),this.Wa=t}_toFieldTransform(e){const t=new Sa(e.k,da(e.k,this.Wa));return new Ta(e.path,t)}isEqual(e){return this===e}}function fp(e,t,n,r){const i=e.ja(1,t,n);wp("Data must be an object, but it was:",i,r);const s=[],o=_o.empty();$s(r,((e,r)=>{const a=Sp(t,e,n);r=pe(r);const l=i.La(a);if(r instanceof ap)s.push(a);else{const e=gp(r,l);null!=e&&(s.push(a),o.set(a,e))}}));const a=new Ys(s);return new tp(o,a,i.fieldTransforms)}function pp(e,t,n,r,i,s){const o=e.ja(1,t,n),a=[bp(t,r,n)],l=[i];if(s.length%2!=0)throw new Ts(_s.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let e=0;e<s.length;e+=2)a.push(bp(t,s[e])),l.push(s[e+1]);const u=[],c=_o.empty();for(let e=a.length-1;e>=0;--e)if(!_p(u,a[e])){const t=a[e];let n=l[e];n=pe(n);const r=o.La(t);if(n instanceof ap)u.push(t);else{const e=gp(n,r);null!=e&&(u.push(t),c.set(t,e))}}const h=new Ys(u);return new tp(c,h,o.fieldTransforms)}function mp(e,t,n,r=!1){return gp(n,e.ja(r?4:3,t))}function gp(e,t){if(vp(e=pe(e)))return wp("Unsupported field value:",t,e),yp(e,t);if(e instanceof Xf)return function(e,t){if(!np(t.xa))throw t.Ua(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Ua(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Oa&&4!==t.xa)throw t.Ua("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=gp(i,t.Ba(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=pe(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return da(t.k,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=js.fromDate(e);return{timestampValue:bl(t.k,n)}}if(e instanceof js){const n=new js(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:bl(t.k,n)}}if(e instanceof Jf)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Yf)return{bytesValue:El(t.k,e._byteString)};if(e instanceof Pf){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Ua(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:_l(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Ua(`Unsupported field value: ${Nf(e)}`)}(e,t)}function yp(e,t){const n={};return Ks(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):$s(e,((e,r)=>{const i=gp(r,t.Fa(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function vp(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof js||e instanceof Jf||e instanceof Yf||e instanceof Pf||e instanceof Xf)}function wp(e,t,n){if(!vp(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Nf(n);throw"an object"===r?t.Ua(e+" a custom object"):t.Ua(e+" "+r)}}function bp(e,t,n){if((t=pe(t))instanceof Qf)return t._internalPath;if("string"==typeof t)return Sp(e,t);throw kp("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}const Ep=new RegExp("[~\\*/\\[\\]]");function Sp(e,t,n){if(t.search(Ep)>=0)throw kp(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Qf(...t.split("."))._internalPath}catch(r){throw kp(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function kp(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Ts(_s.INVALID_ARGUMENT,a+e+l)}function _p(e,t){return e.some((e=>e.isEqual(t)))}class Tp{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Pf(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Ip(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(xp("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Ip extends Tp{data(){return super.data()}}function xp(e,t){return"string"==typeof t?Sp(e,t):t instanceof Qf?t._internalPath:t._delegate._internalPath}class Cp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Np extends Tp{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ap(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(xp("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Ap extends Np{data(e={}){return super.data(e)}}class Dp{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Cp(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Ap(this._firestore,this._userDataWriter,n.key,n,new Cp(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ts(_s.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>({type:"added",doc:new Ap(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Cp(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:t++})))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new Ap(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Cp(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:Lp(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Lp(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Es()}}function Op(e,t){return e instanceof Np&&t instanceof Np?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Dp&&t instanceof Dp&&e._firestore===t._firestore&&Bf(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Pp(e){if(Xo(e)&&0===e.explicitOrderBy.length)throw new Ts(_s.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Rp{}function Mp(e,...t){for(const n of t)e=n._apply(e);return e}class Fp extends Rp{constructor(e,t,n){super(),this.Ga=e,this.za=t,this.Ha=n,this.type="where"}_apply(e){const t=sp(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Ts(_s.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on FieldPath.documentId().`);if("in"===s||"not-in"===s){Hp(o,s);const t=[];for(const n of o)t.push(Kp(r,e,n));a={arrayValue:{values:t}}}else a=Kp(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Hp(o,s),a=mp(n,"where",o,"in"===s||"not-in"===s);const l=Lo.create(i,s,a);return function(e,t){if(t.V()){const n=Zo(e);if(null!==n&&!n.isEqual(t.field))throw new Ts(_s.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${t.field.toString()}'`);const r=Jo(e);null!==r&&Wp(0,t.field,r)}const n=function(e,t){for(const n of e.filters)if(t.indexOf(n.op)>=0)return n.op;return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Ts(_s.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Ts(_s.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}(e,l),l}(e._query,0,t,e.firestore._databaseId,this.Ga,this.za,this.Ha);return new Rf(e.firestore,e.converter,function(e,t){const n=e.filters.concat([t]);return new Wo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}function Up(e,t,n){const r=t,i=xp("where",e);return new Fp(i,r,n)}class Vp extends Rp{constructor(e,t){super(),this.Ga=e,this.Ja=t,this.type="orderBy"}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Ts(_s.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Ts(_s.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new qo(t,n);return function(e,t){if(null===Jo(e)){const n=Zo(e);null!==n&&Wp(0,n,t.field)}}(e,r),r}(e._query,this.Ga,this.Ja);return new Rf(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Wo(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function Bp(e,t="asc"){const n=t,r=xp("orderBy",e);return new Vp(r,n)}class jp extends Rp{constructor(e,t,n){super(),this.type=e,this.Ya=t,this.Xa=n}_apply(e){return new Rf(e.firestore,e.converter,ra(e._query,this.Ya,this.Xa))}}class zp extends Rp{constructor(e,t,n){super(),this.type=e,this.Za=t,this.tc=n}_apply(e){const t=$p(e,this.type,this.Za,this.tc);return new Rf(e.firestore,e.converter,function(e,t){return new Wo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class qp extends Rp{constructor(e,t,n){super(),this.type=e,this.Za=t,this.tc=n}_apply(e){const t=$p(e,this.type,this.Za,this.tc);return new Rf(e.firestore,e.converter,function(e,t){return new Wo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function $p(e,t,n,r){if(n[0]=pe(n[0]),n[0]instanceof Tp)return function(e,t,n,r,i){if(!r)throw new Ts(_s.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const s=[];for(const n of ta(e))if(n.field.isKeyField())s.push(yo(t,r.key));else{const e=r.data.field(n.field);if(no(e))throw new Ts(_s.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+n.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=n.field.canonicalString();throw new Ts(_s.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${e}' (used as the orderBy) does not exist.`)}s.push(e)}return new jo(s,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=sp(e.firestore);return function(e,t,n,r,i,s){const o=e.explicitOrderBy;if(i.length>o.length)throw new Ts(_s.INVALID_ARGUMENT,`Too many arguments provided to ${r}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const a=[];for(let s=0;s<i.length;s++){const l=i[s];if(o[s].field.isKeyField()){if("string"!=typeof l)throw new Ts(_s.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${r}(), but got a ${typeof l}`);if(!ea(e)&&-1!==l.indexOf("/"))throw new Ts(_s.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${r}() must be a plain document ID, but '${l}' contains a slash.`);const n=e.path.child(Ws.fromString(l));if(!lo.isDocumentKey(n))throw new Ts(_s.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${r}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const i=new lo(n);a.push(yo(t,i))}else{const e=mp(n,r,l);a.push(e)}}return new jo(a,s)}(e._query,e.firestore._databaseId,i,t,n,r)}}function Kp(e,t,n){if("string"==typeof(n=pe(n))){if(""===n)throw new Ts(_s.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!ea(t)&&-1!==n.indexOf("/"))throw new Ts(_s.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Ws.fromString(n));if(!lo.isDocumentKey(r))throw new Ts(_s.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return yo(e,new lo(r))}if(n instanceof Pf)return yo(e,n._key);throw new Ts(_s.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${Nf(n)}.`)}function Hp(e,t){if(!Array.isArray(e)||0===e.length)throw new Ts(_s.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(e.length>10)throw new Ts(_s.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function Wp(e,t,n){if(!n.isEqual(t))throw new Ts(_s.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class Gp{convertValue(e,t="none"){switch(uo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return eo(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(to(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Es()}}convertObject(e,t){const n={};return $s(e.fields,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new Jf(eo(e.latitude),eo(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=ro(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(io(e));default:return null}}convertTimestamp(e){const t=Zs(e);return new js(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Ws.fromString(e);Ss(Ql(n));const r=new kf(n.get(1),n.get(3)),i=new lo(n.popFirst(5));return r.isEqual(t)||vs(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function Qp(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Yp extends Gp{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yf(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Pf(this.firestore,null,t)}}class Xp{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=sp(e)}set(e,t,n){this._verifyNotCommitted();const r=Jp(e,this._firestore),i=Qp(r.converter,t,n),s=op(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,xa.none())),this}update(e,t,n,...r){this._verifyNotCommitted();const i=Jp(e,this._firestore);let s;return s="string"==typeof(t=pe(t))||t instanceof Qf?pp(this._dataReader,"WriteBatch.update",i._key,t,n,r):fp(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(s.toMutation(i._key,xa.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Jp(e,this._firestore);return this._mutations=this._mutations.concat(new Ba(t._key,xa.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ts(_s.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Jp(e,t){if((e=pe(e)).firestore!==t)throw new Ts(_s.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class Zp extends Gp{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yf(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Pf(this.firestore,null,t)}}function em(e){e=Af(e,Rf);const t=Af(e.firestore,$f),n=Kf(t),r=new Zp(t);return Pp(e._query),Ef(n,e._query).then((n=>new Dp(t,r,e,n)))}function tm(e,t,n){e=Af(e,Pf);const r=Af(e.firestore,$f),i=Qp(e.converter,t,n);return im(r,[op(sp(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,xa.none())])}function nm(e,t,n,...r){e=Af(e,Pf);const i=Af(e.firestore,$f),s=sp(i);let o;return o="string"==typeof(t=pe(t))||t instanceof Qf?pp(s,"updateDoc",e._key,t,n,r):fp(s,"updateDoc",e._key,t),im(i,[o.toMutation(e._key,xa.exists(!0))])}function rm(e,...t){var n,r,i;e=pe(e);let s={includeMetadataChanges:!1},o=0;"object"!=typeof t[o]||zf(t[o])||(s=t[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(zf(t[o])){const e=t[o];t[o]=null===(n=e.next)||void 0===n?void 0:n.bind(e),t[o+1]=null===(r=e.error)||void 0===r?void 0:r.bind(e),t[o+2]=null===(i=e.complete)||void 0===i?void 0:i.bind(e)}let l,u,c;if(e instanceof Pf)u=Af(e.firestore,$f),c=Qo(e._key.path),l={next:n=>{t[o]&&t[o](sm(u,e,n))},error:t[o+1],complete:t[o+2]};else{const n=Af(e,Rf);u=Af(n.firestore,$f),c=n._query;const r=new Zp(u);l={next:e=>{t[o]&&t[o](new Dp(u,r,n,e))},error:t[o+1],complete:t[o+2]},Pp(e._query)}return function(e,t,n,r){const i=new of(r),s=new md(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>cd(await wf(e),s))),()=>{i.na(),e.asyncQueue.enqueueAndForget((async()=>hd(await wf(e),s)))}}(Kf(u),c,a,l)}function im(e,t){return function(e,t){const n=new Is;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=Zd(e);try{const e=await function(e,t){const n=ks(e),r=js.now(),i=t.reduce(((e,t)=>e.add(t.key)),sl());let s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>n.Wn.vn(e,i).next((i=>{s=i;const o=[];for(const e of t){const t=La(e,s.get(e.key));null!=t&&o.push(new Ma(e.key,t,To(t.value.mapValue),xa.exists(!0)))}return n.An.addMutationBatch(e,r,o,t)})))).then((e=>(e.applyToLocalDocumentSet(s),{batchId:e.batchId,changes:s})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Ko[e.currentUser.toKey()];r||(r=new Wa(Us)),r=r.insert(t,n),e.Ko[e.currentUser.toKey()]=r}(r,e.batchId,n),await jd(r,e.changes),await Kh(r.remoteStore)}catch(e){const t=id(e,"Failed to persist write");n.reject(t)}}(await vf(e),t,n))),n.promise}(Kf(e),t)}function sm(e,t,n){const r=n.docs.get(t._key),i=new Zp(e);return new Np(e,i,t._key,r,new Cp(n.hasPendingWrites,n.fromCache),t.converter)}class om extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=sp(e)}get(e){const t=Jp(e,this._firestore),n=new Yp(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return Es();const r=e[0];if(r.isFoundDocument())return new Tp(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new Tp(this._firestore,n,t._key,null,t.converter);throw Es()}))}set(e,t,n){const r=Jp(e,this._firestore),i=Qp(r.converter,t,n),s=op(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(e,t,n,...r){const i=Jp(e,this._firestore);let s;return s="string"==typeof(t=pe(t))||t instanceof Qf?pp(this._dataReader,"Transaction.update",i._key,t,n,r):fp(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,s),this}delete(e){const t=Jp(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Jp(e,this._firestore),n=new Zp(this._firestore);return super.get(e).then((e=>new Np(this._firestore,n,t._key,e._document,new Cp(!1,!1),t.converter)))}}function am(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Ts("invalid-argument",`Invalid options passed to function ${e}(): You cannot specify both "merge" and "mergeFields".`);return t}function lm(){if("undefined"==typeof Uint8Array)throw new Ts("unimplemented","Uint8Arrays are not available in this environment.")}function um(){if("undefined"==typeof atob)throw new Ts("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,t=!0){!function(e){ps=e}(ze),Me(new me("firestore",((e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=new $f(r,new As(e.getProvider("auth-internal")),new Ps(e.getProvider("app-check-internal")));return n=Object.assign({useFetchStreams:t},n),i._setSettings(n),i}),"PUBLIC")),We(ds,"3.4.1",e),We(ds,"3.4.1","esm2017")}();class cm{constructor(e){this._delegate=e}static fromBase64String(e){return um(),new cm(Yf.fromBase64String(e))}static fromUint8Array(e){return lm(),new cm(Yf.fromUint8Array(e))}toBase64(){return um(),this._delegate.toBase64()}toUint8Array(){return lm(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function hm(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const e of["next","error","complete"])if(e in n&&"function"==typeof n[e])return!0;return!1}(e)}class dm{enableIndexedDbPersistence(e,t){return function(e,t){Gf(e=Af(e,$f));const n=Kf(e),r=e._freezeSettings(),i=new rf;return Wf(n,i,new tf(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){Gf(e=Af(e,$f));const t=Kf(e),n=e._freezeSettings(),r=new rf;return Wf(t,r,new nf(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new Ts(_s.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Is;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!Eu.bt())return Promise.resolve();const t=e+"main";await Eu.delete(t)}(Lc(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}(e._delegate)}}class fm{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof kf||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||ws("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,n={}){!function(e,t,n,r={}){var i;const s=(e=Af(e,Of))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==t&&ws("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},s),{host:`${t}:${n}`,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=fs.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[te(JSON.stringify({alg:"none",type:"JWT"})),te(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new Ts(_s.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new fs(s)}e._authCredentials=new Ns(new xs(t,n))}}(this._delegate,e,t,n)}enableNetwork(){return function(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await mf(e),n=await yf(e);return t.setNetworkEnabled(!0),function(e){const t=ks(e);return t.Gr.delete(0),Ah(t)}(n)}))}(Kf(e=Af(e,$f)))}(this._delegate)}disableNetwork(){return function(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await mf(e),n=await yf(e);return t.setNetworkEnabled(!1),async function(e){const t=ks(e);t.Gr.add(0),await Dh(t),t.Jr.set("Offline")}(n)}))}(Kf(e=Af(e,$f)))}(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,If("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(e){return function(e){const t=new Is;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=ks(e);Uh(n.remoteStore)||ys("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=ks(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.An.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.jo.get(e)||[];r.push(t),n.jo.set(e,r)}catch(e){const n=id(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await vf(e),t))),t.promise}(Kf(e=Af(e,$f)))}(this._delegate)}onSnapshotsInSync(e){return function(e,t){return function(e,t){const n=new of(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){ks(e).io.add(t),t.next()}(await wf(e),n))),()=>{n.na(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){ks(e).io.delete(t)}(await wf(e),n)))}}(Kf(e=Af(e,$f)),zf(t)?t:{next:t})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ts("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new xm(this,Ff(this._delegate,e))}catch(e){throw wm(e,"collection()","Firestore.collection()")}}doc(e){try{return new vm(this,Uf(this._delegate,e))}catch(e){throw wm(e,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new _m(this,function(e,t){if(e=Af(e,Of),Tf("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Ts(_s.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Rf(e,null,function(e){return new Wo(Ws.emptyPath(),e)}(t))}(this._delegate,e))}catch(e){throw wm(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t){return function(e,t){const n=new Is;return e.asyncQueue.enqueueAndForget((async()=>{const r=await function(e){return pf(e).then((e=>e.datastore))}(e);new uf(e.asyncQueue,r,t,n).run()})),n.promise}(Kf(e=Af(e,$f)),(n=>t(new om(e,n))))}(this._delegate,(t=>e(new mm(this,t))))}batch(){return Kf(this._delegate),new gm(new Xp(this._delegate,(e=>im(this._delegate,e))))}loadBundle(e){return function(e,t){const n=Kf(e=Af(e,$f)),r=new qf;return function(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?(new TextEncoder).encode(e):e,function(e,t){return new af(e,t)}(function(e,t){if(e instanceof Uint8Array)return sf(e,t);if(e instanceof ArrayBuffer)return sf(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,Sh(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=ks(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=ks(e),r=kl(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.Ye.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),void n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r));n._updateProgress(wd(r));const i=new vd(r,e.localStore,t.k);let s=await t.Ho();for(;s;){const e=await i.yo(s);e&&n._updateProgress(e),s=await t.Ho()}const o=await i.complete();await jd(e,o.In,void 0),await function(e,t){const n=ks(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.Ye.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(o.progress)}catch(e){ws("SyncEngine",`Loading bundle failed with ${e}`),n._failWith(e)}})(r,t,n).then((()=>{r.sharedClientState.notifyBundleLoaded()}))}(await vf(e),i,r)}))}(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return function(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=ks(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.Ye.getNamedQuery(e,t)))}(await gf(e),t)))}(Kf(e=Af(e,$f)),t).then((t=>t?new Rf(e,null,t.query):null))}(this._delegate,e).then((e=>e?new _m(this,e):null))}}class pm extends Gp{constructor(e){super(),this.firestore=e}convertBytes(e){return new cm(new Yf(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return vm.forKey(t,this.firestore,null)}}class mm{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new pm(e)}get(e){const t=Cm(e);return this._delegate.get(t).then((e=>new Sm(this._firestore,new Np(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const r=Cm(e);return n?(am("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n,...r){const i=Cm(e);return 2===arguments.length?this._delegate.update(i,t):this._delegate.update(i,t,n,...r),this}delete(e){const t=Cm(e);return this._delegate.delete(t),this}}class gm{constructor(e){this._delegate=e}set(e,t,n){const r=Cm(e);return n?(am("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n,...r){const i=Cm(e);return 2===arguments.length?this._delegate.update(i,t):this._delegate.update(i,t,n,...r),this}delete(e){const t=Cm(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class ym{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new Ap(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new km(this._firestore,n),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=ym.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new ym(e,new pm(e),t),r.set(t,i)),i}}ym.INSTANCES=new WeakMap;class vm{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new pm(e)}static forPath(e,t,n){if(e.length%2!=0)throw new Ts("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new vm(t,new Pf(t._delegate,n,new lo(e)))}static forKey(e,t,n){return new vm(t,new Pf(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new xm(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new xm(this.firestore,Ff(this._delegate,e))}catch(e){throw wm(e,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=pe(e))instanceof Pf&&Vf(this._delegate,e)}set(e,t){t=am("DocumentReference.set",t);try{return t?tm(this._delegate,e,t):tm(this._delegate,e)}catch(e){throw wm(e,"setDoc()","DocumentReference.set()")}}update(e,t,...n){try{return 1===arguments.length?nm(this._delegate,e):nm(this._delegate,e,t,...n)}catch(e){throw wm(e,"updateDoc()","DocumentReference.update()")}}delete(){return function(e){return im(Af(e.firestore,$f),[new Ba(e._key,xa.none())])}(this._delegate)}onSnapshot(...e){const t=bm(e),n=Em(e,(e=>new Sm(this.firestore,new Np(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return rm(this._delegate,t,n)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(e){e=Af(e,Pf);const t=Af(e.firestore,$f),n=Kf(t),r=new Zp(t);return function(e,t){const n=new Is;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=ks(e);return n.persistence.runTransaction("read document","readonly",(e=>n.Wn.Rn(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new Ts(_s.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=id(e,`Failed to get document '${t} from cache`);n.reject(r)}}(await gf(e),t,n))),n.promise}(n,e._key).then((n=>new Np(t,r,e._key,n,new Cp(null!==n&&n.hasLocalMutations,!0),e.converter)))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Af(e,Pf);const t=Af(e.firestore,$f);return bf(Kf(t),e._key,{source:"server"}).then((n=>sm(t,e,n)))}(this._delegate):function(e){e=Af(e,Pf);const t=Af(e.firestore,$f);return bf(Kf(t),e._key).then((n=>sm(t,e,n)))}(this._delegate),t.then((e=>new Sm(this.firestore,new Np(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new vm(this.firestore,e?this._delegate.withConverter(ym.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function wm(e,t,n){return e.message=e.message.replace(t,n),e}function bm(e){for(const t of e)if("object"==typeof t&&!hm(t))return t;return{}}function Em(e,t){var n,r;let i;return i=hm(e[0])?e[0]:hm(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Sm{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new vm(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Op(this._delegate,e._delegate)}}class km extends Sm{data(e){const t=this._delegate.data(e);return function(e,t){e||Es()}(void 0!==t),t}}class _m{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new pm(e)}where(e,t,n){try{return new _m(this.firestore,Mp(this._delegate,Up(e,t,n)))}catch(e){throw wm(e,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new _m(this.firestore,Mp(this._delegate,Bp(e,t)))}catch(e){throw wm(e,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new _m(this.firestore,Mp(this._delegate,function(e){return Df("limit",e),new jp("limit",e,"F")}(e)))}catch(e){throw wm(e,"limit()","Query.limit()")}}limitToLast(e){try{return new _m(this.firestore,Mp(this._delegate,function(e){return Df("limitToLast",e),new jp("limitToLast",e,"L")}(e)))}catch(e){throw wm(e,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new _m(this.firestore,Mp(this._delegate,function(...e){return new zp("startAt",e,!0)}(...e)))}catch(e){throw wm(e,"startAt()","Query.startAt()")}}startAfter(...e){try{return new _m(this.firestore,Mp(this._delegate,function(...e){return new zp("startAfter",e,!1)}(...e)))}catch(e){throw wm(e,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new _m(this.firestore,Mp(this._delegate,function(...e){return new qp("endBefore",e,!0)}(...e)))}catch(e){throw wm(e,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new _m(this.firestore,Mp(this._delegate,function(...e){return new qp("endAt",e,!1)}(...e)))}catch(e){throw wm(e,"endAt()","Query.endAt()")}}isEqual(e){return Bf(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(e){e=Af(e,Rf);const t=Af(e.firestore,$f),n=Kf(t),r=new Zp(t);return function(e,t){const n=new Is;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await Kc(e,t,!0),i=new Sd(t,r.zn),s=i.bo(r.documents),o=i.applyChanges(s,!1);n.resolve(o.snapshot)}catch(e){const r=id(e,`Failed to execute query '${t} against cache`);n.reject(r)}}(await gf(e),t,n))),n.promise}(n,e._query).then((n=>new Dp(t,r,e,n)))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Af(e,Rf);const t=Af(e.firestore,$f),n=Kf(t),r=new Zp(t);return Ef(n,e._query,{source:"server"}).then((n=>new Dp(t,r,e,n)))}(this._delegate):em(this._delegate),t.then((e=>new Im(this.firestore,new Dp(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(...e){const t=bm(e),n=Em(e,(e=>new Im(this.firestore,new Dp(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return rm(this._delegate,t,n)}withConverter(e){return new _m(this.firestore,e?this._delegate.withConverter(ym.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class Tm{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new km(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Im{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new _m(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new km(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new Tm(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new km(this._firestore,n))}))}isEqual(e){return Op(this._delegate,e._delegate)}}class xm extends _m{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new vm(this.firestore,e):null}doc(e){try{return new vm(this.firestore,void 0===e?Uf(this._delegate):Uf(this._delegate,e))}catch(e){throw wm(e,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=Af(e.firestore,$f),r=Uf(e),i=Qp(e.converter,t);return im(n,[op(sp(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,xa.exists(!1))]).then((()=>r))}(this._delegate,e).then((e=>new vm(this.firestore,e)))}isEqual(e){return Vf(this._delegate,e._delegate)}withConverter(e){return new xm(this.firestore,e?this._delegate.withConverter(ym.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Cm(e){return Af(e,Pf)}class Nm{constructor(...e){this._delegate=new Qf(...e)}static documentId(){return new Nm(Qs.keyField().canonicalString())}isEqual(e){return(e=pe(e))instanceof Qf&&this._delegate._internalPath.isEqual(e._internalPath)}}class Am{constructor(e){this._delegate=e}static serverTimestamp(){const e=new up("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new Am(e)}static delete(){const e=new ap("deleteField");return e._methodName="FieldValue.delete",new Am(e)}static arrayUnion(...e){const t=function(...e){return new cp("arrayUnion",e)}(...e);return t._methodName="FieldValue.arrayUnion",new Am(t)}static arrayRemove(...e){const t=function(...e){return new hp("arrayRemove",e)}(...e);return t._methodName="FieldValue.arrayRemove",new Am(t)}static increment(e){const t=function(e){return new dp("increment",e)}(e);return t._methodName="FieldValue.increment",new Am(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Dm={Firestore:fm,GeoPoint:Jf,Timestamp:js,Blob:cm,Transaction:mm,WriteBatch:gm,DocumentReference:vm,DocumentSnapshot:Sm,Query:_m,QueryDocumentSnapshot:km,QuerySnapshot:Im,CollectionReference:xm,FieldPath:Nm,FieldValue:Am,setLogLevel:function(e){!function(e){ms.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};var Lm;function Om(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Om(Object(n),!0).forEach((function(t){G(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Om(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}(function(e,t){e.INTERNAL.registerComponent(new me("firestore-compat",(e=>((e,t)=>new fm(e,t,new dm))(e.getProvider("app-compat").getImmediate(),e.getProvider("firestore").getImmediate())),"PUBLIC").setServiceProps(Object.assign({},Dm)))})(Lm=et),Lm.registerVersion("@firebase/firestore-compat","0.1.10"),We("firebase","9.6.1","app");var Rm={apiKey:"AIzaSyCSECzsBn4zc3ms6cWeN-l1w2PHvjRt_kg",authDomain:"reactfirebase-770c2.firebaseapp.com",databaseURL:"https://reactfirebase-770c2-default-rtdb.europe-west1.firebasedatabase.app",projectId:"reactfirebase-770c2",storageBucket:"reactfirebase-770c2.appspot.com",messagingSenderId:"550374389354",appId:"1:550374389354:web:0fc514e8d96ae3d7b7bc13",measurementId:"G-FL0RN2T35H"},Mm=function(e=$e()){return Fe(e,"firestore").getImmediate()}(qe(Rm)),Fm=Ff(Mm,"tables");et.initializeApp(Rm);var Um=et.firestore(),Vm=function(){var e=Y(J().mark((function e(){var t,n,r;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Mp(Fm,Bp("tableNumber","asc")),e.next=3,em(t);case 3:return n=e.sent,r=n.docs.map((function(e){return Pm(Pm({},e.data()),{},{id:e.id})})),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Bm=function(){var e=Y(J().mark((function e(t){var n,r,i;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Mp(Fm,Up("tableNumber","==",t)),e.next=3,em(n);case 3:return r=e.sent,i=r.docs.map((function(e){return Pm(Pm({},e.data()),{},{id:e.id})})),e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),jm=function(){var e=Y(J().mark((function e(t,n,r,i){var s,o;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={seatNumber:t,userName:n,endTime:r,isOccupied:i},o=Uf(Mm,"tables","".concat(t)),e.next=4,tm(o,s);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),zm=function(){var e=Y(J().mark((function e(t){var n,r;return J().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={seatNumber:t,name:"",endTime:"",isOccupied:!1},r=Uf(Mm,"tables","".concat(t)),e.next=4,tm(r,n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),qm={getAllTables:Vm,updateTable:jm,deleteTable:zm,getTable:Bm,getDataToArray:function(e){var t=[];return e.then((function(e){return t.push(e)})),t}},$m=function(e){var n=e.seatNumber,r=(e.hide,_((0,t.useState)(),2)),i=r[0],s=r[1],o=_((0,t.useState)(),2),a=o[0],l=o[1];return t.createElement("div",{className:"checkInModal-container"},t.createElement("span",{className:"checkInModal-item",id:"checkInModal-title"}," ",n),t.createElement("div",{className:"checkInModal-item"},t.createElement(z,{identification:"",title:"",type:"text",formHint:"",formValue:"",isDisabled:!1,setData:s}),t.createElement(z,{identification:"",title:"",type:"select",formHint:"",dataSet:function(){for(var e=(new Date).getHours(),t=[],n=0;n<24-e;n++)t[n]={key:n+1,contents:"".concat(e+n+1,":00")};return t.push({key:t.length+1,contents:"none"}),t}(),isDisabled:!1,setData:l})),t.createElement("div",{className:"checkInModal-item"},t.createElement(K,{buttonType:"submit",title:"  ",clickEvent:function(){var e="".concat(i," ").concat(n,"  ").concat(a," ?");void 0===i?alert(" "):void 0===a?alert("  "):confirm(e)&&(qm.updateTable(n,i,a,!0),alert("".concat(i," ").concat(n,"  ").concat(a,"   .")))}})))},Km=n(56),Hm={};Hm.styleTagTransform=m(),Hm.setAttributes=h(),Hm.insert=u().bind(null,"head"),Hm.domAPI=a(),Hm.insertStyleElement=f(),s()(Km.Z,Hm),Km.Z&&Km.Z.locals&&Km.Z.locals;var Wm=function(e){var n=e.seatNumber,r=e.hide,i=_((0,t.useState)(),2),s=i[0],o=i[1],a=(0,t.useContext)(Jm)[n].userName;return t.createElement("div",{className:"checkoutModal-container"},t.createElement("span",{className:"checkoutModal-item",id:"checkoutModal-title"}," ",n),t.createElement("div",{className:"checkoutModal-item"},t.createElement(z,{identification:"",title:"",type:"text",isDisabled:!0,formValue:a}),t.createElement(z,{identification:"",title:"",type:"select",formHint:"",dataSet:function(){for(var e=(new Date).getHours(),t=[],n=0;n<24-e;n++)t[n]={key:n+1,contents:"".concat(e+n+1,":00")};return t.push({key:t.length+1,contents:"none"}),t}(),isDisabled:!1,setData:o})),t.createElement("div",{className:"checkoutModal-item",id:"extensionButton"},t.createElement(K,{buttonType:"submit",title:" ",clickEvent:function(){var e="".concat(a," ").concat(n,"  ").concat(s," ?");void 0===s?alert("  "):confirm(e)&&(qm.updateTable(n,a,s,!0),alert("".concat(a," ").concat(n,"  ").concat(s,"   .")))}})),t.createElement("hr",{className:"horizontalRules"}),t.createElement("div",{className:"checkoutModal-item",id:"checkoutButton"},t.createElement(K,{buttonType:"submit",title:"   ",clickEvent:function(){var e="".concat(a," ").concat(n,"  ?");confirm(e)&&(qm.deleteTable(n),alert("".concat(a," ").concat(n,"  .")),r())}})))},Gm=function(e){var n=e.seatId,r=e.seatNumber,i=e.isOccupied,s=e.seatInfo,o=T(),a=o.isShowing,l=o.toggle,u=i?"seat seat-occupied":"seat seat-vacant",c=i?"seat-number seat-number-occupied":"seat-number seat-number-vacant",h=i?s:"";return t.createElement(t.Fragment,null,t.createElement("button",{type:"button",id:n,className:u,onClick:l},t.createElement("div",{className:c},r),t.createElement("div",{className:"seat-info"},h)),t.createElement(N,{isShowing:a,hide:l},function(e){return i?t.createElement(Wm,{seatNumber:r,hide:e}):t.createElement($m,{seatNumber:r,hide:e})}(l)))},Qm=function(e){var n=e.seatArray;return t.createElement("div",{className:"seatMap-container"},n.map((function(e){return t.createElement(Gm,{key:e.seatNumber,seatId:"seat".concat(e.seatNumber),seatNumber:e.seatNumber,isOccupied:e.isOccupied,seatInfo:e.endTime})})))},Ym=n(358),Xm={};Xm.styleTagTransform=m(),Xm.setAttributes=h(),Xm.insert=u().bind(null,"head"),Xm.domAPI=a(),Xm.insertStyleElement=f(),s()(Ym.Z,Xm),Ym.Z&&Ym.Z.locals&&Ym.Z.locals;var Jm=(0,t.createContext)(),Zm=function(e){var n=e.total,r=n,i=_((0,t.useState)(n),2),s=i[0],o=i[1],a=_((0,t.useState)([]),2),l=a[0],u=a[1],c=_((0,t.useState)(),2),h=c[0],d=c[1];return(0,t.useEffect)((function(){d(!0),Um.collection("tables").orderBy("seatNumber","asc").onSnapshot((function(e){var t=[],n=0;e.docs.map((function(e){t.push(e.data()),0==e.data().isOccupied&&n++})),o(n),u(t),d(!1)}))}),[]),h?t.createElement("div",null,""):t.createElement(Jm.Provider,{value:l},t.createElement("div",{className:"seatDisplay-container"},t.createElement(R,{isOccupied:!0,seatsNumber:s}),t.createElement(R,{isOccupied:!1,seatsNumber:r-s}),t.createElement(Qm,{seatArray:l})))},eg=function(){return t.createElement("div",{className:"App"},t.createElement(L,{noticeTitle:"",noticeContent:" 2G Regel \n\n  1)  2    14 \n  2)      \n\n          . \n      .\n  ( :)\n\n  1)  2),      14 , \n          . \n   Geimpft Genesen     , \n       . \n  2G  Nachweis     .\n\n    \n  1.  12     (0)   11    . \n    13 .\n  2. 2021 11 22     .\n     ,       .\n\n     :\n  1)          .\n  2)          .\n  3)        .\n  4)            .\n  (   ,     .\n           . \n              . \n   (2 )          .)"}),t.createElement(Zm,{total:"12"}))};r.render(t.createElement(eg,null),document.getElementById("app"))}()}();